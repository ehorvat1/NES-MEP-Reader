static const char INDEX_JS[] PROGMEM = R"=="==((function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function l(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=l(i);fetch(i.href,s)}})();function ue(){}function It(t,e){for(const l in e)t[l]=e[l];return t}function Ka(t){return t()}function xr(){return Object.create(null)}function Oe(t){t.forEach(Ka)}function Va(t){return typeof t=="function"}function ve(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ui;function jf(t,e){return Ui||(Ui=document.createElement("a")),Ui.href=e,t===Ui.href}function Uf(t){return Object.keys(t).length===0}function Ls(t,...e){if(t==null)return ue;const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function Fn(t){let e;return Ls(t,l=>e=l)(),e}function Ut(t,e,l){t.$$.on_destroy.push(Ls(e,l))}function qs(t,e,l,n){if(t){const i=Qa(t,e,l,n);return t[0](i)}}function Qa(t,e,l,n){return t[1]&&n?It(l.ctx.slice(),t[1](n(e))):l.ctx}function Os(t,e,l,n){if(t[2]&&n){const i=t[2](n(l));if(e.dirty===void 0)return i;if(typeof i=="object"){const s=[],u=Math.max(e.dirty.length,i.length);for(let a=0;a<u;a+=1)s[a]=e.dirty[a]|i[a];return s}return e.dirty|i}return e.dirty}function js(t,e,l,n,i,s){if(i){const u=Qa(e,l,n,s);t.p(u,i)}}function Us(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let n=0;n<l;n++)e[n]=-1;return e}return-1}function Ki(t){const e={};for(const l in t)l[0]!=="$"&&(e[l]=t[l]);return e}function Vi(t,e){const l={};e=new Set(e);for(const n in t)!e.has(n)&&n[0]!=="$"&&(l[n]=t[n]);return l}function o(t,e){t.appendChild(e)}function C(t,e,l){t.insertBefore(e,l||null)}function y(t){t.parentNode.removeChild(t)}function pl(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function c(t){return document.createElement(t)}function Se(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t){return document.createTextNode(t)}function v(){return T(" ")}function He(){return T("")}function V(t,e,l,n){return t.addEventListener(e,l,n),()=>t.removeEventListener(e,l,n)}function Ji(t){return function(e){return e.preventDefault(),t.call(this,e)}}function r(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function Ht(t,e){const l=Object.getOwnPropertyDescriptors(t.__proto__);for(const n in e)e[n]==null?t.removeAttribute(n):n==="style"?t.style.cssText=e[n]:n==="__value"?t.value=t[n]=e[n]:l[n]&&l[n].set?t[n]=e[n]:r(t,n,e[n])}function ae(t){return t===""?null:+t}function Hf(t){return Array.from(t.childNodes)}function J(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function z(t,e){t.value=e==null?"":e}function Xa(t,e,l,n){l===null?t.style.removeProperty(e):t.style.setProperty(e,l,n?"important":"")}function Ne(t,e){for(let l=0;l<t.options.length;l+=1){const n=t.options[l];if(n.__value===e){n.selected=!0;return}}t.selectedIndex=-1}function Dt(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let Hi;function Wf(){if(Hi===void 0){Hi=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Hi=!0}}return Hi}function zf(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const n=c("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const i=Wf();let s;return i?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",s=V(window,"message",u=>{u.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=()=>{s=V(n.contentWindow,"resize",e)}),o(t,n),()=>{(i||s&&n.contentWindow)&&s(),y(n)}}function Bf(t,e,{bubbles:l=!1,cancelable:n=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(t,l,n,e),i}let Qn;function Yn(t){Qn=t}function Xn(){if(!Qn)throw new Error("Function called outside component initialization");return Qn}function Gf(t){Xn().$$.on_mount.push(t)}function Yf(t){Xn().$$.on_destroy.push(t)}function Kf(){const t=Xn();return(e,l,{cancelable:n=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=Bf(e,l,{cancelable:n});return i.slice().forEach(u=>{u.call(t,s)}),!s.defaultPrevented}return!0}}function Kn(t,e){return Xn().$$.context.set(t,e),e}function _l(t){return Xn().$$.context.get(t)}const Bn=[],Qi=[],Gi=[],eu=[],Za=Promise.resolve();let Cs=!1;function Ja(){Cs||(Cs=!0,Za.then(xa))}function Vf(){return Ja(),Za}function Ze(t){Gi.push(t)}const vs=new Set;let Wi=0;function xa(){const t=Qn;do{for(;Wi<Bn.length;){const e=Bn[Wi];Wi++,Yn(e),Qf(e.$$)}for(Yn(null),Bn.length=0,Wi=0;Qi.length;)Qi.pop()();for(let e=0;e<Gi.length;e+=1){const l=Gi[e];vs.has(l)||(vs.add(l),l())}Gi.length=0}while(Bn.length);for(;eu.length;)eu.pop()();Cs=!1,vs.clear(),Yn(t)}function Qf(t){if(t.fragment!==null){t.update(),Oe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ze)}}const Yi=new Set;let Il;function Ce(){Il={r:0,c:[],p:Il}}function $e(){Il.r||Oe(Il.c),Il=Il.p}function P(t,e){t&&t.i&&(Yi.delete(t),t.i(e))}function A(t,e,l,n){if(t&&t.o){if(Yi.has(t))return;Yi.add(t),Il.c.push(()=>{Yi.delete(t),n&&(l&&t.d(1),n())}),t.o(e)}else n&&n()}function In(t,e){const l={},n={},i={$$scope:1};let s=t.length;for(;s--;){const u=t[s],a=e[s];if(a){for(const f in u)f in a||(n[f]=1);for(const f in a)i[f]||(l[f]=a[f],i[f]=1);t[s]=a}else for(const f in u)i[f]=1}for(const u in n)u in l||(l[u]=void 0);return l}function tu(t){return typeof t=="object"&&t!==null?t:{}}function Q(t){t&&t.c()}function G(t,e,l,n){const{fragment:i,on_mount:s,on_destroy:u,after_update:a}=t.$$;i&&i.m(e,l),n||Ze(()=>{const f=s.map(Ka).filter(Va);u?u.push(...f):Oe(f),t.$$.on_mount=[]}),a.forEach(Ze)}function Y(t,e){const l=t.$$;l.fragment!==null&&(Oe(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function Xf(t,e){t.$$.dirty[0]===-1&&(Bn.push(t),Ja(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function he(t,e,l,n,i,s,u,a=[-1]){const f=Qn;Yn(t);const m=t.$$={fragment:null,ctx:null,props:s,update:ue,not_equal:i,bound:xr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:xr(),dirty:a,skip_bound:!1,root:e.target||f.$$.root};u&&u(m.root);let _=!1;if(m.ctx=l?l(t,e.props||{},(p,d,...b)=>{const h=b.length?b[0]:d;return m.ctx&&i(m.ctx[p],m.ctx[p]=h)&&(!m.skip_bound&&m.bound[p]&&m.bound[p](h),_&&Xf(t,p)),d}):[],m.update(),_=!0,Oe(m.before_update),m.fragment=n?n(m.ctx):!1,e.target){if(e.hydrate){const p=Hf(e.target);m.fragment&&m.fragment.l(p),p.forEach(y)}else m.fragment&&m.fragment.c();e.intro&&P(t.$$.fragment),G(t,e.target,e.anchor,e.customElement),xa()}Yn(f)}class ge{$destroy(){Y(this,1),this.$destroy=ue}$on(e,l){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(e){this.$$set&&!Uf(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const lu=t=>typeof t>"u",ef=t=>typeof t=="function",tf=t=>typeof t=="number";function Zf(t){return!t.defaultPrevented&&t.button===0&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lf(){let t=0;return()=>t++}function Jf(){return Math.random().toString(36).substring(2)}const dl=typeof window>"u";function nf(t,e,l){return t.addEventListener(e,l),()=>t.removeEventListener(e,l)}const $s=(t,e)=>t?{}:{style:e},Dn=t=>({"aria-hidden":"true",...$s(t,"display:none;")}),En=[];function sf(t,e){return{subscribe:We(t,e).subscribe}}function We(t,e=ue){let l;const n=new Set;function i(a){if(ve(t,a)&&(t=a,l)){const f=!En.length;for(const m of n)m[1](),En.push(m,t);if(f){for(let m=0;m<En.length;m+=2)En[m][0](En[m+1]);En.length=0}}}function s(a){i(a(t))}function u(a,f=ue){const m=[a,f];return n.add(m),n.size===1&&(l=e(i)||ue),a(t),()=>{n.delete(m),n.size===0&&(l(),l=null)}}return{set:i,update:s,subscribe:u}}function xf(t,e,l){const n=!Array.isArray(t),i=n?[t]:t,s=e.length<2;return sf(l,u=>{let a=!1;const f=[];let m=0,_=ue;const p=()=>{if(m)return;_();const b=e(n?f[0]:f,u);s?u(b):_=Va(b)?b:ue},d=i.map((b,h)=>Ls(b,g=>{f[h]=g,m&=~(1<<h),a&&p()},()=>{m|=1<<h}));return a=!0,p(),function(){Oe(d),_()}})}const Zn=t=>`@@svnav-ctx__${t}`,Ss=Zn("LOCATION"),Nn=Zn("ROUTER"),of=Zn("ROUTE"),ec=Zn("ROUTE_PARAMS"),tc=Zn("FOCUS_ELEM"),rf=/^:(.+)/,Gn=(t,e,l)=>t.substr(e,l),Ts=(t,e)=>Gn(t,0,e.length)===e,lc=t=>t==="",nc=t=>rf.test(t),uf=t=>t[0]==="*",ic=t=>t.replace(/\*.*$/,""),af=t=>t.replace(/(^\/+|\/+$)/g,"");function zt(t,e=!1){const l=af(t).split("/");return e?l.filter(Boolean):l}const hs=(t,e)=>t+(e?`?${e}`:""),Hs=t=>`/${af(t)}`;function Jn(...t){const e=n=>zt(n,!0).join("/"),l=t.map(e).join("/");return Hs(l)}const Ws=1,xi=2,Ol=3,sc=4,ff=5,oc=6,cf=7,rc=8,uc=9,mf=10,pf=11,ac={[Ws]:"Link",[xi]:"Route",[Ol]:"Router",[sc]:"useFocus",[ff]:"useLocation",[oc]:"useMatch",[cf]:"useNavigate",[rc]:"useParams",[uc]:"useResolvable",[mf]:"useResolve",[pf]:"navigate"},zs=t=>ac[t];function fc(t,e){let l;return t===xi?l=e.path?`path="${e.path}"`:"default":t===Ws?l=`to="${e.to}"`:t===Ol&&(l=`basepath="${e.basepath||""}"`),`<${zs(t)} ${l||""} />`}function cc(t,e,l,n){const i=l&&fc(n||t,l),s=i?`

Occurred in: ${i}`:"",u=zs(t),a=ef(e)?e(u):e;return`<${u}> ${a}${s}`}const _f=t=>(...e)=>t(cc(...e)),df=_f(t=>{throw new Error(t)}),Xi=_f(console.warn),nu=4,mc=3,pc=2,_c=1,dc=1;function vc(t,e){const l=t.default?0:zt(t.fullPath).reduce((n,i)=>{let s=n;return s+=nu,lc(i)?s+=dc:nc(i)?s+=pc:uf(i)?s-=nu+_c:s+=mc,s},0);return{route:t,score:l,index:e}}function hc(t){return t.map(vc).sort((e,l)=>e.score<l.score?1:e.score>l.score?-1:e.index-l.index)}function vf(t,e){let l,n;const[i]=e.split("?"),s=zt(i),u=s[0]==="",a=hc(t);for(let f=0,m=a.length;f<m;f++){const{route:_}=a[f];let p=!1;const d={},b=k=>({..._,params:d,uri:k});if(_.default){n=b(e);continue}const h=zt(_.fullPath),g=Math.max(s.length,h.length);let w=0;for(;w<g;w++){const k=h[w],$=s[w];if(!lu(k)&&uf(k)){const F=k==="*"?"*":k.slice(1);d[F]=s.slice(w).map(decodeURIComponent).join("/");break}if(lu($)){p=!0;break}const M=rf.exec(k);if(M&&!u){const F=decodeURIComponent($);d[M[1]]=F}else if(k!==$){p=!0;break}}if(!p){l=b(Jn(...s.slice(0,w)));break}}return l||n||null}function hf(t,e){return vf([t],e)}function gc(t,e){if(Ts(t,"/"))return t;const[l,n]=t.split("?"),[i]=e.split("?"),s=zt(l),u=zt(i);if(s[0]==="")return hs(i,n);if(!Ts(s[0],".")){const m=u.concat(s).join("/");return hs((i==="/"?"":"/")+m,n)}const a=u.concat(s),f=[];return a.forEach(m=>{m===".."?f.pop():m!=="."&&f.push(m)}),hs(`/${f.join("/")}`,n)}function iu(t,e){const{pathname:l,hash:n="",search:i="",state:s}=t,u=zt(e,!0),a=zt(l,!0);for(;u.length;)u[0]!==a[0]&&df(Ol,`Invalid state: All locations must begin with the basepath "${e}", found "${l}"`),u.shift(),a.shift();return{pathname:Jn(...a),hash:n,search:i,state:s}}const su=t=>t.length===1?"":t,Bs=t=>{const e=t.indexOf("?"),l=t.indexOf("#"),n=e!==-1,i=l!==-1,s=i?su(Gn(t,l)):"",u=i?Gn(t,0,l):t,a=n?su(Gn(u,e)):"";return{pathname:(n?Gn(u,0,e):u)||"/",search:a,hash:s}},bc=t=>{const{pathname:e,search:l,hash:n}=t;return e+l+n};function kc(t,e,l){return Jn(l,gc(t,e))}function wc(t,e){const l=Hs(ic(t)),n=zt(l,!0),i=zt(e,!0).slice(0,n.length),s=hf({fullPath:l},Jn(...i));return s&&s.uri}const gs="POP",yc="PUSH",Cc="REPLACE";function bs(t){return{...t.location,pathname:encodeURI(decodeURI(t.location.pathname)),state:t.history.state,_key:t.history.state&&t.history.state._key||"initial"}}function $c(t){let e=[],l=bs(t),n=gs;const i=(s=e)=>s.forEach(u=>u({location:l,action:n}));return{get location(){return l},listen(s){e.push(s);const u=()=>{l=bs(t),n=gs,i([s])};i([s]);const a=nf(t,"popstate",u);return()=>{a(),e=e.filter(f=>f!==s)}},navigate(s,u){const{state:a={},replace:f=!1}=u||{};if(n=f?Cc:yc,tf(s))u&&Xi(pf,"Navigation options (state or replace) are not supported, when passing a number as the first argument to navigate. They are ignored."),n=gs,t.history.go(s);else{const m={...a,_key:Jf()};try{t.history[f?"replaceState":"pushState"](m,"",s)}catch{t.location[f?"replace":"assign"](s)}}l=bs(t),i()}}}function ks(t,e){return{...Bs(e),state:t}}function Sc(t="/"){let e=0,l=[ks(null,t)];return{get entries(){return l},get location(){return l[e]},addEventListener(){},removeEventListener(){},history:{get state(){return l[e].state},pushState(n,i,s){e++,l=l.slice(0,e),l.push(ks(n,s))},replaceState(n,i,s){l[e]=ks(n,s)},go(n){const i=e+n;i<0||i>l.length-1||(e=i)}}}}const Tc=!!(!dl&&window.document&&window.document.createElement),Pc=!dl&&window.location.origin==="null",gf=$c(Tc&&!Pc?window:Sc()),{navigate:An}=gf;let nl=null,bf=!0;function Mc(t,e){const l=document.querySelectorAll("[data-svnav-router]");for(let n=0;n<l.length;n++){const i=l[n],s=Number(i.dataset.svnavRouter);if(s===t)return!0;if(s===e)return!1}return!1}function Ec(t){(!nl||t.level>nl.level||t.level===nl.level&&Mc(t.routerId,nl.routerId))&&(nl=t)}function Dc(){nl=null}function Ac(){bf=!1}function ou(t){if(!t)return!1;const e="tabindex";try{if(!t.hasAttribute(e)){t.setAttribute(e,"-1");let l;l=nf(t,"blur",()=>{t.removeAttribute(e),l()})}return t.focus(),document.activeElement===t}catch{return!1}}function Fc(t,e){return Number(t.dataset.svnavRouteEnd)===e}function Ic(t){return/^H[1-6]$/i.test(t.tagName)}function ru(t,e=document){return e.querySelector(t)}function Nc(t){let l=ru(`[data-svnav-route-start="${t}"]`).nextElementSibling;for(;!Fc(l,t);){if(Ic(l))return l;const n=ru("h1,h2,h3,h4,h5,h6",l);if(n)return n;l=l.nextElementSibling}return null}function Rc(t){Promise.resolve(Fn(t.focusElement)).then(e=>{const l=e||Nc(t.id);l||Xi(Ol,`Could not find an element to focus. You should always render a header for accessibility reasons, or set a custom focus element via the "useFocus" hook. If you don't want this Route or Router to manage focus, pass "primary={false}" to it.`,t,xi),!ou(l)&&ou(document.documentElement)})}const Lc=(t,e,l)=>(n,i)=>Vf().then(()=>{if(!nl||bf){Ac();return}if(n&&Rc(nl.route),t.announcements&&i){const{path:s,fullPath:u,meta:a,params:f,uri:m}=nl.route,_=t.createAnnouncement({path:s,fullPath:u,meta:a,params:f,uri:m},Fn(l));Promise.resolve(_).then(p=>{e.set(p)})}Dc()}),uu="position:fixed;top:-1px;left:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;";function qc(t){let e,l,n=[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},$s(t[6],uu)],i={};for(let s=0;s<n.length;s+=1)i=It(i,n[s]);return{c(){e=c("div"),l=T(t[0]),Ht(e,i)},m(s,u){C(s,e,u),o(e,l)},p(s,u){u[0]&1&&J(l,s[0]),Ht(e,i=In(n,[{role:"status"},{"aria-atomic":"true"},{"aria-live":"polite"},{"data-svnav-announcer":""},$s(s[6],uu)]))},d(s){s&&y(e)}}}function Oc(t){let e,l,n,i,s,u=[Dn(t[6]),{"data-svnav-router":t[3]}],a={};for(let p=0;p<u.length;p+=1)a=It(a,u[p]);const f=t[22].default,m=qs(f,t,t[21],null);let _=t[2]&&t[4]&&t[1].announcements&&qc(t);return{c(){e=c("div"),l=v(),m&&m.c(),n=v(),_&&_.c(),i=He(),Ht(e,a)},m(p,d){C(p,e,d),C(p,l,d),m&&m.m(p,d),C(p,n,d),_&&_.m(p,d),C(p,i,d),s=!0},p(p,d){Ht(e,a=In(u,[Dn(p[6]),{"data-svnav-router":p[3]}])),m&&m.p&&(!s||d[0]&2097152)&&js(m,f,p,p[21],s?Os(f,p[21],d,null):Us(p[21]),null),p[2]&&p[4]&&p[1].announcements&&_.p(p,d)},i(p){s||(P(m,p),s=!0)},o(p){A(m,p),s=!1},d(p){p&&y(e),p&&y(l),m&&m.d(p),p&&y(n),_&&_.d(p),p&&y(i)}}}const jc=lf(),au="/";function Uc(t,e,l){let n,i,s,u,a,{$$slots:f={},$$scope:m}=e,{basepath:_=au}=e,{url:p=null}=e,{history:d=gf}=e,{primary:b=!0}=e,{a11y:h={}}=e,{disableInlineStyles:g=!1}=e;const w={createAnnouncement:ee=>`Navigated to ${ee.uri}`,announcements:!0,...h},k=_,$=Hs(_),M=_l(Ss),F=_l(Nn),S=!M,E=jc(),R=b&&!(F&&!F.manageFocus),I=We("");Ut(t,I,ee=>l(0,a=ee));const H=F?F.disableInlineStyles:g,L=We([]);Ut(t,L,ee=>l(20,u=ee));const N=We(null);Ut(t,N,ee=>l(18,i=ee));let q=!1;const U=S?0:F.level+1,j=S?We((()=>iu(dl?Bs(p):d.location,$))()):M;Ut(t,j,ee=>l(17,n=ee));const K=We(n);Ut(t,K,ee=>l(19,s=ee));const x=Lc(w,I,j),B=ee=>O=>O.filter(X=>X.id!==ee);function re(ee){if(dl){if(q)return;const O=hf(ee,n.pathname);if(O)return q=!0,O}else L.update(O=>{const X=B(ee.id)(O);return X.push(ee),X})}function ie(ee){L.update(B(ee))}return!S&&_!==au&&Xi(Ol,'Only top-level Routers can have a "basepath" prop. It is ignored.',{basepath:_}),S&&(Gf(()=>d.listen(O=>{const X=iu(O.location,$);K.set(n),j.set(X)})),Kn(Ss,j)),Kn(Nn,{activeRoute:N,registerRoute:re,unregisterRoute:ie,manageFocus:R,level:U,id:E,history:S?d:F.history,basepath:S?$:F.basepath,disableInlineStyles:H}),t.$$set=ee=>{"basepath"in ee&&l(11,_=ee.basepath),"url"in ee&&l(12,p=ee.url),"history"in ee&&l(13,d=ee.history),"primary"in ee&&l(14,b=ee.primary),"a11y"in ee&&l(15,h=ee.a11y),"disableInlineStyles"in ee&&l(16,g=ee.disableInlineStyles),"$$scope"in ee&&l(21,m=ee.$$scope)},t.$$.update=()=>{if(t.$$.dirty[0]&2048&&_!==k&&Xi(Ol,'You cannot change the "basepath" prop. It is ignored.'),t.$$.dirty[0]&1179648){const ee=vf(u,n.pathname);N.set(ee)}if(t.$$.dirty[0]&655360&&S){const ee=!!n.hash,O=!ee&&R,X=!ee||n.pathname!==s.pathname;x(O,X)}t.$$.dirty[0]&262144&&R&&i&&i.primary&&Ec({level:U,routerId:E,route:i})},[a,w,S,E,R,I,H,L,N,j,K,_,p,d,b,h,g,n,i,s,u,m,f]}class kf extends ge{constructor(e){super(),he(this,e,Uc,Oc,ve,{basepath:11,url:12,history:13,primary:14,a11y:15,disableInlineStyles:16},null,[-1,-1])}}function xn(t,e,l=Nn,n=Ol){_l(l)||df(t,s=>`You cannot use ${s} outside of a ${zs(n)}.`,e)}const Hc=t=>{const{subscribe:e}=_l(t);return{subscribe:e}};function wf(){return xn(ff),Hc(Ss)}function yf(){const{history:t}=_l(Nn);return t}function Cf(){const t=_l(of);return t?xf(t,e=>e.base):We("/")}function $f(){xn(mf);const t=Cf(),{basepath:e}=_l(Nn);return n=>kc(n,Fn(t),e)}function Wc(){xn(cf);const t=$f(),{navigate:e}=yf();return(n,i)=>{const s=tf(n)?n:t(n);return e(s,i)}}const zc=t=>({params:t&16,location:t&8}),fu=t=>({params:dl?Fn(t[10]):t[4],location:t[3],navigate:t[11]});function cu(t){let e,l;return e=new kf({props:{primary:t[1],$$slots:{default:[Yc]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.primary=n[1]),i&528409&&(s.$$scope={dirty:i,ctx:n}),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function Bc(t){let e;const l=t[18].default,n=qs(l,t,t[19],fu);return{c(){n&&n.c()},m(i,s){n&&n.m(i,s),e=!0},p(i,s){n&&n.p&&(!e||s&524312)&&js(n,l,i,i[19],e?Os(l,i[19],s,zc):Us(i[19]),fu)},i(i){e||(P(n,i),e=!0)},o(i){A(n,i),e=!1},d(i){n&&n.d(i)}}}function Gc(t){let e,l,n;const i=[{location:t[3]},{navigate:t[11]},dl?Fn(t[10]):t[4],t[12]];var s=t[0];function u(a){let f={};for(let m=0;m<i.length;m+=1)f=It(f,i[m]);return{props:f}}return s&&(e=new s(u())),{c(){e&&Q(e.$$.fragment),l=He()},m(a,f){e&&G(e,a,f),C(a,l,f),n=!0},p(a,f){const m=f&7192?In(i,[f&8&&{location:a[3]},f&2048&&{navigate:a[11]},f&1040&&tu(dl?Fn(a[10]):a[4]),f&4096&&tu(a[12])]):{};if(s!==(s=a[0])){if(e){Ce();const _=e;A(_.$$.fragment,1,0,()=>{Y(_,1)}),$e()}s?(e=new s(u()),Q(e.$$.fragment),P(e.$$.fragment,1),G(e,l.parentNode,l)):e=null}else s&&e.$set(m)},i(a){n||(e&&P(e.$$.fragment,a),n=!0)},o(a){e&&A(e.$$.fragment,a),n=!1},d(a){a&&y(l),e&&Y(e,a)}}}function Yc(t){let e,l,n,i;const s=[Gc,Bc],u=[];function a(f,m){return f[0]!==null?0:1}return e=a(t),l=u[e]=s[e](t),{c(){l.c(),n=He()},m(f,m){u[e].m(f,m),C(f,n,m),i=!0},p(f,m){let _=e;e=a(f),e===_?u[e].p(f,m):(Ce(),A(u[_],1,1,()=>{u[_]=null}),$e(),l=u[e],l?l.p(f,m):(l=u[e]=s[e](f),l.c()),P(l,1),l.m(n.parentNode,n))},i(f){i||(P(l),i=!0)},o(f){A(l),i=!1},d(f){u[e].d(f),f&&y(n)}}}function Kc(t){let e,l,n,i,s,u=[Dn(t[7]),{"data-svnav-route-start":t[5]}],a={};for(let p=0;p<u.length;p+=1)a=It(a,u[p]);let f=t[2]&&cu(t),m=[Dn(t[7]),{"data-svnav-route-end":t[5]}],_={};for(let p=0;p<m.length;p+=1)_=It(_,m[p]);return{c(){e=c("div"),l=v(),f&&f.c(),n=v(),i=c("div"),Ht(e,a),Ht(i,_)},m(p,d){C(p,e,d),C(p,l,d),f&&f.m(p,d),C(p,n,d),C(p,i,d),s=!0},p(p,[d]){Ht(e,a=In(u,[Dn(p[7]),{"data-svnav-route-start":p[5]}])),p[2]?f?(f.p(p,d),d&4&&P(f,1)):(f=cu(p),f.c(),P(f,1),f.m(n.parentNode,n)):f&&(Ce(),A(f,1,1,()=>{f=null}),$e()),Ht(i,_=In(m,[Dn(p[7]),{"data-svnav-route-end":p[5]}]))},i(p){s||(P(f),s=!0)},o(p){A(f),s=!1},d(p){p&&y(e),p&&y(l),f&&f.d(p),p&&y(n),p&&y(i)}}}const Vc=lf();function Qc(t,e,l){let n;const i=["path","component","meta","primary"];let s=Vi(e,i),u,a,f,m,{$$slots:_={},$$scope:p}=e,{path:d=""}=e,{component:b=null}=e,{meta:h={}}=e,{primary:g=!0}=e;xn(xi,e);const w=Vc(),{registerRoute:k,unregisterRoute:$,activeRoute:M,disableInlineStyles:F}=_l(Nn);Ut(t,M,q=>l(16,u=q));const S=Cf();Ut(t,S,q=>l(17,f=q));const E=wf();Ut(t,E,q=>l(3,a=q));const R=We(null);let I;const H=We(),L=We({});Ut(t,L,q=>l(4,m=q)),Kn(of,H),Kn(ec,L),Kn(tc,R);const N=Wc();return dl||Yf(()=>$(w)),t.$$set=q=>{l(24,e=It(It({},e),Ki(q))),l(12,s=Vi(e,i)),"path"in q&&l(13,d=q.path),"component"in q&&l(0,b=q.component),"meta"in q&&l(14,h=q.meta),"primary"in q&&l(1,g=q.primary),"$$scope"in q&&l(19,p=q.$$scope)},t.$$.update=()=>{if(t.$$.dirty&155658){const q=d==="",U=Jn(f,d),W={id:w,path:d,meta:h,default:q,fullPath:q?"":U,base:q?f:wc(U,a.pathname),primary:g,focusElement:R};H.set(W),l(15,I=k(W))}if(t.$$.dirty&98304&&l(2,n=!!(I||u&&u.id===w)),t.$$.dirty&98308&&n){const{params:q}=I||u;L.set(q)}},e=Ki(e),[b,g,n,a,m,w,M,F,S,E,L,N,s,d,h,I,u,f,_,p]}class ll extends ge{constructor(e){super(),he(this,e,Qc,Kc,ve,{path:13,component:0,meta:14,primary:1})}}function Xc(t){let e,l,n,i;const s=t[13].default,u=qs(s,t,t[12],null);let a=[{href:t[0]},t[2],t[1]],f={};for(let m=0;m<a.length;m+=1)f=It(f,a[m]);return{c(){e=c("a"),u&&u.c(),Ht(e,f)},m(m,_){C(m,e,_),u&&u.m(e,null),l=!0,n||(i=V(e,"click",t[4]),n=!0)},p(m,[_]){u&&u.p&&(!l||_&4096)&&js(u,s,m,m[12],l?Os(s,m[12],_,null):Us(m[12]),null),Ht(e,f=In(a,[(!l||_&1)&&{href:m[0]},_&4&&m[2],_&2&&m[1]]))},i(m){l||(P(u,m),l=!0)},o(m){A(u,m),l=!1},d(m){m&&y(e),u&&u.d(m),n=!1,i()}}}function Zc(t,e,l){let n,i,s,u,a,f;const m=["to","replace","state","getProps"];let _=Vi(e,m),p,{$$slots:d={},$$scope:b}=e,{to:h}=e,{replace:g=!1}=e,{state:w={}}=e,{getProps:k=null}=e;xn(Ws,e);const $=wf();Ut(t,$,R=>l(11,p=R));const M=Kf(),F=$f(),{navigate:S}=yf();function E(R){M("click",R),Zf(R)&&(R.preventDefault(),S(n,{state:w,replace:u||g}))}return t.$$set=R=>{l(19,e=It(It({},e),Ki(R))),l(18,_=Vi(e,m)),"to"in R&&l(5,h=R.to),"replace"in R&&l(6,g=R.replace),"state"in R&&l(7,w=R.state),"getProps"in R&&l(8,k=R.getProps),"$$scope"in R&&l(12,b=R.$$scope)},t.$$.update=()=>{t.$$.dirty&2080&&l(0,n=F(h,p)),t.$$.dirty&2049&&l(10,i=Ts(p.pathname,n)),t.$$.dirty&2049&&l(9,s=n===p.pathname),t.$$.dirty&2049&&(u=Bs(n)===bc(p)),t.$$.dirty&512&&l(2,a=s?{"aria-current":"page"}:{}),l(1,f=(()=>{if(ef(k)){const R=k({location:p,href:n,isPartiallyCurrent:i,isCurrent:s});return{..._,...R}}return _})())},e=Ki(e),[n,f,a,$,E,h,g,w,k,s,i,p,b,d]}class ql extends ge{constructor(e){super(),he(this,e,Zc,Xc,ve,{to:5,replace:6,state:7,getProps:8})}}let Ps=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"];function ml(t){return t===1?"green":t===2?"yellow":t===3?"red":"gray"}function Jc(t){return"#297dbc"}function xc(t){return"#297dbc"}function e1(t){return"#7c3aed"}function t1(t){return"#407038"}function Zi(t){switch(t){case 1:return"Aidon";case 2:return"Kaifa";case 3:return"Kamstrup";case 8:return"Iskra";case 9:return"Landis+Gyr";case 10:return"Sagemcom";default:return""}}function de(t){for(t=t.toString();t.length<2;)t="0"+t;return t}function mu(t,e){switch(e){case 5:switch(t){case"esp8266":return"Pow-K (GPIO12)";case"esp32s2":return"Pow-K+"}case 7:switch(t){case"esp8266":return"Pow-U (GPIO12)";case"esp32s2":return"Pow-U+"}case 6:return"Pow-P1";case 51:return"Wemos S2 mini";case 50:return"Generic ESP32-S2";case 201:return"Wemos LOLIN D32";case 202:return"Adafruit HUZZAH32";case 203:return"DevKitC";case 200:return"Generic ESP32";case 2:return"HAN Reader 2.0 by Max Spencer";case 0:return"Custom hardware by Roar Fredriksen";case 1:return"Kamstrup module by Egil Opsahl";case 8:return"\xB5HAN mosquito by dbeinder";case 3:return"Pow-K (UART0)";case 4:return"Pow-U (UART0)";case 101:return"Wemos D1 mini";case 100:return"Generic ESP8266";case 70:return"Generic ESP32-C3";case 71:return"ESP32-C3-DevKitM-1"}}function pu(t){switch(t){case-1:return"Parse error";case-2:return"Incomplete data received";case-3:return"Payload boundry flag missing";case-4:return"Header checksum error";case-5:return"Footer checksum error";case-9:return"Unknown data received, check meter config";case-41:return"Frame length not equal";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid";case 90:return"No mep data received for at least 30s";case 91:return"Serial break";case 92:return"Serial buffer full";case 93:return"Serial FIFO overflow";case 94:return"Serial frame error";case 95:return"Serial parity error";case 96:return"RX error";case 98:return"Exception in code, debugging necessary";case 99:return"Autodetection failed"}return t<0?"Unspecified error "+t:""}function _u(t){switch(t){case-3:return"Connection failed";case-4:return"Network timeout";case-10:return"Connection denied";case-11:return"Failed to subscribe";case-13:return"Connection lost"}return t<0?"Unspecified error "+t:""}function du(t){switch(t){case 401:case 403:return"Unauthorized, check API key";case 404:return"Price unavailable, not found";case 425:return"Server says its too early";case 429:return"Exceeded API rate limit";case 500:return"Internal server error";case-2:return"Incomplete data received";case-3:return"Invalid data, tag missing";case-51:return"Authentication failed";case-52:return"Decryption failed";case-53:return"Encryption key invalid"}return t<0?"Unspecified error "+t:""}function ws(t){switch(t){case 2:case 4:case 7:return!0}return!1}function Te(t,e){return t==1||t==2&&e}function Ft(t){return"https://github.com/UtilitechAS/amsreader-firmware/wiki/"+t}function me(t,e){return isNaN(t)?"-":(isNaN(e)&&(e=t<10?1:0),t.toFixed(e))}function Vn(t,e){return t.setTime(t.getTime()+e*36e5),t}function vu(t){if(t.chip=="esp8266")switch(t.boot_reason){case 0:return"Normal";case 1:return"WDT reset";case 2:return"Exception reset";case 3:return"Soft WDT reset";case 4:return"Software restart";case 5:return"Deep sleep";case 6:return"External reset";default:return"Unknown (8266)"}else switch(t.boot_reason){case 1:return"Vbat power on reset";case 3:return"Software reset";case 4:return"WDT reset";case 5:return"Deep sleep";case 6:return"SLC reset";case 7:return"Timer Group0 WDT reset";case 8:return"Timer Group1 WDT reset";case 9:return"RTC WDT reset";case 10:return"Instrusion test reset CPU";case 11:return"Time Group reset CPU";case 12:return"Software reset CPU";case 13:return"RTC WTD reset CPU";case 14:return"PRO CPU";case 15:return"Brownout";case 16:return"RTC reset";default:return"Unknown"}}async function il(t,e={}){const{timeout:l=8e3}=e,n=new AbortController,i=setTimeout(()=>n.abort(),l),s=await fetch(t,{...e,signal:n.signal});return clearTimeout(i),s}let jt={version:"",chip:"",mac:null,apmac:null,vndcfg:null,usrcfg:null,fwconsent:null,booting:!1,upgrading:!1,ui:{},security:0,boot_reason:0,upgrade:{x:-1,e:0,f:null,t:null},trying:null};const Bt=We(jt);async function Gs(){jt=await(await il("/sysinfo.json?t="+Math.floor(Date.now()/1e3))).json(),Bt.set(jt)}let zi=0,hu=-127,gu=null,l1={};const n1=sf(l1,t=>{let e;async function l(){il("/data.json").then(n=>n.json()).then(n=>{t(n),hu!=n.t&&(hu=n.t,setTimeout(Ef,2e3)),gu!=n.p&&n.pe&&(gu=n.p,setTimeout(i1,4e3)),jt.upgrading?window.location.reload():(!jt||!jt.chip||jt.booting||zi>1&&!ws(jt.board))&&(Gs(),Nl&&clearTimeout(Nl),Nl=setTimeout(Ys,2e3),Rl&&clearTimeout(Rl),Rl=setTimeout(Ks,3e3),Ll&&clearTimeout(Ll),Ll=setTimeout(Vs,2500));let i=5e3;if(ws(jt.board)&&n.v>2.5){let s=3.3-Math.min(3.3,n.v);s>0&&(i=Math.max(s,.1)*10*5e3)}i>5e3&&console.log("Scheduling next data fetch in "+i+"ms"),e&&clearTimeout(e),e=setTimeout(l,i),zi=0}).catch(n=>{zi++,zi>3?(t({em:3,hm:0,wm:0,mm:0}),e=setTimeout(l,15e3)):e=setTimeout(l,ws(jt.board)?1e4:5e3)})}return l(),function(){clearTimeout(e)}});let Ms={};const Sf=We(Ms);async function i1(){Ms=await(await il("/energyprice.json")).json(),Sf.set(Ms)}let Es={},Nl;async function Ys(){Nl&&(clearTimeout(Nl),Nl=0),Es=await(await il("/dayplot.json")).json(),Tf.set(Es);let e=new Date;Nl=setTimeout(Ys,(60-e.getMinutes())*6e4+20)}const Tf=We(Es,t=>(Ys(),function(){}));let Ds={},Rl;async function Ks(){Rl&&(clearTimeout(Rl),Rl=0),Ds=await(await il("/monthplot.json")).json(),Pf.set(Ds);let e=new Date;Rl=setTimeout(Ks,(24-e.getHours())*36e5+40)}const Pf=We(Ds,t=>(Ks(),function(){}));let As={},Ll;async function Vs(){Ll&&(clearTimeout(Ll),Ll=0),As=await(await il("/hourplot.json")).json(),Mf.set(As),Ll=setTimeout(Vs,20030)}const Mf=We(As,t=>(Vs(),function(){}));let Fs={};async function Ef(){Fs=await(await il("/temperature.json")).json(),Df.set(Fs)}const Df=We(Fs,t=>(Ef(),function(){}));let Is={},Bi;async function Af(){Bi&&(clearTimeout(Bi),Bi=0),Is=await(await il("/tariff.json")).json(),Ff.set(Is);let e=new Date;Bi=setTimeout(Af,(60-e.getMinutes())*6e4+30)}const Ff=We(Is,t=>function(){});let Ns=[];const If=We(Ns);async function s1(){Ns=await(await il("https://api.github.com/repos/UtilitechAS/amsreader-firmware/releases")).json(),If.set(Ns)}function o1(t,e){if(/^v\d{1,2}\.\d{1,2}\.\d{1,2}$/.test(t)){let l=t.substring(1).split("."),n=parseInt(l[0]),i=parseInt(l[1]),s=parseInt(l[2]),u=[...e];u.reverse();let a,f,m;for(let _=0;_<u.length;_++){let p=u[_],b=p.tag_name.substring(1).split("."),h=parseInt(b[0]),g=parseInt(b[1]),w=parseInt(b[2]);if(h==n)g==i?w>s&&(a=p):g==i+1&&(f=p);else if(h==n+1)if(m){let k=m.tag_name.substring(1).split(".");parseInt(k[0]);let $=parseInt(k[1]);parseInt(k[2]),g==$&&(m=p)}else m=p}return f||m||a||!1}else return e[0]}const r1="/github.svg";function bu(t){let e,l;function n(u,a){return u[1]>1?_1:u[1]>0?p1:u[2]>1?m1:u[2]>0?c1:u[3]>1?f1:u[3]>0?a1:u1}let i=n(t),s=i(t);return{c(){e=T(`sLauft seit
    `),s.c(),l=He()},m(u,a){C(u,e,a),s.m(u,a),C(u,l,a)},p(u,a){i===(i=n(u))&&s?s.p(u,a):(s.d(1),s=i(u),s&&(s.c(),s.m(l.parentNode,l)))},d(u){u&&y(e),s.d(u),u&&y(l)}}}function u1(t){let e,l;return{c(){e=T(t[0]),l=T(" Sekunden")},m(n,i){C(n,e,i),C(n,l,i)},p(n,i){i&1&&J(e,n[0])},d(n){n&&y(e),n&&y(l)}}}function a1(t){let e,l;return{c(){e=T(t[3]),l=T(" Minute")},m(n,i){C(n,e,i),C(n,l,i)},p(n,i){i&8&&J(e,n[3])},d(n){n&&y(e),n&&y(l)}}}function f1(t){let e,l;return{c(){e=T(t[3]),l=T(" Minuten")},m(n,i){C(n,e,i),C(n,l,i)},p(n,i){i&8&&J(e,n[3])},d(n){n&&y(e),n&&y(l)}}}function c1(t){let e,l;return{c(){e=T(t[2]),l=T(" Stunde")},m(n,i){C(n,e,i),C(n,l,i)},p(n,i){i&4&&J(e,n[2])},d(n){n&&y(e),n&&y(l)}}}function m1(t){let e,l;return{c(){e=T(t[2]),l=T(" Stunden")},m(n,i){C(n,e,i),C(n,l,i)},p(n,i){i&4&&J(e,n[2])},d(n){n&&y(e),n&&y(l)}}}function p1(t){let e,l;return{c(){e=T(t[1]),l=T(" Tag")},m(n,i){C(n,e,i),C(n,l,i)},p(n,i){i&2&&J(e,n[1])},d(n){n&&y(e),n&&y(l)}}}function _1(t){let e,l;return{c(){e=T(t[1]),l=T(" Tage")},m(n,i){C(n,e,i),C(n,l,i)},p(n,i){i&2&&J(e,n[1])},d(n){n&&y(e),n&&y(l)}}}function d1(t){let e,l=t[0]&&bu(t);return{c(){l&&l.c(),e=He()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=bu(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ue,o:ue,d(n){l&&l.d(n),n&&y(e)}}}function v1(t,e,l){let{epoch:n}=e,i=0,s=0,u=0;return t.$$set=a=>{"epoch"in a&&l(0,n=a.epoch)},t.$$.update=()=>{t.$$.dirty&1&&(l(1,i=Math.floor(n/86400)),l(2,s=Math.floor(n/3600)),l(3,u=Math.floor(n/60)))},[n,i,s,u]}class h1 extends ge{constructor(e){super(),he(this,e,v1,d1,ve,{epoch:0})}}function g1(t){let e,l,n;return{c(){e=c("span"),l=T(t[2]),r(e,"title",t[1]),r(e,"class",n="bd-"+t[0])},m(i,s){C(i,e,s),o(e,l)},p(i,[s]){s&4&&J(l,i[2]),s&2&&r(e,"title",i[1]),s&1&&n!==(n="bd-"+i[0])&&r(e,"class",n)},i:ue,o:ue,d(i){i&&y(e)}}}function b1(t,e,l){let{color:n}=e,{title:i}=e,{text:s}=e;return t.$$set=u=>{"color"in u&&l(0,n=u.color),"title"in u&&l(1,i=u.title),"text"in u&&l(2,s=u.text)},[n,i,s]}class Wt extends ge{constructor(e){super(),he(this,e,b1,g1,ve,{color:0,title:1,text:2})}}function k1(t){let e,l=`${de(t[0].getDate())}.${de(t[0].getMonth()+1)}.${t[0].getFullYear()} ${de(t[0].getHours())}:${de(t[0].getMinutes())}`,n;return{c(){e=c("span"),n=T(l),r(e,"class",t[1])},m(i,s){C(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=`${de(i[0].getDate())}.${de(i[0].getMonth()+1)}.${i[0].getFullYear()} ${de(i[0].getHours())}:${de(i[0].getMinutes())}`)&&J(n,l),s&2&&r(e,"class",i[1])},d(i){i&&y(e)}}}function w1(t){let e=`${de(t[0].getDate())}. ${Ps[t[0].getMonth()]} ${t[0].getFullYear()} ${de(t[0].getHours())}:${de(t[0].getMinutes())}:${de(t[0].getSeconds())}`,l;return{c(){l=T(e)},m(n,i){C(n,l,i)},p(n,i){i&1&&e!==(e=`${de(n[0].getDate())}. ${Ps[n[0].getMonth()]} ${n[0].getFullYear()} ${de(n[0].getHours())}:${de(n[0].getMinutes())}:${de(n[0].getSeconds())}`)&&J(l,e)},d(n){n&&y(l)}}}function y1(t){let e,l;function n(u,a){return a&1&&(e=null),e==null&&(e=Math.abs(new Date().getTime()-u[0].getTime())<3e5),e?w1:k1}let i=n(t,-1),s=i(t);return{c(){s.c(),l=He()},m(u,a){s.m(u,a),C(u,l,a)},p(u,[a]){i===(i=n(u,a))&&s?s.p(u,a):(s.d(1),s=i(u),s&&(s.c(),s.m(l.parentNode,l)))},i:ue,o:ue,d(u){s.d(u),u&&y(l)}}}function C1(t,e,l){let{timestamp:n}=e,{fullTimeColor:i}=e;return t.$$set=s=>{"timestamp"in s&&l(0,n=s.timestamp),"fullTimeColor"in s&&l(1,i=s.fullTimeColor)},[n,i]}class Nf extends ge{constructor(e){super(),he(this,e,C1,y1,ve,{timestamp:0,fullTimeColor:1})}}function $1(t){let e,l,n;return{c(){e=Se("svg"),l=Se("path"),n=Se("path"),r(l,"stroke-linecap","round"),r(l,"stroke-linejoin","round"),r(l,"d","M10.343 3.94c.09-.542.56-.94 1.11-.94h1.093c.55 0 1.02.398 1.11.94l.149.894c.07.424.384.764.78.93.398.164.855.142 1.205-.108l.737-.527a1.125 1.125 0 011.45.12l.773.774c.39.389.44 1.002.12 1.45l-.527.737c-.25.35-.272.806-.107 1.204.165.397.505.71.93.78l.893.15c.543.09.94.56.94 1.109v1.094c0 .55-.397 1.02-.94 1.11l-.893.149c-.425.07-.765.383-.93.78-.165.398-.143.854.107 1.204l.527.738c.32.447.269 1.06-.12 1.45l-.774.773a1.125 1.125 0 01-1.449.12l-.738-.527c-.35-.25-.806-.272-1.203-.107-.397.165-.71.505-.781.929l-.149.894c-.09.542-.56.94-1.11.94h-1.094c-.55 0-1.019-.398-1.11-.94l-.148-.894c-.071-.424-.384-.764-.781-.93-.398-.164-.854-.142-1.204.108l-.738.527c-.447.32-1.06.269-1.45-.12l-.773-.774a1.125 1.125 0 01-.12-1.45l.527-.737c.25-.35.273-.806.108-1.204-.165-.397-.505-.71-.93-.78l-.894-.15c-.542-.09-.94-.56-.94-1.109v-1.094c0-.55.398-1.02.94-1.11l.894-.149c.424-.07.765-.383.93-.78.165-.398.143-.854-.107-1.204l-.527-.738a1.125 1.125 0 01.12-1.45l.773-.773a1.125 1.125 0 011.45-.12l.737.527c.35.25.807.272 1.204.107.397-.165.71-.505.78-.929l.15-.894z"),r(n,"stroke-linecap","round"),r(n,"stroke-linejoin","round"),r(n,"d","M15 12a3 3 0 11-6 0 3 3 0 016 0z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"fill","none"),r(e,"viewBox","0 0 24 24"),r(e,"stroke-width","1.5"),r(e,"stroke","currentColor"),r(e,"class","w-6 h-6")},m(i,s){C(i,e,s),o(e,l),o(e,n)},p:ue,i:ue,o:ue,d(i){i&&y(e)}}}class S1 extends ge{constructor(e){super(),he(this,e,null,$1,ve,{})}}function T1(t){let e,l;return{c(){e=Se("svg"),l=Se("path"),r(l,"stroke-linecap","round"),r(l,"stroke-linejoin","round"),r(l,"d","M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"fill","none"),r(e,"viewBox","0 0 24 24"),r(e,"stroke-width","1.5"),r(e,"stroke","currentColor"),r(e,"class","w-6 h-6")},m(n,i){C(n,e,i),o(e,l)},p:ue,i:ue,o:ue,d(n){n&&y(e)}}}class P1 extends ge{constructor(e){super(),he(this,e,null,T1,ve,{})}}function M1(t){let e,l;return{c(){e=Se("svg"),l=Se("path"),r(l,"stroke-linecap","round"),r(l,"stroke-linejoin","round"),r(l,"d","M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9 5.25h.008v.008H12v-.008z"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"fill","none"),r(e,"viewBox","0 0 24 24"),r(e,"stroke-width","1.5"),r(e,"stroke","currentColor"),r(e,"class","w-6 h-6")},m(n,i){C(n,e,i),o(e,l)},p:ue,i:ue,o:ue,d(n){n&&y(e)}}}class At extends ge{constructor(e){super(),he(this,e,null,M1,ve,{})}}function E1(t){let e;return{c(){e=T("NES Stromzaehler v2.0")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function ku(t){let e,l=(t[0].t>-50?t[0].t.toFixed(1):"-")+"",n,i;return{c(){e=c("div"),n=T(l),i=T("\xB0C"),r(e,"class","flex-none my-auto")},m(s,u){C(s,e,u),o(e,n),o(e,i)},p(s,u){u&1&&l!==(l=(s[0].t>-50?s[0].t.toFixed(1):"-")+"")&&J(n,l)},d(s){s&&y(e)}}}function wu(t){let e,l="MEP: "+pu(t[0].he),n;return{c(){e=c("div"),n=T(l),r(e,"class","bd-red")},m(i,s){C(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l="MEP: "+pu(i[0].he))&&J(n,l)},d(i){i&&y(e)}}}function yu(t){let e,l="MQTT: "+_u(t[0].me),n;return{c(){e=c("div"),n=T(l),r(e,"class","bd-red")},m(i,s){C(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l="MQTT: "+_u(i[0].me))&&J(n,l)},d(i){i&&y(e)}}}function Cu(t){let e,l="PriceAPI: "+du(t[0].ee),n;return{c(){e=c("div"),n=T(l),r(e,"class","bd-red")},m(i,s){C(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l="PriceAPI: "+du(i[0].ee))&&J(n,l)},d(i){i&&y(e)}}}function $u(t){let e,l,n,i,s,u;return l=new ql({props:{to:"/configuration",$$slots:{default:[D1]},$$scope:{ctx:t}}}),s=new ql({props:{to:"/status",$$slots:{default:[A1]},$$scope:{ctx:t}}}),{c(){e=c("div"),Q(l.$$.fragment),n=v(),i=c("div"),Q(s.$$.fragment),r(e,"class","flex-none px-1 mt-1"),r(e,"title","Configuration"),r(i,"class","flex-none px-1 mt-1"),r(i,"title","ESP Information")},m(a,f){C(a,e,f),G(l,e,null),C(a,n,f),C(a,i,f),G(s,i,null),u=!0},i(a){u||(P(l.$$.fragment,a),P(s.$$.fragment,a),u=!0)},o(a){A(l.$$.fragment,a),A(s.$$.fragment,a),u=!1},d(a){a&&y(e),Y(l),a&&y(n),a&&y(i),Y(s)}}}function D1(t){let e,l;return e=new S1({}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function A1(t){let e,l;return e=new P1({}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function F1(t){let e,l,n,i,s,u,a,f,m,_,p,d,b=(t[0].m?(t[0].m/1e3).toFixed(1):"-")+"",h,g,w,k,$,M,F,S,E,R,I,H,L,N,q,U,W,j,K,x,B,re,ie,ee,O;i=new ql({props:{to:"/",$$slots:{default:[E1]},$$scope:{ctx:t}}}),f=new h1({props:{epoch:t[0].u}});let X=t[0].t>-50&&ku(t);$=new Wt({props:{title:"ESP",text:t[1].booting?"Booting":t[0].v>2?t[0].v.toFixed(2)+"V":"ESP",color:ml(t[1].booting?2:t[0].em)}}),F=new Wt({props:{title:"MEP",text:"MEP",color:ml(t[1].booting?9:t[0].hm)}}),E=new Wt({props:{title:"WiFi",text:t[0].r?t[0].r.toFixed(0)+"dBm":"WiFi",color:ml(t[1].booting?9:t[0].wm)}}),I=new Wt({props:{title:"MQTT",text:"MQTT",color:ml(t[1].booting?9:t[0].mm)}});let ne=(t[0].he<0||t[0].he>0)&&wu(t),ce=t[0].me<0&&yu(t),oe=(t[0].ee>0||t[0].ee<0)&&Cu(t);ie=new Nf({props:{timestamp:t[0].c?new Date(t[0].c*1e3):new Date(0),fullTimeColor:"text-red-500"}});let te=t[1].vndcfg&&t[1].usrcfg&&$u(t);return{c(){e=c("nav"),l=c("div"),n=c("div"),Q(i.$$.fragment),s=v(),u=c("div"),a=c("div"),Q(f.$$.fragment),m=v(),X&&X.c(),_=v(),p=c("div"),d=T("Freier RAM: "),h=T(b),g=T("kb"),w=v(),k=c("div"),Q($.$$.fragment),M=v(),Q(F.$$.fragment),S=v(),Q(E.$$.fragment),R=v(),Q(I.$$.fragment),H=v(),ne&&ne.c(),L=v(),ce&&ce.c(),N=v(),oe&&oe.c(),q=v(),U=c("div"),W=c("div"),j=c("a"),K=c("img"),B=v(),re=c("div"),Q(ie.$$.fragment),ee=v(),te&&te.c(),r(n,"class","flex text-lg text-gray-100 p-2"),r(a,"class","flex-none my-auto"),r(p,"class","flex-none my-auto"),r(u,"class","flex-none my-auto p-2 flex space-x-4"),r(k,"class","flex-auto flex-wrap my-auto justify-center p-2"),r(K,"class","gh-logo"),jf(K.src,x=r1)||r(K,"src",x),r(K,"alt","GitHub repo"),r(j,"class","float-right"),r(j,"href","https://github.com/ehorvat1/NES-MEP-Reader"),r(j,"target","_blank"),r(j,"rel","noreferrer"),r(j,"aria-label","GitHub"),r(W,"class","flex-none"),r(re,"class","flex-none my-auto px-2"),r(U,"class","flex-auto p-2 flex flex-row-reverse flex-wrap"),r(l,"class","flex flex-wrap space-x-4 text-sm text-gray-300"),r(e,"class","bg-violet-600 p-1 rounded-md mx-2")},m(Z,pe){C(Z,e,pe),o(e,l),o(l,n),G(i,n,null),o(l,s),o(l,u),o(u,a),G(f,a,null),o(u,m),X&&X.m(u,null),o(u,_),o(u,p),o(p,d),o(p,h),o(p,g),o(l,w),o(l,k),G($,k,null),o(k,M),G(F,k,null),o(k,S),G(E,k,null),o(k,R),G(I,k,null),o(l,H),ne&&ne.m(l,null),o(l,L),ce&&ce.m(l,null),o(l,N),oe&&oe.m(l,null),o(l,q),o(l,U),o(U,W),o(W,j),o(j,K),o(U,B),o(U,re),G(ie,re,null),o(U,ee),te&&te.m(U,null),O=!0},p(Z,[pe]){const ye={};pe&16&&(ye.$$scope={dirty:pe,ctx:Z}),i.$set(ye);const Re={};pe&1&&(Re.epoch=Z[0].u),f.$set(Re),Z[0].t>-50?X?X.p(Z,pe):(X=ku(Z),X.c(),X.m(u,_)):X&&(X.d(1),X=null),(!O||pe&1)&&b!==(b=(Z[0].m?(Z[0].m/1e3).toFixed(1):"-")+"")&&J(h,b);const je={};pe&3&&(je.text=Z[1].booting?"Booting":Z[0].v>2?Z[0].v.toFixed(2)+"V":"ESP"),pe&3&&(je.color=ml(Z[1].booting?2:Z[0].em)),$.$set(je);const ze={};pe&3&&(ze.color=ml(Z[1].booting?9:Z[0].hm)),F.$set(ze);const Le={};pe&1&&(Le.text=Z[0].r?Z[0].r.toFixed(0)+"dBm":"WiFi"),pe&3&&(Le.color=ml(Z[1].booting?9:Z[0].wm)),E.$set(Le);const be={};pe&3&&(be.color=ml(Z[1].booting?9:Z[0].mm)),I.$set(be),Z[0].he<0||Z[0].he>0?ne?ne.p(Z,pe):(ne=wu(Z),ne.c(),ne.m(l,L)):ne&&(ne.d(1),ne=null),Z[0].me<0?ce?ce.p(Z,pe):(ce=yu(Z),ce.c(),ce.m(l,N)):ce&&(ce.d(1),ce=null),Z[0].ee>0||Z[0].ee<0?oe?oe.p(Z,pe):(oe=Cu(Z),oe.c(),oe.m(l,q)):oe&&(oe.d(1),oe=null);const we={};pe&1&&(we.timestamp=Z[0].c?new Date(Z[0].c*1e3):new Date(0)),ie.$set(we),Z[1].vndcfg&&Z[1].usrcfg?te?pe&2&&P(te,1):(te=$u(Z),te.c(),P(te,1),te.m(U,null)):te&&(Ce(),A(te,1,1,()=>{te=null}),$e())},i(Z){O||(P(i.$$.fragment,Z),P(f.$$.fragment,Z),P($.$$.fragment,Z),P(F.$$.fragment,Z),P(E.$$.fragment,Z),P(I.$$.fragment,Z),P(ie.$$.fragment,Z),P(te),O=!0)},o(Z){A(i.$$.fragment,Z),A(f.$$.fragment,Z),A($.$$.fragment,Z),A(F.$$.fragment,Z),A(E.$$.fragment,Z),A(I.$$.fragment,Z),A(ie.$$.fragment,Z),A(te),O=!1},d(Z){Z&&y(e),Y(i),Y(f),X&&X.d(),Y($),Y(F),Y(E),Y(I),ne&&ne.d(),ce&&ce.d(),oe&&oe.d(),Y(ie),te&&te.d()}}}function I1(t,e,l){let{data:n={}}=e,i={};return Bt.subscribe(s=>{l(1,i=s),s.fwconsent===1&&s1()}),If.subscribe(s=>{o1(i.version,s)}),t.$$set=s=>{"data"in s&&l(0,n=s.data)},[n,i]}class N1 extends ge{constructor(e){super(),he(this,e,I1,F1,ve,{data:0})}}function R1(t){let e,l,n,i;return{c(){e=Se("svg"),l=Se("path"),n=Se("path"),r(l,"d",ys(150,150,115,210,510)),r(l,"stroke","#eee"),r(l,"fill","none"),r(l,"stroke-width","55"),r(n,"d",i=ys(150,150,115,210,210+300*t[0]/100)),r(n,"stroke",t[1]),r(n,"fill","none"),r(n,"stroke-width","55"),r(e,"viewBox","0 0 300 300"),r(e,"xmlns","http://www.w3.org/2000/svg"),r(e,"height","100%")},m(s,u){C(s,e,u),o(e,l),o(e,n)},p(s,[u]){u&1&&i!==(i=ys(150,150,115,210,210+300*s[0]/100))&&r(n,"d",i),u&2&&r(n,"stroke",s[1])},i:ue,o:ue,d(s){s&&y(e)}}}function Su(t,e,l,n){var i=(n-90)*Math.PI/180;return{x:t+l*Math.cos(i),y:e+l*Math.sin(i)}}function ys(t,e,l,n,i){var s=Su(t,e,l,i),u=Su(t,e,l,n),a=i-n<=180?"0":"1",f=["M",s.x,s.y,"A",l,l,0,a,0,u.x,u.y].join(" ");return f}function L1(t,e,l){let{pct:n=0}=e,{color:i="red"}=e;return t.$$set=s=>{"pct"in s&&l(0,n=s.pct),"color"in s&&l(1,i=s.color)},[n,i]}class q1 extends ge{constructor(e){super(),he(this,e,L1,R1,ve,{pct:0,color:1})}}function Tu(t){let e,l,n,i,s,u,a,f;return{c(){e=c("br"),l=v(),n=c("span"),i=T(t[3]),s=v(),u=c("span"),a=T(t[4]),f=T("/kWh"),r(n,"class","pl-sub"),r(u,"class","pl-snt")},m(m,_){C(m,e,_),C(m,l,_),C(m,n,_),o(n,i),C(m,s,_),C(m,u,_),o(u,a),o(u,f)},p(m,_){_&8&&J(i,m[3]),_&16&&J(a,m[4])},d(m){m&&y(e),m&&y(l),m&&y(n),m&&y(s),m&&y(u)}}}function O1(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w;l=new q1({props:{pct:t[6],color:t[5](t[6])}});let k=t[3]&&Tu(t);return{c(){e=c("div"),Q(l.$$.fragment),n=v(),i=c("span"),s=c("span"),u=T(t[2]),a=v(),f=c("br"),m=v(),_=c("span"),p=T(t[0]),d=v(),b=c("span"),h=T(t[1]),g=v(),k&&k.c(),r(s,"class","pl-lab"),r(_,"class","pl-val"),r(b,"class","pl-unt"),r(i,"class","pl-ov"),r(e,"class","pl-root")},m($,M){C($,e,M),G(l,e,null),o(e,n),o(e,i),o(i,s),o(s,u),o(i,a),o(i,f),o(i,m),o(i,_),o(_,p),o(i,d),o(i,b),o(b,h),o(i,g),k&&k.m(i,null),w=!0},p($,[M]){const F={};M&64&&(F.pct=$[6]),M&96&&(F.color=$[5]($[6])),l.$set(F),(!w||M&4)&&J(u,$[2]),(!w||M&1)&&J(p,$[0]),(!w||M&2)&&J(h,$[1]),$[3]?k?k.p($,M):(k=Tu($),k.c(),k.m(i,null)):k&&(k.d(1),k=null)},i($){w||(P(l.$$.fragment,$),w=!0)},o($){A(l.$$.fragment,$),w=!1},d($){$&&y(e),Y(l),k&&k.d()}}}function j1(t,e,l){let{val:n}=e,{max:i}=e,{unit:s}=e,{label:u}=e,{sub:a=""}=e,{subunit:f=""}=e,{colorFn:m}=e,_=0;return t.$$set=p=>{"val"in p&&l(0,n=p.val),"max"in p&&l(7,i=p.max),"unit"in p&&l(1,s=p.unit),"label"in p&&l(2,u=p.label),"sub"in p&&l(3,a=p.sub),"subunit"in p&&l(4,f=p.subunit),"colorFn"in p&&l(5,m=p.colorFn)},t.$$.update=()=>{t.$$.dirty&129&&l(6,_=Math.min(n,i)/i*100)},[n,s,u,a,f,m,_,i]}class Rf extends ge{constructor(e){super(),he(this,e,j1,O1,ve,{val:0,max:7,unit:1,label:2,sub:3,subunit:4,colorFn:5})}}function Pu(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}function Mu(t,e,l){const n=t.slice();return n[9]=e[l],n[11]=l,n}function Eu(t,e,l){const n=t.slice();return n[13]=e[l],n}function Du(t){let e,l=t[0].title+"",n;return{c(){e=c("strong"),n=T(l),r(e,"class","text-sm")},m(i,s){C(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=i[0].title+"")&&J(n,l)},d(i){i&&y(e)}}}function Au(t){let e,l,n,i=t[13].label+"",s,u,a,f;return{c(){e=Se("g"),l=Se("line"),n=Se("text"),s=T(i),r(l,"x2","100%"),r(n,"y","-4"),r(n,"x",u=t[13].align=="right"?"85%":""),r(e,"class",a="tick tick-"+t[13].value+" tick-"+t[13].color),r(e,"transform",f="translate(0, "+t[6](t[13].value)+")")},m(m,_){C(m,e,_),o(e,l),o(e,n),o(n,s)},p(m,_){_&1&&i!==(i=m[13].label+"")&&J(s,i),_&1&&u!==(u=m[13].align=="right"?"85%":"")&&r(n,"x",u),_&1&&a!==(a="tick tick-"+m[13].value+" tick-"+m[13].color)&&r(e,"class",a),_&65&&f!==(f="translate(0, "+m[6](m[13].value)+")")&&r(e,"transform",f)},d(m){m&&y(e)}}}function Fu(t){let e,l=t[9].label+"",n,i;return{c(){e=Se("text"),n=T(l),r(e,"x",i=t[3]/2),r(e,"y","-4")},m(s,u){C(s,e,u),o(e,n)},p(s,u){u&1&&l!==(l=s[9].label+"")&&J(n,l),u&8&&i!==(i=s[3]/2)&&r(e,"x",i)},d(s){s&&y(e)}}}function Iu(t){let e,l,n=(t[3]>20||t[11]%2==0)&&Fu(t);return{c(){e=Se("g"),n&&n.c(),r(e,"class","tick"),r(e,"transform",l="translate("+t[5](t[11])+","+t[4]+")")},m(i,s){C(i,e,s),n&&n.m(e,null)},p(i,s){i[3]>20||i[11]%2==0?n?n.p(i,s):(n=Fu(i),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s&48&&l!==(l="translate("+i[5](i[11])+","+i[4]+")")&&r(e,"transform",l)},d(i){i&&y(e),n&&n.d()}}}function Nu(t){let e,l,n,i,s,u,a,f,m=t[3]>15&&Ru(t),_=t[3]<16&&t[11]%3==0&&t[9].value>1e-4&&qu(t);return{c(){e=Se("rect"),m&&m.c(),a=He(),_&&_.c(),f=He(),r(e,"x",l=t[5](t[11])+2),r(e,"y",n=t[6](t[9].value)),r(e,"width",i=t[3]<8?t[3]-2:t[3]-4),r(e,"height",s=t[6](t[0].y.min)-t[6](Math.min(t[0].y.min,0)+t[9].value)),r(e,"fill",u=t[9].color)},m(p,d){C(p,e,d),m&&m.m(p,d),C(p,a,d),_&&_.m(p,d),C(p,f,d)},p(p,d){d&32&&l!==(l=p[5](p[11])+2)&&r(e,"x",l),d&65&&n!==(n=p[6](p[9].value))&&r(e,"y",n),d&8&&i!==(i=p[3]<8?p[3]-2:p[3]-4)&&r(e,"width",i),d&65&&s!==(s=p[6](p[0].y.min)-p[6](Math.min(p[0].y.min,0)+p[9].value))&&r(e,"height",s),d&1&&u!==(u=p[9].color)&&r(e,"fill",u),p[3]>15?m?m.p(p,d):(m=Ru(p),m.c(),m.m(a.parentNode,a)):m&&(m.d(1),m=null),p[3]<16&&p[11]%3==0&&p[9].value>1e-4?_?_.p(p,d):(_=qu(p),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},d(p){p&&y(e),m&&m.d(p),p&&y(a),_&&_.d(p),p&&y(f)}}}function Ru(t){let e,l=t[9].label+"",n,i,s,u,a,f,m,_,p=t[9].title&&Lu(t);return{c(){e=Se("text"),n=T(l),p&&p.c(),_=He(),r(e,"y",i=t[6](t[9].value)>t[6](0)-t[7]?t[6](t[9].value)-t[7]:t[6](t[9].value)+10),r(e,"x",s=t[5](t[11])+t[3]/2),r(e,"width",u=t[3]-4),r(e,"dominant-baseline","middle"),r(e,"text-anchor",a=t[3]<25?"left":"middle"),r(e,"fill",f=t[6](t[9].value)>t[6](0)-t[7]?"black":"white"),r(e,"transform",m="rotate("+(t[3]<25?90:0)+", "+(t[5](t[11])+t[3]/2)+", "+(t[6](t[9].value)>t[6](0)-t[7]?t[6](t[9].value)-t[7]:t[6](t[9].value)+9)+")")},m(d,b){C(d,e,b),o(e,n),p&&p.m(d,b),C(d,_,b)},p(d,b){b&1&&l!==(l=d[9].label+"")&&J(n,l),b&193&&i!==(i=d[6](d[9].value)>d[6](0)-d[7]?d[6](d[9].value)-d[7]:d[6](d[9].value)+10)&&r(e,"y",i),b&40&&s!==(s=d[5](d[11])+d[3]/2)&&r(e,"x",s),b&8&&u!==(u=d[3]-4)&&r(e,"width",u),b&8&&a!==(a=d[3]<25?"left":"middle")&&r(e,"text-anchor",a),b&193&&f!==(f=d[6](d[9].value)>d[6](0)-d[7]?"black":"white")&&r(e,"fill",f),b&233&&m!==(m="rotate("+(d[3]<25?90:0)+", "+(d[5](d[11])+d[3]/2)+", "+(d[6](d[9].value)>d[6](0)-d[7]?d[6](d[9].value)-d[7]:d[6](d[9].value)+9)+")")&&r(e,"transform",m),d[9].title?p?p.p(d,b):(p=Lu(d),p.c(),p.m(_.parentNode,_)):p&&(p.d(1),p=null)},d(d){d&&y(e),p&&p.d(d),d&&y(_)}}}function Lu(t){let e,l=t[9].title+"",n;return{c(){e=Se("title"),n=T(l)},m(i,s){C(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=i[9].title+"")&&J(n,l)},d(i){i&&y(e)}}}function qu(t){let e,l=t[9].label+"",n,i,s,u;return{c(){e=Se("text"),n=T(l),r(e,"y",i=t[6](t[0].y.max)),r(e,"x",s=t[5](t[11])+t[3]/2-4),r(e,"text-anchor","middle"),r(e,"fill","black"),r(e,"transform",u="rotate(90, "+(t[5](t[11])+t[3]/2-4)+", "+t[6](t[0].y.max)+")")},m(a,f){C(a,e,f),o(e,n)},p(a,f){f&1&&l!==(l=a[9].label+"")&&J(n,l),f&65&&i!==(i=a[6](a[0].y.max))&&r(e,"y",i),f&40&&s!==(s=a[5](a[11])+a[3]/2-4)&&r(e,"x",s),f&105&&u!==(u="rotate(90, "+(a[5](a[11])+a[3]/2-4)+", "+a[6](a[0].y.max)+")")&&r(e,"transform",u)},d(a){a&&y(e)}}}function Ou(t){let e,l,n,i,s,u,a,f,m=t[3]>15&&ju(t),_=t[3]<16&&t[11]%3==0&&Hu(t);return{c(){e=Se("rect"),m&&m.c(),a=He(),_&&_.c(),f=He(),r(e,"x",l=t[5](t[11])+2),r(e,"y",n=t[6](0)),r(e,"width",i=t[3]<8?t[3]-2:t[3]-4),r(e,"height",s=t[6](t[0].y.min)-t[6](t[0].y.min+t[9].value2)),r(e,"fill",u=t[9].color2)},m(p,d){C(p,e,d),m&&m.m(p,d),C(p,a,d),_&&_.m(p,d),C(p,f,d)},p(p,d){d&32&&l!==(l=p[5](p[11])+2)&&r(e,"x",l),d&64&&n!==(n=p[6](0))&&r(e,"y",n),d&8&&i!==(i=p[3]<8?p[3]-2:p[3]-4)&&r(e,"width",i),d&65&&s!==(s=p[6](p[0].y.min)-p[6](p[0].y.min+p[9].value2))&&r(e,"height",s),d&1&&u!==(u=p[9].color2)&&r(e,"fill",u),p[3]>15?m?m.p(p,d):(m=ju(p),m.c(),m.m(a.parentNode,a)):m&&(m.d(1),m=null),p[3]<16&&p[11]%3==0?_?_.p(p,d):(_=Hu(p),_.c(),_.m(f.parentNode,f)):_&&(_.d(1),_=null)},d(p){p&&y(e),m&&m.d(p),p&&y(a),_&&_.d(p),p&&y(f)}}}function ju(t){let e,l=t[9].label2+"",n,i,s,u,a,f,m,_,p=t[9].title2&&Uu(t);return{c(){e=Se("text"),n=T(l),p&&p.c(),_=He(),r(e,"y",i=t[6](-t[9].value2)<t[6](0)+12?t[6](-t[9].value2)+12:t[6](-t[9].value2)-10),r(e,"x",s=t[5](t[11])+t[3]/2),r(e,"width",u=t[3]-4),r(e,"dominant-baseline","middle"),r(e,"text-anchor",a=t[3]<25?"left":"middle"),r(e,"fill",f=t[6](-t[9].value2)<t[6](0)+12?"black":"white"),r(e,"transform",m="rotate("+(t[3]<25?90:0)+", "+(t[5](t[11])+t[3]/2)+", "+(t[6](t[9].value2-t[0].y.min)>t[6](0)-12?t[6](t[9].value2-t[0].y.min)-12:t[6](t[9].value2-t[0].y.min)+9)+")")},m(d,b){C(d,e,b),o(e,n),p&&p.m(d,b),C(d,_,b)},p(d,b){b&1&&l!==(l=d[9].label2+"")&&J(n,l),b&65&&i!==(i=d[6](-d[9].value2)<d[6](0)+12?d[6](-d[9].value2)+12:d[6](-d[9].value2)-10)&&r(e,"y",i),b&40&&s!==(s=d[5](d[11])+d[3]/2)&&r(e,"x",s),b&8&&u!==(u=d[3]-4)&&r(e,"width",u),b&8&&a!==(a=d[3]<25?"left":"middle")&&r(e,"text-anchor",a),b&65&&f!==(f=d[6](-d[9].value2)<d[6](0)+12?"black":"white")&&r(e,"fill",f),b&105&&m!==(m="rotate("+(d[3]<25?90:0)+", "+(d[5](d[11])+d[3]/2)+", "+(d[6](d[9].value2-d[0].y.min)>d[6](0)-12?d[6](d[9].value2-d[0].y.min)-12:d[6](d[9].value2-d[0].y.min)+9)+")")&&r(e,"transform",m),d[9].title2?p?p.p(d,b):(p=Uu(d),p.c(),p.m(_.parentNode,_)):p&&(p.d(1),p=null)},d(d){d&&y(e),p&&p.d(d),d&&y(_)}}}function Uu(t){let e,l=t[9].title2+"",n;return{c(){e=Se("title"),n=T(l)},m(i,s){C(i,e,s),o(e,n)},p(i,s){s&1&&l!==(l=i[9].title2+"")&&J(n,l)},d(i){i&&y(e)}}}function Hu(t){let e,l=t[9].label2+"",n,i,s,u;return{c(){e=Se("text"),n=T(l),r(e,"y",i=t[6](t[0].y.max)),r(e,"x",s=t[5](t[11])+t[3]/2-4),r(e,"text-anchor","middle"),r(e,"fill","black"),r(e,"transform",u="rotate(90, "+(t[5](t[11])+t[3]/2-4)+", "+t[6](t[0].y.max)+")")},m(a,f){C(a,e,f),o(e,n)},p(a,f){f&1&&l!==(l=a[9].label2+"")&&J(n,l),f&65&&i!==(i=a[6](a[0].y.max))&&r(e,"y",i),f&40&&s!==(s=a[5](a[11])+a[3]/2-4)&&r(e,"x",s),f&105&&u!==(u="rotate(90, "+(a[5](a[11])+a[3]/2-4)+", "+a[6](a[0].y.max)+")")&&r(e,"transform",u)},d(a){a&&y(e)}}}function Wu(t){let e,l,n=t[9].value!==void 0&&Nu(t),i=t[9].value2>1e-4&&Ou(t);return{c(){e=Se("g"),n&&n.c(),l=Se("g"),i&&i.c()},m(s,u){C(s,e,u),n&&n.m(e,null),C(s,l,u),i&&i.m(l,null)},p(s,u){s[9].value!==void 0?n?n.p(s,u):(n=Nu(s),n.c(),n.m(e,null)):n&&(n.d(1),n=null),s[9].value2>1e-4?i?i.p(s,u):(i=Ou(s),i.c(),i.m(l,null)):i&&(i.d(1),i=null)},d(s){s&&y(e),n&&n.d(),s&&y(l),i&&i.d()}}}function U1(t){let e,l,n,i,s,u,a,f=t[0].title&&Du(t),m=t[0].y.ticks,_=[];for(let g=0;g<m.length;g+=1)_[g]=Au(Eu(t,m,g));let p=t[0].x.ticks,d=[];for(let g=0;g<p.length;g+=1)d[g]=Iu(Mu(t,p,g));let b=t[0].points,h=[];for(let g=0;g<b.length;g+=1)h[g]=Wu(Pu(t,b,g));return{c(){e=c("div"),f&&f.c(),l=v(),n=Se("svg"),i=Se("g");for(let g=0;g<_.length;g+=1)_[g].c();s=Se("g");for(let g=0;g<d.length;g+=1)d[g].c();u=Se("g");for(let g=0;g<h.length;g+=1)h[g].c();r(i,"class","axis y-axis"),r(s,"class","axis x-axis"),r(u,"class","bars"),r(n,"height",t[4]),r(e,"class","chart"),Ze(()=>t[8].call(e))},m(g,w){C(g,e,w),f&&f.m(e,null),o(e,l),o(e,n),o(n,i);for(let k=0;k<_.length;k+=1)_[k].m(i,null);o(n,s);for(let k=0;k<d.length;k+=1)d[k].m(s,null);o(n,u);for(let k=0;k<h.length;k+=1)h[k].m(u,null);a=zf(e,t[8].bind(e))},p(g,[w]){if(g[0].title?f?f.p(g,w):(f=Du(g),f.c(),f.m(e,l)):f&&(f.d(1),f=null),w&65){m=g[0].y.ticks;let k;for(k=0;k<m.length;k+=1){const $=Eu(g,m,k);_[k]?_[k].p($,w):(_[k]=Au($),_[k].c(),_[k].m(i,null))}for(;k<_.length;k+=1)_[k].d(1);_.length=m.length}if(w&57){p=g[0].x.ticks;let k;for(k=0;k<p.length;k+=1){const $=Mu(g,p,k);d[k]?d[k].p($,w):(d[k]=Iu($),d[k].c(),d[k].m(s,null))}for(;k<d.length;k+=1)d[k].d(1);d.length=p.length}if(w&233){b=g[0].points;let k;for(k=0;k<b.length;k+=1){const $=Pu(g,b,k);h[k]?h[k].p($,w):(h[k]=Wu($),h[k].c(),h[k].m(u,null))}for(;k<h.length;k+=1)h[k].d(1);h.length=b.length}w&16&&r(n,"height",g[4])},i:ue,o:ue,d(g){g&&y(e),f&&f.d(),pl(_,g),pl(d,g),pl(h,g),a()}}}function H1(t,e,l){let{config:n}=e,i,s,u,a,f,m,_;function p(){i=this.clientWidth,s=this.clientHeight,l(1,i),l(2,s)}return t.$$set=d=>{"config"in d&&l(0,n=d.config)},t.$$.update=()=>{if(t.$$.dirty&31){l(4,m=s-(n.title?20:0));let d=i-(n.padding.left+n.padding.right);l(3,u=d/n.points.length),l(7,_=u<25?28:17);let b=(m-n.padding.top-n.padding.bottom)/(n.y.max-n.y.min);l(5,a=function(h){return h*u+n.padding.left}),l(6,f=function(h){let g=0;return h>n.y.max?g=n.padding.bottom:h<n.y.min?g=m-n.padding.bottom:g=m-n.padding.bottom-(h-n.y.min)*b,g>m||g<0?0:g})}},[n,i,s,u,m,a,f,_,p]}class vl extends ge{constructor(e){super(),he(this,e,H1,U1,ve,{config:0})}}function W1(t){let e,l;return e=new vl({props:{config:t[0]}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function z1(t,e,l){let{u1:n}=e,{u2:i}=e,{u3:s}=e,{ds:u}=e,a={};function f(m){return{label:me(m)+"V",title:m.toFixed(1)+" V",value:isNaN(m)?0:m,color:Jc()}}return t.$$set=m=>{"u1"in m&&l(1,n=m.u1),"u2"in m&&l(2,i=m.u2),"u3"in m&&l(3,s=m.u3),"ds"in m&&l(4,u=m.ds)},t.$$.update=()=>{if(t.$$.dirty&30){let m=[],_=[];n>0&&(m.push({label:u===1?"L1-L2":"L1"}),_.push(f(n))),i>0&&(m.push({label:u===1?"L1-L3":"L2"}),_.push(f(i))),s>0&&(m.push({label:u===1?"L2-L3":"L3"}),_.push(f(s))),l(0,a={padding:{top:20,right:15,bottom:20,left:35},y:{min:200,max:260,ticks:[{value:207,label:"-10%"},{value:230,label:"230v"},{value:253,label:"+10%"}]},x:{ticks:m},points:_})}},[a,n,i,s,u]}class B1 extends ge{constructor(e){super(),he(this,e,z1,W1,ve,{u1:1,u2:2,u3:3,ds:4})}}function G1(t){let e,l;return e=new vl({props:{config:t[0]}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function Y1(t,e,l){let{u1:n}=e,{u2:i}=e,{u3:s}=e,{i1:u}=e,{i2:a}=e,{i3:f}=e,{max:m}=e,_={};function p(d){return{label:me(d)+"A",title:d.toFixed(1)+" A",value:isNaN(d)?0:d,color:xc()}}return t.$$set=d=>{"u1"in d&&l(1,n=d.u1),"u2"in d&&l(2,i=d.u2),"u3"in d&&l(3,s=d.u3),"i1"in d&&l(4,u=d.i1),"i2"in d&&l(5,a=d.i2),"i3"in d&&l(6,f=d.i3),"max"in d&&l(7,m=d.max)},t.$$.update=()=>{if(t.$$.dirty&254){let d=[],b=[];n>0&&(d.push({label:"L1"}),b.push(p(u))),i>0&&(d.push({label:"L2"}),b.push(p(a))),s>0&&(d.push({label:"L3"}),b.push(p(f))),l(0,_={padding:{top:20,right:15,bottom:20,left:35},y:{min:0,max:m,ticks:[{value:0,label:"0%"},{value:m/4,label:"25%"},{value:m/2,label:"50%"},{value:m/4*3,label:"75%"},{value:m,label:"100%"}]},x:{ticks:d},points:b})}},[_,n,i,s,u,a,f,m]}class K1 extends ge{constructor(e){super(),he(this,e,Y1,G1,ve,{u1:1,u2:2,u3:3,i1:4,i2:5,i3:6,max:7})}}function V1(t){let e,l,n,i,s,u,a,f=(typeof t[0]<"u"?t[0].toFixed(0):"-")+"",m,_,p,d,b,h,g=(typeof t[1]<"u"?t[1].toFixed(0):"-")+"",w,k,$,M,F,S,E,R=(typeof t[2]<"u"?t[2].toFixed(1):"-")+"",I,H,L,N,q,U,W=(typeof t[3]<"u"?t[3].toFixed(1):"-")+"",j,K;return{c(){e=c("div"),l=c("strong"),l.textContent="Blindleistung",n=v(),i=c("div"),s=c("div"),s.textContent="Aktueller Bezug",u=v(),a=c("div"),m=T(f),_=T(" VAr"),p=v(),d=c("div"),d.textContent="Aktueller Export",b=v(),h=c("div"),w=T(g),k=T(" VAr"),$=v(),M=c("div"),F=c("div"),F.textContent="Gesamt Bezug",S=v(),E=c("div"),I=T(R),H=T(" kVArh"),L=v(),N=c("div"),N.textContent="Gesamt Export",q=v(),U=c("div"),j=T(W),K=T(" kVArh"),r(a,"class","text-right"),r(h,"class","text-right"),r(i,"class","grid grid-cols-2 mt-4"),r(E,"class","text-right"),r(U,"class","text-right"),r(M,"class","grid grid-cols-2 mt-4"),r(e,"class","mx-2 text-sm")},m(x,B){C(x,e,B),o(e,l),o(e,n),o(e,i),o(i,s),o(i,u),o(i,a),o(a,m),o(a,_),o(i,p),o(i,d),o(i,b),o(i,h),o(h,w),o(h,k),o(e,$),o(e,M),o(M,F),o(M,S),o(M,E),o(E,I),o(E,H),o(M,L),o(M,N),o(M,q),o(M,U),o(U,j),o(U,K)},p(x,[B]){B&1&&f!==(f=(typeof x[0]<"u"?x[0].toFixed(0):"-")+"")&&J(m,f),B&2&&g!==(g=(typeof x[1]<"u"?x[1].toFixed(0):"-")+"")&&J(w,g),B&4&&R!==(R=(typeof x[2]<"u"?x[2].toFixed(1):"-")+"")&&J(I,R),B&8&&W!==(W=(typeof x[3]<"u"?x[3].toFixed(1):"-")+"")&&J(j,W)},i:ue,o:ue,d(x){x&&y(e)}}}function Q1(t,e,l){let{importInstant:n}=e,{exportInstant:i}=e,{importTotal:s}=e,{exportTotal:u}=e;return t.$$set=a=>{"importInstant"in a&&l(0,n=a.importInstant),"exportInstant"in a&&l(1,i=a.exportInstant),"importTotal"in a&&l(2,s=a.importTotal),"exportTotal"in a&&l(3,u=a.exportTotal)},[n,i,s,u]}class X1 extends ge{constructor(e){super(),he(this,e,Q1,V1,ve,{importInstant:0,exportInstant:1,importTotal:2,exportTotal:3})}}function zu(t){let e;function l(s,u){return s[2]?J1:Z1}let n=l(t),i=n(t);return{c(){i.c(),e=He()},m(s,u){i.m(s,u),C(s,e,u)},p(s,u){n===(n=l(s))&&i?i.p(s,u):(i.d(1),i=n(s),i&&(i.c(),i.m(e.parentNode,e)))},d(s){i.d(s),s&&y(e)}}}function Z1(t){let e,l,n,i,s,u,a=me(t[0].h.u,2)+"",f,m,_,p,d,b,h=me(t[0].d.u,1)+"",g,w,k,$,M,F,S=me(t[0].m.u)+"",E,R,I,H,L=t[3]&&Bu(t);return{c(){e=c("strong"),e.textContent="Bezug",l=v(),n=c("div"),i=c("div"),i.textContent="Stunde",s=v(),u=c("div"),f=T(a),m=T(" kWh"),_=v(),p=c("div"),p.textContent="Tag",d=v(),b=c("div"),g=T(h),w=T(" kWh"),k=v(),$=c("div"),$.textContent="Monat",M=v(),F=c("div"),E=T(S),R=T(" kWh"),I=v(),L&&L.c(),H=He(),r(u,"class","text-right"),r(b,"class","text-right"),r(F,"class","text-right"),r(n,"class","grid grid-cols-2 mb-3")},m(N,q){C(N,e,q),C(N,l,q),C(N,n,q),o(n,i),o(n,s),o(n,u),o(u,f),o(u,m),o(n,_),o(n,p),o(n,d),o(n,b),o(b,g),o(b,w),o(n,k),o(n,$),o(n,M),o(n,F),o(F,E),o(F,R),C(N,I,q),L&&L.m(N,q),C(N,H,q)},p(N,q){q&1&&a!==(a=me(N[0].h.u,2)+"")&&J(f,a),q&1&&h!==(h=me(N[0].d.u,1)+"")&&J(g,h),q&1&&S!==(S=me(N[0].m.u)+"")&&J(E,S),N[3]?L?L.p(N,q):(L=Bu(N),L.c(),L.m(H.parentNode,H)):L&&(L.d(1),L=null)},d(N){N&&y(e),N&&y(l),N&&y(n),N&&y(I),L&&L.d(N),N&&y(H)}}}function J1(t){let e,l,n,i,s,u,a=me(t[0].h.u,2)+"",f,m,_,p,d,b,h,g=me(t[0].d.u,1)+"",w,k,$,M,F,S,E,R=me(t[0].m.u)+"",I,H,L,N,q,U,W,j,K,x,B,re=me(t[0].h.p,2)+"",ie,ee,O,X,ne,ce,oe,te=me(t[0].d.p,1)+"",Z,pe,ye,Re,je,ze,Le,be=me(t[0].m.p)+"",we,se,_e,at,Pe=t[3]&&Gu(t),Me=t[3]&&Yu(t),Ee=t[3]&&Ku(t),De=t[3]&&Vu(t),Ae=t[3]&&Qu(t),Fe=t[3]&&Xu(t);return{c(){e=c("strong"),e.textContent="Bezug",l=v(),n=c("div"),i=c("div"),i.textContent="Stunde",s=v(),u=c("div"),f=T(a),m=T(" kWh"),_=v(),Pe&&Pe.c(),p=v(),d=c("div"),d.textContent="Tag",b=v(),h=c("div"),w=T(g),k=T(" kWh"),$=v(),Me&&Me.c(),M=v(),F=c("div"),F.textContent="Monat",S=v(),E=c("div"),I=T(R),H=T(" kWh"),L=v(),Ee&&Ee.c(),q=v(),U=c("strong"),U.textContent="Export",W=v(),j=c("div"),K=c("div"),K.textContent="Stunde",x=v(),B=c("div"),ie=T(re),ee=T(" kWh"),O=v(),De&&De.c(),X=v(),ne=c("div"),ne.textContent="Day",ce=v(),oe=c("div"),Z=T(te),pe=T(" kWh"),ye=v(),Ae&&Ae.c(),Re=v(),je=c("div"),je.textContent="Monat",ze=v(),Le=c("div"),we=T(be),se=T(" kWh"),_e=v(),Fe&&Fe.c(),r(u,"class","text-right"),r(h,"class","text-right"),r(E,"class","text-right"),r(n,"class",N="grid grid-cols-"+t[4]+" mb-3"),r(B,"class","text-right"),r(oe,"class","text-right"),r(Le,"class","text-right"),r(j,"class",at="grid grid-cols-"+t[4])},m(fe,ke){C(fe,e,ke),C(fe,l,ke),C(fe,n,ke),o(n,i),o(n,s),o(n,u),o(u,f),o(u,m),o(n,_),Pe&&Pe.m(n,null),o(n,p),o(n,d),o(n,b),o(n,h),o(h,w),o(h,k),o(n,$),Me&&Me.m(n,null),o(n,M),o(n,F),o(n,S),o(n,E),o(E,I),o(E,H),o(n,L),Ee&&Ee.m(n,null),C(fe,q,ke),C(fe,U,ke),C(fe,W,ke),C(fe,j,ke),o(j,K),o(j,x),o(j,B),o(B,ie),o(B,ee),o(j,O),De&&De.m(j,null),o(j,X),o(j,ne),o(j,ce),o(j,oe),o(oe,Z),o(oe,pe),o(j,ye),Ae&&Ae.m(j,null),o(j,Re),o(j,je),o(j,ze),o(j,Le),o(Le,we),o(Le,se),o(j,_e),Fe&&Fe.m(j,null)},p(fe,ke){ke&1&&a!==(a=me(fe[0].h.u,2)+"")&&J(f,a),fe[3]?Pe?Pe.p(fe,ke):(Pe=Gu(fe),Pe.c(),Pe.m(n,p)):Pe&&(Pe.d(1),Pe=null),ke&1&&g!==(g=me(fe[0].d.u,1)+"")&&J(w,g),fe[3]?Me?Me.p(fe,ke):(Me=Yu(fe),Me.c(),Me.m(n,M)):Me&&(Me.d(1),Me=null),ke&1&&R!==(R=me(fe[0].m.u)+"")&&J(I,R),fe[3]?Ee?Ee.p(fe,ke):(Ee=Ku(fe),Ee.c(),Ee.m(n,null)):Ee&&(Ee.d(1),Ee=null),ke&16&&N!==(N="grid grid-cols-"+fe[4]+" mb-3")&&r(n,"class",N),ke&1&&re!==(re=me(fe[0].h.p,2)+"")&&J(ie,re),fe[3]?De?De.p(fe,ke):(De=Vu(fe),De.c(),De.m(j,X)):De&&(De.d(1),De=null),ke&1&&te!==(te=me(fe[0].d.p,1)+"")&&J(Z,te),fe[3]?Ae?Ae.p(fe,ke):(Ae=Qu(fe),Ae.c(),Ae.m(j,Re)):Ae&&(Ae.d(1),Ae=null),ke&1&&be!==(be=me(fe[0].m.p)+"")&&J(we,be),fe[3]?Fe?Fe.p(fe,ke):(Fe=Xu(fe),Fe.c(),Fe.m(j,null)):Fe&&(Fe.d(1),Fe=null),ke&16&&at!==(at="grid grid-cols-"+fe[4])&&r(j,"class",at)},d(fe){fe&&y(e),fe&&y(l),fe&&y(n),Pe&&Pe.d(),Me&&Me.d(),Ee&&Ee.d(),fe&&y(q),fe&&y(U),fe&&y(W),fe&&y(j),De&&De.d(),Ae&&Ae.d(),Fe&&Fe.d()}}}function Bu(t){let e,l,n,i,s,u,a=me(t[0].h.c,2)+"",f,m,_,p,d,b,h,g=me(t[0].d.c,1)+"",w,k,$,M,F,S,E,R=me(t[0].m.c)+"",I,H,L;return{c(){e=c("strong"),e.textContent="Kosten",l=v(),n=c("div"),i=c("div"),i.textContent="Stunde",s=v(),u=c("div"),f=T(a),m=v(),_=T(t[1]),p=v(),d=c("div"),d.textContent="Tag",b=v(),h=c("div"),w=T(g),k=v(),$=T(t[1]),M=v(),F=c("div"),F.textContent="Monat",S=v(),E=c("div"),I=T(R),H=v(),L=T(t[1]),r(u,"class","text-right"),r(h,"class","text-right"),r(E,"class","text-right"),r(n,"class","grid grid-cols-2")},m(N,q){C(N,e,q),C(N,l,q),C(N,n,q),o(n,i),o(n,s),o(n,u),o(u,f),o(u,m),o(u,_),o(n,p),o(n,d),o(n,b),o(n,h),o(h,w),o(h,k),o(h,$),o(n,M),o(n,F),o(n,S),o(n,E),o(E,I),o(E,H),o(E,L)},p(N,q){q&1&&a!==(a=me(N[0].h.c,2)+"")&&J(f,a),q&2&&J(_,N[1]),q&1&&g!==(g=me(N[0].d.c,1)+"")&&J(w,g),q&2&&J($,N[1]),q&1&&R!==(R=me(N[0].m.c)+"")&&J(I,R),q&2&&J(L,N[1])},d(N){N&&y(e),N&&y(l),N&&y(n)}}}function Gu(t){let e,l=me(t[0].h.c,2)+"",n,i,s;return{c(){e=c("div"),n=T(l),i=v(),s=T(t[1]),r(e,"class","text-right")},m(u,a){C(u,e,a),o(e,n),o(e,i),o(e,s)},p(u,a){a&1&&l!==(l=me(u[0].h.c,2)+"")&&J(n,l),a&2&&J(s,u[1])},d(u){u&&y(e)}}}function Yu(t){let e,l=me(t[0].d.c,1)+"",n,i,s;return{c(){e=c("div"),n=T(l),i=v(),s=T(t[1]),r(e,"class","text-right")},m(u,a){C(u,e,a),o(e,n),o(e,i),o(e,s)},p(u,a){a&1&&l!==(l=me(u[0].d.c,1)+"")&&J(n,l),a&2&&J(s,u[1])},d(u){u&&y(e)}}}function Ku(t){let e,l=me(t[0].m.c)+"",n,i,s;return{c(){e=c("div"),n=T(l),i=v(),s=T(t[1]),r(e,"class","text-right")},m(u,a){C(u,e,a),o(e,n),o(e,i),o(e,s)},p(u,a){a&1&&l!==(l=me(u[0].m.c)+"")&&J(n,l),a&2&&J(s,u[1])},d(u){u&&y(e)}}}function Vu(t){let e,l=me(t[0].h.i,2)+"",n,i,s;return{c(){e=c("div"),n=T(l),i=v(),s=T(t[1]),r(e,"class","text-right")},m(u,a){C(u,e,a),o(e,n),o(e,i),o(e,s)},p(u,a){a&1&&l!==(l=me(u[0].h.i,2)+"")&&J(n,l),a&2&&J(s,u[1])},d(u){u&&y(e)}}}function Qu(t){let e,l=me(t[0].d.i,1)+"",n,i,s;return{c(){e=c("div"),n=T(l),i=v(),s=T(t[1]),r(e,"class","text-right")},m(u,a){C(u,e,a),o(e,n),o(e,i),o(e,s)},p(u,a){a&1&&l!==(l=me(u[0].d.i,1)+"")&&J(n,l),a&2&&J(s,u[1])},d(u){u&&y(e)}}}function Xu(t){let e,l=me(t[0].m.i)+"",n,i,s;return{c(){e=c("div"),n=T(l),i=v(),s=T(t[1]),r(e,"class","text-right")},m(u,a){C(u,e,a),o(e,n),o(e,i),o(e,s)},p(u,a){a&1&&l!==(l=me(u[0].m.i)+"")&&J(n,l),a&2&&J(s,u[1])},d(u){u&&y(e)}}}function x1(t){let e,l,n,i,s,u,a=t[0]&&zu(t);return{c(){e=c("div"),l=c("strong"),l.textContent="Aktuelle Daten",n=v(),i=c("br"),s=c("br"),u=v(),a&&a.c(),r(e,"class","mx-2 text-sm")},m(f,m){C(f,e,m),o(e,l),o(e,n),o(e,i),o(e,s),o(e,u),a&&a.m(e,null)},p(f,[m]){f[0]?a?a.p(f,m):(a=zu(f),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i:ue,o:ue,d(f){f&&y(e),a&&a.d()}}}function em(t,e,l){let{data:n}=e,{currency:i}=e,{hasExport:s}=e,u=!1,a=3;return t.$$set=f=>{"data"in f&&l(0,n=f.data),"currency"in f&&l(1,i=f.currency),"hasExport"in f&&l(2,s=f.hasExport)},t.$$.update=()=>{t.$$.dirty&9&&(l(3,u=n&&n.h&&(n.h.c||n.d.c||n.m.c||n.h.i||n.d.i||n.m.i)),l(4,a=u?3:2))},[n,i,s,u,a]}class tm extends ge{constructor(e){super(),he(this,e,em,x1,ve,{data:0,currency:1,hasExport:2})}}function lm(t){let e,l,n,i;return n=new vl({props:{config:t[0]}}),{c(){e=c("a"),e.textContent="Provided by ENTSO-E",l=v(),Q(n.$$.fragment),r(e,"href","https://transparency.entsoe.eu/"),r(e,"target","_blank"),r(e,"class","text-xs float-right z-40")},m(s,u){C(s,e,u),C(s,l,u),G(n,s,u),i=!0},p(s,[u]){const a={};u&1&&(a.config=s[0]),n.$set(a)},i(s){i||(P(n.$$.fragment,s),i=!0)},o(s){A(n.$$.fragment,s),i=!1},d(s){s&&y(e),s&&y(l),Y(n,s)}}}function nm(t,e,l){let{json:n}=e,i={},s=0,u=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=new Date().getUTCHours(),f=0,m=0,_=0,p=n[20]==null?2:1,d=[],b=[],h=[],g=new Date;for(f=a;f<24&&(m=n[de(_++)],m!=null);f++)b.push({label:de(g.getHours())}),h.push({label:m>0?m.toFixed(p):"",value:m>0?Math.abs(m*100):0,title2:m<0?m.toFixed(2)+" "+n.currency:"",label2:m<0?m.toFixed(p):"",title2:m<0?m.toFixed(2)+" "+n.currency:"",value2:m<0?Math.abs(m*100):0,color:"#7c3aed"}),l(3,u=Math.min(u,m*100)),l(2,s=Math.max(s,m*100)),Vn(g,1);for(f=0;f<24&&(m=n[de(_++)],m!=null);f++)b.push({label:de(g.getHours())}),h.push({label:m>0?m.toFixed(p):"",value:m>0?Math.abs(m*100):0,label2:m<0?m.toFixed(p):"",value2:m<0?Math.abs(m*100):0,color:"#7c3aed"}),l(3,u=Math.min(u,m*100)),l(2,s=Math.max(s,m*100)),Vn(g,1);if(l(2,s=Math.ceil(s)),l(3,u=Math.floor(u)),u<0){let k=u/4;for(f=1;f<5;f++){let $=k*f;d.push({value:$,label:($/100).toFixed(2)})}}let w=s/4;for(f=0;f<5;f++){let k=w*f;d.push({value:k,label:(k/100).toFixed(2)})}l(0,i={title:"Future energy price ("+n.currency+")",padding:{top:20,right:15,bottom:20,left:35},y:{min:u,max:s,ticks:d},x:{ticks:b},points:h})}},[i,n,s,u]}class im extends ge{constructor(e){super(),he(this,e,nm,lm,ve,{json:1})}}function sm(t){let e,l;return e=new vl({props:{config:t[0]}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function om(t,e,l){let{json:n}=e,i={},s=0,u=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=0,f=[],m=[],_=[],p=Vn(new Date,-24),d=new Date().getUTCHours();for(a=d;a<24;a++){let g=n["i"+de(a)],w=n["e"+de(a)];g===void 0&&(g=0),w===void 0&&(w=0),m.push({label:de(p.getHours())}),_.push({label:g.toFixed(1),title:g.toFixed(2)+" kWh",value:g*10,label2:w.toFixed(1),title2:w.toFixed(2)+" kWh",value2:w*10,color2:"#407038",color:"#7c3aed"}),l(3,u=Math.max(u,w*10)),l(2,s=Math.max(s,g*10)),Vn(p,1)}for(a=0;a<d;a++){let g=n["i"+de(a)],w=n["e"+de(a)];g===void 0&&(g=0),w===void 0&&(w=0),m.push({label:de(p.getHours())}),_.push({label:g.toFixed(1),title:g.toFixed(2)+" kWh",value:g*10,label2:w.toFixed(1),title2:w.toFixed(2)+" kWh",value2:w*10,color2:"#407038",color:"#7c3aed"}),l(3,u=Math.max(u,w*10)),l(2,s=Math.max(s,g*10)),Vn(p,1)}let b=Math.ceil(Math.max(u,s));if(l(2,s=b),l(3,u=u==0?0:b*-1),u<0){let g=u/4;for(a=1;a<5;a++){let w=g*a;f.push({value:w,label:(w/10).toFixed(1)})}}let h=s/4;for(a=0;a<5;a++){let g=h*a;f.push({value:g,label:(g/10).toFixed(1)})}l(0,i={title:"Elektrische Energie letzte 24 Stunden (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:u,max:s,ticks:f},x:{ticks:m},points:_})}},[i,n,s,u]}class rm extends ge{constructor(e){super(),he(this,e,om,sm,ve,{json:1})}}function um(t){let e,l;return e=new vl({props:{config:t[0]}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function am(t,e,l){let{json:n}=e,i={},s=0,u=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=0,f=[],m=[],_=[],p=new Date,d=new Date;for(d.setDate(0),a=p.getDate();a<=d.getDate();a++){let g=n["i"+de(a)],w=n["e"+de(a)];g===void 0&&(g=0),w===void 0&&(w=0),m.push({label:de(a)}),_.push({label:g.toFixed(g<10?1:0),title:g.toFixed(2)+" kWh",value:g,label2:w.toFixed(w<10?1:0),title2:w.toFixed(2)+" kWh",value2:w,color2:"#407038",color:"#7c3aed"}),l(3,u=Math.max(u,w)),l(2,s=Math.max(s,g))}for(a=1;a<p.getDate();a++){let g=n["i"+de(a)],w=n["e"+de(a)];g===void 0&&(g=0),w===void 0&&(w=0),m.push({label:de(a)}),_.push({label:g.toFixed(g<10?1:0),title:g.toFixed(2)+" kWh",value:g,label2:w.toFixed(w<10?1:0),title2:w.toFixed(2)+" kWh",value2:w,color2:"#407038",color:"#7c3aed"}),l(3,u=Math.max(u,w)),l(2,s=Math.max(s,g))}let b=Math.ceil(Math.max(u,s)/10)*10;if(l(2,s=b),l(3,u=u==0?0:b*-1),u<0){let g=u/4;for(a=0;a<5;a++){let w=g*a;f.push({value:w,label:w.toFixed(0)})}}let h=s/4;for(a=0;a<5;a++){let g=h*a;f.push({value:g,label:g.toFixed(0)})}l(0,i={title:"Elektrische Energie letztes Monat (kWh)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:u,max:s,ticks:f},x:{ticks:m},points:_})}},[i,n,s,u]}class fm extends ge{constructor(e){super(),he(this,e,am,um,ve,{json:1})}}function cm(t){let e,l;return e=new vl({props:{config:t[0]}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}let Zu=179;function mm(t,e,l){let{json:n}=e,i={},s=0,u=0,a=0,f=0;return t.$$set=m=>{"json"in m&&l(1,n=m.json)},t.$$.update=()=>{if(t.$$.dirty&62){let m=0,_=[],p=[],d=[],b=0;for(m=Zu;m>-1;m--){let h=n["i"+de(m)];h===void 0&&(h=0),h<0?(b=-1*h,h=0):b=0,m==Zu&&(l(2,s=Math.ceil(h/10)*10),l(3,u=Math.floor(h/10)*10),l(4,a=Math.ceil(b/10)*10),l(5,f=Math.floor(b/10)*10)),m%3==0?p.push({label:de(-1*m/3)}):p.push({label:" "}),d.push({label:h,value:h,label2:b*-1,value2:b,color2:"#407038",color:"#7c3aed"}),l(3,u=Math.min(u,h)),l(2,s=Math.max(s,h)),l(5,f=Math.min(f,b)),l(4,a=Math.max(a,b))}if(a>0?(l(4,a=Math.ceil(a/10)*10),l(5,f=Math.floor(f/10)*10),s>0&&(l(3,u=0),l(5,f=0))):(l(4,a=0),l(5,f=0)),s>0&&l(5,f=0),l(4,a=a*-1),l(5,f=f*-1),a<0){let h=(a-f)/4;for(h>-1&&(h=-1),m=0;m<5;m++){let g=h*m+f;_.push({value:g,label:g.toFixed(0)})}}if(l(2,s=Math.ceil(s/10)*10),u>0&&l(3,u=Math.floor(u/10)*10),s>0){let h=(s-u)/4;for(h<1&&(h=1),m=0;m<5;m++){let g=h*m+u;_.push({value:g,label:g.toFixed(0)})}}a<0&&(l(3,u=a),s<0&&(l(2,s=f),l(3,u=a))),l(0,i={title:"Elektrische Leistung letzte Stunde (Watt)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:u,max:s,ticks:_},x:{ticks:p},points:d})}},[i,n,s,u,a,f]}class pm extends ge{constructor(e){super(),he(this,e,mm,cm,ve,{json:1})}}function _m(t){let e,l;return e=new vl({props:{config:t[0]}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function dm(t,e,l){let{json:n}=e,i={},s=0,u=0;return t.$$set=a=>{"json"in a&&l(1,n=a.json)},t.$$.update=()=>{if(t.$$.dirty&14){let a=0,f=0,m=[],_=[],p=[];n.s&&n.s.forEach((h,g)=>{var w=h.n?h.n:h.a;f=h.v,f==-127&&(f=0),_.push({label:w.slice(-4)}),p.push({label:f.toFixed(1),value:f,color:"#7c3aed"}),l(3,u=Math.min(u,f)),l(2,s=Math.max(s,f))}),l(2,s=Math.ceil(s)),l(3,u=Math.floor(u));let d=s;u<0&&(d+=Math.abs(u));let b=d/4;for(a=0;a<5;a++)f=u+b*a,m.push({value:f,label:f.toFixed(1)});l(0,i={title:"Temperature sensors (\xB0C)",height:226,width:1520,padding:{top:20,right:15,bottom:20,left:35},y:{min:u,max:s,ticks:m},x:{ticks:_},points:p})}},[i,n,s,u]}class vm extends ge{constructor(e){super(),he(this,e,dm,_m,ve,{json:1})}}function hm(t){let e,l;return e=new vl({props:{config:t[0]}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,[i]){const s={};i&1&&(s.config=n[0]),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}let gm=0;function bm(t,e,l){let n={},i=0,s;return Ff.subscribe(u=>{l(2,s=u)}),Af(),t.$$.update=()=>{if(t.$$.dirty&6){let u=0,a=[],f=[],m=[];if(a.push({value:0,label:0}),s&&s.p)for(u=0;u<s.p.length;u++){let _=s.p[u];m.push({label:_.v.toFixed(2),value:_.v,color:"#7c3aed"}),f.push({label:_.d>0?de(_.d)+"."+Ps[new Date().getMonth()]:"-"}),l(1,i=Math.max(i,_.v))}if(s&&s.t){for(u=0;u<s.t.length;u++){let _=s.t[u];if(_>=i)break;a.push({value:_,label:_})}a.push({label:s.m.toFixed(1),align:"right",color:"green",value:s.m})}s&&s.c&&(a.push({label:s.c.toFixed(0),color:"orange",value:s.c}),l(1,i=Math.max(i,s.c))),l(1,i=Math.ceil(i)),l(0,n={title:"Tariff peaks",padding:{top:20,right:35,bottom:20,left:35},y:{min:gm,max:i,ticks:a},x:{ticks:f},points:m})}},[n,i,s]}class km extends ge{constructor(e){super(),he(this,e,bm,hm,ve,{})}}function Ju(t){let e,l,n,i,s,u,a=(t[0].mt?Zi(t[0].mt):"-")+"",f,m,_,p=(t[0].ic?t[0].ic.toFixed(1):"-")+"",d,b,h;return i=new Rf({props:{val:t[0].i?t[0].i:0,max:t[0].im?t[0].im:15e3,unit:"W",label:"Bezug",sub:t[0].p,subunit:t[0].pc,colorFn:e1}}),{c(){e=c("div"),l=c("div"),n=c("div"),Q(i.$$.fragment),s=v(),u=c("div"),f=T(a),m=v(),_=c("div"),d=T(p),b=T(" kWh"),r(n,"class","col-span-2"),r(_,"class","text-right"),r(l,"class","grid grid-cols-2"),r(e,"class","cnt")},m(g,w){C(g,e,w),o(e,l),o(l,n),G(i,n,null),o(l,s),o(l,u),o(u,f),o(l,m),o(l,_),o(_,d),o(_,b),h=!0},p(g,w){const k={};w&1&&(k.val=g[0].i?g[0].i:0),w&1&&(k.max=g[0].im?g[0].im:15e3),w&1&&(k.sub=g[0].p),w&1&&(k.subunit=g[0].pc),i.$set(k),(!h||w&1)&&a!==(a=(g[0].mt?Zi(g[0].mt):"-")+"")&&J(f,a),(!h||w&1)&&p!==(p=(g[0].ic?g[0].ic.toFixed(1):"-")+"")&&J(d,p)},i(g){h||(P(i.$$.fragment,g),h=!0)},o(g){A(i.$$.fragment,g),h=!1},d(g){g&&y(e),Y(i)}}}function xu(t){let e,l,n,i,s,u,a,f,m=(t[0].ec?t[0].ec.toFixed(1):"-")+"",_,p,d;return i=new Rf({props:{val:t[0].e?t[0].e:0,max:t[0].om?t[0].om*1e3:1e4,unit:"W",label:"Export",colorFn:t1}}),{c(){e=c("div"),l=c("div"),n=c("div"),Q(i.$$.fragment),s=v(),u=c("div"),a=v(),f=c("div"),_=T(m),p=T(" kWh"),r(n,"class","col-span-2"),r(f,"class","text-right"),r(l,"class","grid grid-cols-2"),r(e,"class","cnt")},m(b,h){C(b,e,h),o(e,l),o(l,n),G(i,n,null),o(l,s),o(l,u),o(l,a),o(l,f),o(f,_),o(f,p),d=!0},p(b,h){const g={};h&1&&(g.val=b[0].e?b[0].e:0),h&1&&(g.max=b[0].om?b[0].om*1e3:1e4),i.$set(g),(!d||h&1)&&m!==(m=(b[0].ec?b[0].ec.toFixed(1):"-")+"")&&J(_,m)},i(b){d||(P(i.$$.fragment,b),d=!0)},o(b){A(i.$$.fragment,b),d=!1},d(b){b&&y(e),Y(i)}}}function ea(t){let e,l,n;return l=new B1({props:{u1:t[0].u1,u2:t[0].u2,u3:t[0].u3,ds:t[0].ds}}),{c(){e=c("div"),Q(l.$$.fragment),r(e,"class","cnt")},m(i,s){C(i,e,s),G(l,e,null),n=!0},p(i,s){const u={};s&1&&(u.u1=i[0].u1),s&1&&(u.u2=i[0].u2),s&1&&(u.u3=i[0].u3),s&1&&(u.ds=i[0].ds),l.$set(u)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&y(e),Y(l)}}}function ta(t){let e,l,n;return l=new K1({props:{u1:t[0].u1,u2:t[0].u2,u3:t[0].u3,i1:t[0].i1,i2:t[0].i2,i3:t[0].i3,max:t[0].mf?t[0].mf:32}}),{c(){e=c("div"),Q(l.$$.fragment),r(e,"class","cnt")},m(i,s){C(i,e,s),G(l,e,null),n=!0},p(i,s){const u={};s&1&&(u.u1=i[0].u1),s&1&&(u.u2=i[0].u2),s&1&&(u.u3=i[0].u3),s&1&&(u.i1=i[0].i1),s&1&&(u.i2=i[0].i2),s&1&&(u.i3=i[0].i3),s&1&&(u.max=i[0].mf?i[0].mf:32),l.$set(u)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&y(e),Y(l)}}}function la(t){let e,l,n;return l=new X1({props:{importInstant:t[0].ri,exportInstant:t[0].re,importTotal:t[0].ric,exportTotal:t[0].rec}}),{c(){e=c("div"),Q(l.$$.fragment),r(e,"class","cnt")},m(i,s){C(i,e,s),G(l,e,null),n=!0},p(i,s){const u={};s&1&&(u.importInstant=i[0].ri),s&1&&(u.exportInstant=i[0].re),s&1&&(u.importTotal=i[0].ric),s&1&&(u.exportTotal=i[0].rec),l.$set(u)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&y(e),Y(l)}}}function na(t){let e,l,n;return l=new tm({props:{data:t[0].ea,currency:t[0].pc,hasExport:t[0].om>0||t[0].e>0}}),{c(){e=c("div"),Q(l.$$.fragment),r(e,"class","cnt")},m(i,s){C(i,e,s),G(l,e,null),n=!0},p(i,s){const u={};s&1&&(u.data=i[0].ea),s&1&&(u.currency=i[0].pc),s&1&&(u.hasExport=i[0].om>0||i[0].e>0),l.$set(u)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&y(e),Y(l)}}}function ia(t){let e,l,n;return l=new km({}),{c(){e=c("div"),Q(l.$$.fragment),r(e,"class","cnt h-64")},m(i,s){C(i,e,s),G(l,e,null),n=!0},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&y(e),Y(l)}}}function sa(t){let e,l,n;return l=new im({props:{json:t[2]}}),{c(){e=c("div"),Q(l.$$.fragment),r(e,"class","cnt gwf")},m(i,s){C(i,e,s),G(l,e,null),n=!0},p(i,s){const u={};s&4&&(u.json=i[2]),l.$set(u)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&y(e),Y(l)}}}function oa(t){let e,l,n;return l=new pm({props:{json:t[5]}}),{c(){e=c("div"),Q(l.$$.fragment),r(e,"class","cnt gwf")},m(i,s){C(i,e,s),G(l,e,null),n=!0},p(i,s){const u={};s&32&&(u.json=i[5]),l.$set(u)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&y(e),Y(l)}}}function ra(t){let e,l,n;return l=new rm({props:{json:t[3]}}),{c(){e=c("div"),Q(l.$$.fragment),r(e,"class","cnt gwf")},m(i,s){C(i,e,s),G(l,e,null),n=!0},p(i,s){const u={};s&8&&(u.json=i[3]),l.$set(u)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&y(e),Y(l)}}}function ua(t){let e,l,n;return l=new fm({props:{json:t[4]}}),{c(){e=c("div"),Q(l.$$.fragment),r(e,"class","cnt gwf")},m(i,s){C(i,e,s),G(l,e,null),n=!0},p(i,s){const u={};s&16&&(u.json=i[4]),l.$set(u)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&y(e),Y(l)}}}function aa(t){let e,l,n;return l=new vm({props:{json:t[6]}}),{c(){e=c("div"),Q(l.$$.fragment),r(e,"class","cnt gwf")},m(i,s){C(i,e,s),G(l,e,null),n=!0},p(i,s){const u={};s&64&&(u.json=i[6]),l.$set(u)},i(i){n||(P(l.$$.fragment,i),n=!0)},o(i){A(l.$$.fragment,i),n=!1},d(i){i&&y(e),Y(l)}}}function wm(t){let e,l=Te(t[1].ui.i,t[0].i),n,i=Te(t[1].ui.e,t[0].om||t[0].e>0),s,u=Te(t[1].ui.v,t[0].u1>100||t[0].u2>100||t[0].u3>100),a,f=Te(t[1].ui.a,t[0].i1>.01||t[0].i2>.01||t[0].i3>.01),m,_=Te(t[1].ui.r,t[0].ri>0||t[0].re>0||t[0].ric>0||t[0].rec>0),p,d=Te(t[1].ui.c,t[0].ea),b,h=Te(t[1].ui.t,t[0].pr&&(t[0].pr.startsWith("10YNO")||t[0].pr=="10Y1001A1001A48H")),g,w=Te(t[1].ui.p,t[0].pe&&!Number.isNaN(t[0].p)),k,$=Te(t[1].ui.d,t[5]),M,F=Te(t[1].ui.d,t[3]),S,E=Te(t[1].ui.m,t[4]),R,I=Te(t[1].ui.s,t[0].t&&t[0].t!=-127&&t[6].c>1),H,L=l&&Ju(t),N=i&&xu(t),q=u&&ea(t),U=f&&ta(t),W=_&&la(t),j=d&&na(t),K=h&&ia(),x=w&&sa(t),B=$&&oa(t),re=F&&ra(t),ie=E&&ua(t),ee=I&&aa(t);return{c(){e=c("div"),L&&L.c(),n=v(),N&&N.c(),s=v(),q&&q.c(),a=v(),U&&U.c(),m=v(),W&&W.c(),p=v(),j&&j.c(),b=v(),K&&K.c(),g=v(),x&&x.c(),k=v(),B&&B.c(),M=v(),re&&re.c(),S=v(),ie&&ie.c(),R=v(),ee&&ee.c(),r(e,"class","grid 2xl:grid-cols-6 xl:grid-cols-5 lg:grid-cols-4 md:grid-cols-3 sm:grid-cols-2")},m(O,X){C(O,e,X),L&&L.m(e,null),o(e,n),N&&N.m(e,null),o(e,s),q&&q.m(e,null),o(e,a),U&&U.m(e,null),o(e,m),W&&W.m(e,null),o(e,p),j&&j.m(e,null),o(e,b),K&&K.m(e,null),o(e,g),x&&x.m(e,null),o(e,k),B&&B.m(e,null),o(e,M),re&&re.m(e,null),o(e,S),ie&&ie.m(e,null),o(e,R),ee&&ee.m(e,null),H=!0},p(O,[X]){X&3&&(l=Te(O[1].ui.i,O[0].i)),l?L?(L.p(O,X),X&3&&P(L,1)):(L=Ju(O),L.c(),P(L,1),L.m(e,n)):L&&(Ce(),A(L,1,1,()=>{L=null}),$e()),X&3&&(i=Te(O[1].ui.e,O[0].om||O[0].e>0)),i?N?(N.p(O,X),X&3&&P(N,1)):(N=xu(O),N.c(),P(N,1),N.m(e,s)):N&&(Ce(),A(N,1,1,()=>{N=null}),$e()),X&3&&(u=Te(O[1].ui.v,O[0].u1>100||O[0].u2>100||O[0].u3>100)),u?q?(q.p(O,X),X&3&&P(q,1)):(q=ea(O),q.c(),P(q,1),q.m(e,a)):q&&(Ce(),A(q,1,1,()=>{q=null}),$e()),X&3&&(f=Te(O[1].ui.a,O[0].i1>.01||O[0].i2>.01||O[0].i3>.01)),f?U?(U.p(O,X),X&3&&P(U,1)):(U=ta(O),U.c(),P(U,1),U.m(e,m)):U&&(Ce(),A(U,1,1,()=>{U=null}),$e()),X&3&&(_=Te(O[1].ui.r,O[0].ri>0||O[0].re>0||O[0].ric>0||O[0].rec>0)),_?W?(W.p(O,X),X&3&&P(W,1)):(W=la(O),W.c(),P(W,1),W.m(e,p)):W&&(Ce(),A(W,1,1,()=>{W=null}),$e()),X&3&&(d=Te(O[1].ui.c,O[0].ea)),d?j?(j.p(O,X),X&3&&P(j,1)):(j=na(O),j.c(),P(j,1),j.m(e,b)):j&&(Ce(),A(j,1,1,()=>{j=null}),$e()),X&3&&(h=Te(O[1].ui.t,O[0].pr&&(O[0].pr.startsWith("10YNO")||O[0].pr=="10Y1001A1001A48H"))),h?K?X&3&&P(K,1):(K=ia(),K.c(),P(K,1),K.m(e,g)):K&&(Ce(),A(K,1,1,()=>{K=null}),$e()),X&3&&(w=Te(O[1].ui.p,O[0].pe&&!Number.isNaN(O[0].p))),w?x?(x.p(O,X),X&3&&P(x,1)):(x=sa(O),x.c(),P(x,1),x.m(e,k)):x&&(Ce(),A(x,1,1,()=>{x=null}),$e()),X&34&&($=Te(O[1].ui.d,O[5])),$?B?(B.p(O,X),X&34&&P(B,1)):(B=oa(O),B.c(),P(B,1),B.m(e,M)):B&&(Ce(),A(B,1,1,()=>{B=null}),$e()),X&10&&(F=Te(O[1].ui.d,O[3])),F?re?(re.p(O,X),X&10&&P(re,1)):(re=ra(O),re.c(),P(re,1),re.m(e,S)):re&&(Ce(),A(re,1,1,()=>{re=null}),$e()),X&18&&(E=Te(O[1].ui.m,O[4])),E?ie?(ie.p(O,X),X&18&&P(ie,1)):(ie=ua(O),ie.c(),P(ie,1),ie.m(e,R)):ie&&(Ce(),A(ie,1,1,()=>{ie=null}),$e()),X&67&&(I=Te(O[1].ui.s,O[0].t&&O[0].t!=-127&&O[6].c>1)),I?ee?(ee.p(O,X),X&67&&P(ee,1)):(ee=aa(O),ee.c(),P(ee,1),ee.m(e,null)):ee&&(Ce(),A(ee,1,1,()=>{ee=null}),$e())},i(O){H||(P(L),P(N),P(q),P(U),P(W),P(j),P(K),P(x),P(B),P(re),P(ie),P(ee),H=!0)},o(O){A(L),A(N),A(q),A(U),A(W),A(j),A(K),A(x),A(B),A(re),A(ie),A(ee),H=!1},d(O){O&&y(e),L&&L.d(),N&&N.d(),q&&q.d(),U&&U.d(),W&&W.d(),j&&j.d(),K&&K.d(),x&&x.d(),B&&B.d(),re&&re.d(),ie&&ie.d(),ee&&ee.d()}}}function ym(t,e,l){let{data:n={}}=e,{sysinfo:i={}}=e,s={},u={},a={},f={},m={};return Sf.subscribe(_=>{l(2,s=_)}),Tf.subscribe(_=>{l(3,u=_)}),Pf.subscribe(_=>{l(4,a=_)}),Mf.subscribe(_=>{l(5,f=_)}),Df.subscribe(_=>{l(6,m=_)}),t.$$set=_=>{"data"in _&&l(0,n=_.data),"sysinfo"in _&&l(1,i=_.sysinfo)},[n,i,s,u,a,f,m]}class Cm extends ge{constructor(e){super(),he(this,e,ym,wm,ve,{data:0,sysinfo:1})}}let Rs={};const Lf=We(Rs);async function $m(){Rs=await(await fetch("/configuration.json")).json(),Lf.set(Rs)}function fa(t){let e,l,n=t[1]&&ca(t);return{c(){e=c("div"),l=c("div"),n&&n.c(),r(l,"class","fixed inset-0 bg-gray-500 bg-opacity-50 flex items-center justify-center"),r(e,"class","z-50"),r(e,"aria-modal","true")},m(i,s){C(i,e,s),o(e,l),n&&n.m(l,null)},p(i,s){i[1]?n?n.p(i,s):(n=ca(i),n.c(),n.m(l,null)):n&&(n.d(1),n=null)},d(i){i&&y(e),n&&n.d()}}}function ca(t){let e,l;return{c(){e=c("div"),l=T(t[1]),r(e,"class","bg-white m-2 p-3 rounded-md shadow-lg pb-4 text-gray-700 w-96")},m(n,i){C(n,e,i),o(e,l)},p(n,i){i&2&&J(l,n[1])},d(n){n&&y(e)}}}function Sm(t){let e,l=t[0]&&fa(t);return{c(){l&&l.c(),e=He()},m(n,i){l&&l.m(n,i),C(n,e,i)},p(n,[i]){n[0]?l?l.p(n,i):(l=fa(n),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ue,o:ue,d(n){l&&l.d(n),n&&y(e)}}}function Tm(t,e,l){let{active:n}=e,{message:i}=e;return t.$$set=s=>{"active"in s&&l(0,n=s.active),"message"in s&&l(1,i=s.message)},[n,i]}class dt extends ge{constructor(e){super(),he(this,e,Tm,Sm,ve,{active:0,message:1})}}function ma(t,e,l){const n=t.slice();return n[1]=e[l],n}function pa(t){let e,l,n=t[1]+"",i;return{c(){e=c("option"),l=T("Europe/"),i=T(n),e.__value="Europe/"+t[1],e.value=e.__value},m(s,u){C(s,e,u),o(e,l),o(e,i)},p:ue,d(s){s&&y(e)}}}function Pm(t){let e,l,n,i=t[0],s=[];for(let u=0;u<i.length;u+=1)s[u]=pa(ma(t,i,u));return{c(){e=c("option"),e.textContent="GMT",l=v();for(let u=0;u<s.length;u+=1)s[u].c();n=He(),e.__value="GMT",e.value=e.__value},m(u,a){C(u,e,a),C(u,l,a);for(let f=0;f<s.length;f+=1)s[f].m(u,a);C(u,n,a)},p(u,[a]){if(a&1){i=u[0];let f;for(f=0;f<i.length;f+=1){const m=ma(u,i,f);s[f]?s[f].p(m,a):(s[f]=pa(m),s[f].c(),s[f].m(n.parentNode,n))}for(;f<s.length;f+=1)s[f].d(1);s.length=i.length}},i:ue,o:ue,d(u){u&&y(e),u&&y(l),pl(s,u),u&&y(n)}}}function Mm(t){return[["Amsterdam","Athens","Belfast","Berlin","Bratislava","Brussels","Bucharest","Budapest","Copenhagen","Dublin","Helsinki","Lisbon","Ljubljana","London","Luxembourg","Madrid","Malta","Nicosia","Oslo","Paris","Prague","Riga","Rome","Sofia","Stockholm","Tallinn","Vienna","Vilnius","Warsaw","Zagreb","Zurich"]]}class Em extends ge{constructor(e){super(),he(this,e,Mm,Pm,ve,{})}}function Dm(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h;return{c(){e=c("optgroup"),l=c("option"),l.textContent="/24",n=v(),i=c("optgroup"),s=c("option"),s.textContent="/25",u=c("option"),u.textContent="/26",a=c("option"),a.textContent="/27",f=c("option"),f.textContent="/28",m=c("option"),m.textContent="/29",_=v(),p=c("optgroup"),d=c("option"),d.textContent="/23",b=c("option"),b.textContent="/22",h=c("option"),h.textContent="/16",l.__value="255.255.255.0",l.value=l.__value,r(e,"label","Most common is /24 (255.255.255.0)"),s.__value="255.255.255.128",s.value=s.__value,u.__value="255.255.255.192",u.value=u.__value,a.__value="255.255.255.224",a.value=a.__value,f.__value="255.255.255.240",f.value=f.__value,m.__value="255.255.255.248",m.value=m.__value,r(i,"label","Smaller subnets"),d.__value="255.255.254.0",d.value=d.__value,b.__value="255.255.252.0",b.value=b.__value,h.__value="255.255.0.0",h.value=h.__value,r(p,"label","Larger subnets")},m(g,w){C(g,e,w),o(e,l),C(g,n,w),C(g,i,w),o(i,s),o(i,u),o(i,a),o(i,f),o(i,m),C(g,_,w),C(g,p,w),o(p,d),o(p,b),o(p,h)},p:ue,i:ue,o:ue,d(g){g&&y(e),g&&y(n),g&&y(i),g&&y(_),g&&y(p)}}}class qf extends ge{constructor(e){super(),he(this,e,null,Dm,ve,{})}}function _a(t,e,l){const n=t.slice();return n[84]=e[l],n[85]=e,n[86]=l,n}function da(t,e,l){const n=t.slice();return n[87]=e[l],n[88]=e,n[89]=l,n}function Am(t,e,l){const n=t.slice();return n[90]=e[l],n}function Fm(t){let e,l;return{c(){e=c("option"),l=T(t[90]),e.__value=t[90],e.value=e.__value},m(n,i){C(n,e,i),o(e,l)},p:ue,d(n){n&&y(e)}}}function va(t){let e,l,n,i;return{c(){e=c("br"),l=c("input"),r(l,"name","pt"),r(l,"type","text"),r(l,"class","in-s"),r(l,"placeholder","ENTSO-E API key, optional, read docs")},m(s,u){C(s,e,u),C(s,l,u),z(l,t[3].p.t),n||(i=V(l,"input",t[19]),n=!0)},p(s,u){u[0]&8&&l.value!==s[3].p.t&&z(l,s[3].p.t)},d(s){s&&y(e),s&&y(l),n=!1,i()}}}function ha(t){let e,l,n,i,s,u,a,f,m,_,p,d,b;return{c(){e=c("div"),l=T("Username"),n=c("br"),i=v(),s=c("input"),u=v(),a=c("div"),f=T("Password"),m=c("br"),_=v(),p=c("input"),r(s,"name","gu"),r(s,"type","text"),r(s,"class","in-s"),r(e,"class","my-1"),r(p,"name","gp"),r(p,"type","password"),r(p,"class","in-s"),r(a,"class","my-1")},m(h,g){C(h,e,g),o(e,l),o(e,n),o(e,i),o(e,s),z(s,t[3].g.u),C(h,u,g),C(h,a,g),o(a,f),o(a,m),o(a,_),o(a,p),z(p,t[3].g.p),d||(b=[V(s,"input",t[21]),V(p,"input",t[22])],d=!0)},p(h,g){g[0]&8&&s.value!==h[3].g.u&&z(s,h[3].g.u),g[0]&8&&p.value!==h[3].g.p&&z(p,h[3].g.p)},d(h){h&&y(e),h&&y(u),h&&y(a),d=!1,Oe(b)}}}function ga(t){let e,l,n,i;return{c(){e=c("br"),l=c("input"),r(l,"name","mek"),r(l,"type","text"),r(l,"class","in-s")},m(s,u){C(s,e,u),C(s,l,u),z(l,t[3].m.e.k),n||(i=V(l,"input",t[27]),n=!0)},p(s,u){u[0]&8&&l.value!==s[3].m.e.k&&z(l,s[3].m.e.k)},d(s){s&&y(e),s&&y(l),n=!1,i()}}}function ba(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w,k,$,M,F,S,E,R,I,H,L;return{c(){e=c("div"),l=c("div"),n=T("Watt"),i=c("br"),s=v(),u=c("input"),a=v(),f=c("div"),m=T("Volt"),_=c("br"),p=v(),d=c("input"),b=v(),h=c("div"),g=T("Amp"),w=c("br"),k=v(),$=c("input"),M=v(),F=c("div"),S=T("kWh"),E=c("br"),R=v(),I=c("input"),r(u,"name","mmw"),r(u,"type","number"),r(u,"min","0.00"),r(u,"max","655.35"),r(u,"step","0.01"),r(u,"class","in-f tr w-full"),r(l,"class","w-1/4"),r(d,"name","mmv"),r(d,"type","number"),r(d,"min","0.00"),r(d,"max","655.35"),r(d,"step","0.01"),r(d,"class","in-m tr w-full"),r(f,"class","w-1/4"),r($,"name","mma"),r($,"type","number"),r($,"min","0.00"),r($,"max","655.35"),r($,"step","0.01"),r($,"class","in-m tr w-full"),r(h,"class","w-1/4"),r(I,"name","mmc"),r(I,"type","number"),r(I,"min","0.00"),r(I,"max","655.35"),r(I,"step","0.01"),r(I,"class","in-l tr w-full"),r(F,"class","w-1/4"),r(e,"class","flex my-1")},m(N,q){C(N,e,q),o(e,l),o(l,n),o(l,i),o(l,s),o(l,u),z(u,t[3].m.m.w),o(e,a),o(e,f),o(f,m),o(f,_),o(f,p),o(f,d),z(d,t[3].m.m.v),o(e,b),o(e,h),o(h,g),o(h,w),o(h,k),o(h,$),z($,t[3].m.m.a),o(e,M),o(e,F),o(F,S),o(F,E),o(F,R),o(F,I),z(I,t[3].m.m.c),H||(L=[V(u,"input",t[29]),V(d,"input",t[30]),V($,"input",t[31]),V(I,"input",t[32])],H=!0)},p(N,q){q[0]&8&&ae(u.value)!==N[3].m.m.w&&z(u,N[3].m.m.w),q[0]&8&&ae(d.value)!==N[3].m.m.v&&z(d,N[3].m.m.v),q[0]&8&&ae($.value)!==N[3].m.m.a&&z($,N[3].m.m.a),q[0]&8&&ae(I.value)!==N[3].m.m.c&&z(I,N[3].m.m.c)},d(N){N&&y(e),H=!1,Oe(L)}}}function ka(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w;return{c(){e=c("div"),l=T("Gateway"),n=c("br"),i=v(),s=c("input"),u=v(),a=c("div"),f=T("DNS"),m=c("br"),_=v(),p=c("div"),d=c("input"),b=v(),h=c("input"),r(s,"name","ng"),r(s,"type","text"),r(s,"class","in-s"),r(e,"class","my-1"),r(d,"name","nd1"),r(d,"type","text"),r(d,"class","in-f w-full"),r(h,"name","nd2"),r(h,"type","text"),r(h,"class","in-l w-full"),r(p,"class","flex"),r(a,"class","my-1")},m(k,$){C(k,e,$),o(e,l),o(e,n),o(e,i),o(e,s),z(s,t[3].n.g),C(k,u,$),C(k,a,$),o(a,f),o(a,m),o(a,_),o(a,p),o(p,d),z(d,t[3].n.d1),o(p,b),o(p,h),z(h,t[3].n.d2),g||(w=[V(s,"input",t[41]),V(d,"input",t[42]),V(h,"input",t[43])],g=!0)},p(k,$){$[0]&8&&s.value!==k[3].n.g&&z(s,k[3].n.g),$[0]&8&&d.value!==k[3].n.d1&&z(d,k[3].n.d1),$[0]&8&&h.value!==k[3].n.d2&&z(h,k[3].n.d2)},d(k){k&&y(e),k&&y(u),k&&y(a),g=!1,Oe(w)}}}function wa(t){let e,l,n,i,s;return{c(){e=c("label"),l=c("input"),n=T(" SSL"),r(l,"type","checkbox"),r(l,"name","qs"),l.__value="true",l.value=l.__value,r(l,"class","rounded mb-1"),r(e,"class","float-right mr-3")},m(u,a){C(u,e,a),o(e,l),l.checked=t[3].q.s.e,o(e,n),i||(s=[V(l,"change",t[47]),V(l,"change",t[11])],i=!0)},p(u,a){a[0]&8&&(l.checked=u[3].q.s.e)},d(u){u&&y(e),i=!1,Oe(s)}}}function ya(t){let e,l,n,i,s,u,a,f;return n=new ql({props:{to:"/mqtt-ca",$$slots:{default:[Rm]},$$scope:{ctx:t}}}),s=new ql({props:{to:"/mqtt-cert",$$slots:{default:[Om]},$$scope:{ctx:t}}}),a=new ql({props:{to:"/mqtt-key",$$slots:{default:[Hm]},$$scope:{ctx:t}}}),{c(){e=c("div"),l=c("div"),Q(n.$$.fragment),i=v(),Q(s.$$.fragment),u=v(),Q(a.$$.fragment),r(e,"class","my-1")},m(m,_){C(m,e,_),o(e,l),G(n,l,null),o(l,i),G(s,l,null),o(l,u),G(a,l,null),f=!0},p(m,_){const p={};_[0]&8|_[3]&1&&(p.$$scope={dirty:_,ctx:m}),n.$set(p);const d={};_[0]&8|_[3]&1&&(d.$$scope={dirty:_,ctx:m}),s.$set(d);const b={};_[0]&8|_[3]&1&&(b.$$scope={dirty:_,ctx:m}),a.$set(b)},i(m){f||(P(n.$$.fragment,m),P(s.$$.fragment,m),P(a.$$.fragment,m),f=!0)},o(m){A(n.$$.fragment,m),A(s.$$.fragment,m),A(a.$$.fragment,m),f=!1},d(m){m&&y(e),Y(n),Y(s),Y(a)}}}function Im(t){let e,l;return e=new Wt({props:{color:"blue",text:"Upload CA",title:"Click here to upload CA"}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function Nm(t){let e,l;return e=new Wt({props:{color:"green",text:"CA OK",title:"Click here to replace CA"}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function Rm(t){let e,l,n,i;const s=[Nm,Im],u=[];function a(f,m){return f[3].q.s.c?0:1}return e=a(t),l=u[e]=s[e](t),{c(){l.c(),n=He()},m(f,m){u[e].m(f,m),C(f,n,m),i=!0},p(f,m){let _=e;e=a(f),e!==_&&(Ce(),A(u[_],1,1,()=>{u[_]=null}),$e(),l=u[e],l||(l=u[e]=s[e](f),l.c()),P(l,1),l.m(n.parentNode,n))},i(f){i||(P(l),i=!0)},o(f){A(l),i=!1},d(f){u[e].d(f),f&&y(n)}}}function Lm(t){let e,l;return e=new Wt({props:{color:"blue",text:"Upload cert",title:"Click here to upload certificate"}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function qm(t){let e,l;return e=new Wt({props:{color:"green",text:"Cert OK",title:"Click here to replace certificate"}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function Om(t){let e,l,n,i;const s=[qm,Lm],u=[];function a(f,m){return f[3].q.s.r?0:1}return e=a(t),l=u[e]=s[e](t),{c(){l.c(),n=He()},m(f,m){u[e].m(f,m),C(f,n,m),i=!0},p(f,m){let _=e;e=a(f),e!==_&&(Ce(),A(u[_],1,1,()=>{u[_]=null}),$e(),l=u[e],l||(l=u[e]=s[e](f),l.c()),P(l,1),l.m(n.parentNode,n))},i(f){i||(P(l),i=!0)},o(f){A(l),i=!1},d(f){u[e].d(f),f&&y(n)}}}function jm(t){let e,l;return e=new Wt({props:{color:"blue",text:"Upload key",title:"Click here to upload key"}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function Um(t){let e,l;return e=new Wt({props:{color:"green",text:"Key OK",title:"Click here to replace key"}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function Hm(t){let e,l,n,i;const s=[Um,jm],u=[];function a(f,m){return f[3].q.s.k?0:1}return e=a(t),l=u[e]=s[e](t),{c(){l.c(),n=He()},m(f,m){u[e].m(f,m),C(f,n,m),i=!0},p(f,m){let _=e;e=a(f),e!==_&&(Ce(),A(u[_],1,1,()=>{u[_]=null}),$e(),l=u[e],l||(l=u[e]=s[e](f),l.c()),P(l,1),l.m(n.parentNode,n))},i(f){i||(P(l),i=!0)},o(f){A(l),i=!1},d(f){u[e].d(f),f&&y(n)}}}function Ca(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w,k,$,M,F,S,E,R,I,H,L,N,q,U,W,j,K;return s=new At({}),{c(){e=c("div"),l=c("strong"),l.textContent="Domoticz",n=v(),i=c("a"),Q(s.$$.fragment),u=v(),a=c("input"),f=v(),m=c("div"),_=c("div"),p=T("Electricity IDX"),d=c("br"),b=v(),h=c("input"),g=v(),w=c("div"),k=T("Current IDX"),$=c("br"),M=v(),F=c("input"),S=v(),E=c("div"),R=T(`Voltage IDX: L1, L2 & L3
                `),I=c("div"),H=c("input"),L=v(),N=c("input"),q=v(),U=c("input"),r(l,"class","text-sm"),r(i,"href",Ft("MQTT-configuration#domoticz")),r(i,"target","_blank"),r(i,"class","float-right"),r(a,"type","hidden"),r(a,"name","o"),a.value="true",r(h,"name","oe"),r(h,"type","text"),r(h,"class","in-f tr w-full"),r(_,"class","w-1/2"),r(F,"name","oc"),r(F,"type","text"),r(F,"class","in-l tr w-full"),r(w,"class","w-1/2"),r(m,"class","my-1 flex"),r(H,"name","ou1"),r(H,"type","text"),r(H,"class","in-f tr w-1/3"),r(N,"name","ou2"),r(N,"type","text"),r(N,"class","in-m tr w-1/3"),r(U,"name","ou3"),r(U,"type","text"),r(U,"class","in-l tr w-1/3"),r(I,"class","flex"),r(E,"class","my-1"),r(e,"class","cnt")},m(x,B){C(x,e,B),o(e,l),o(e,n),o(e,i),G(s,i,null),o(e,u),o(e,a),o(e,f),o(e,m),o(m,_),o(_,p),o(_,d),o(_,b),o(_,h),z(h,t[3].o.e),o(m,g),o(m,w),o(w,k),o(w,$),o(w,M),o(w,F),z(F,t[3].o.c),o(e,S),o(e,E),o(E,R),o(E,I),o(I,H),z(H,t[3].o.u1),o(I,L),o(I,N),z(N,t[3].o.u2),o(I,q),o(I,U),z(U,t[3].o.u3),W=!0,j||(K=[V(h,"input",t[55]),V(F,"input",t[56]),V(H,"input",t[57]),V(N,"input",t[58]),V(U,"input",t[59])],j=!0)},p(x,B){B[0]&8&&h.value!==x[3].o.e&&z(h,x[3].o.e),B[0]&8&&F.value!==x[3].o.c&&z(F,x[3].o.c),B[0]&8&&H.value!==x[3].o.u1&&z(H,x[3].o.u1),B[0]&8&&N.value!==x[3].o.u2&&z(N,x[3].o.u2),B[0]&8&&U.value!==x[3].o.u3&&z(U,x[3].o.u3)},i(x){W||(P(s.$$.fragment,x),W=!0)},o(x){A(s.$$.fragment,x),W=!1},d(x){x&&y(e),Y(s),j=!1,Oe(K)}}}function $a(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w,k,$,M,F,S,E,R,I,H,L,N,q,U;return s=new At({}),{c(){e=c("div"),l=c("strong"),l.textContent="Home-Assistant",n=v(),i=c("a"),Q(s.$$.fragment),u=v(),a=c("input"),f=v(),m=c("div"),_=T("Discovery topic prefix"),p=c("br"),d=v(),b=c("input"),h=v(),g=c("div"),w=T("Hostname for URL"),k=c("br"),$=v(),M=c("input"),S=v(),E=c("div"),R=T("Name tag"),I=c("br"),H=v(),L=c("input"),r(l,"class","text-sm"),r(i,"href",Ft("MQTT-configuration#home-assistant")),r(i,"target","_blank"),r(i,"class","float-right"),r(a,"type","hidden"),r(a,"name","h"),a.value="true",r(b,"name","ht"),r(b,"type","text"),r(b,"class","in-s"),r(b,"placeholder","homeassistant"),r(m,"class","my-1"),r(M,"name","hh"),r(M,"type","text"),r(M,"class","in-s"),r(M,"placeholder",F=t[3].g.h+".local"),r(g,"class","my-1"),r(L,"name","hn"),r(L,"type","text"),r(L,"class","in-s"),r(E,"class","my-1"),r(e,"class","cnt")},m(W,j){C(W,e,j),o(e,l),o(e,n),o(e,i),G(s,i,null),o(e,u),o(e,a),o(e,f),o(e,m),o(m,_),o(m,p),o(m,d),o(m,b),z(b,t[3].h.t),o(e,h),o(e,g),o(g,w),o(g,k),o(g,$),o(g,M),z(M,t[3].h.h),o(e,S),o(e,E),o(E,R),o(E,I),o(E,H),o(E,L),z(L,t[3].h.n),N=!0,q||(U=[V(b,"input",t[60]),V(M,"input",t[61]),V(L,"input",t[62])],q=!0)},p(W,j){j[0]&8&&b.value!==W[3].h.t&&z(b,W[3].h.t),(!N||j[0]&8&&F!==(F=W[3].g.h+".local"))&&r(M,"placeholder",F),j[0]&8&&M.value!==W[3].h.h&&z(M,W[3].h.h),j[0]&8&&L.value!==W[3].h.n&&z(L,W[3].h.n)},i(W){N||(P(s.$$.fragment,W),N=!0)},o(W){A(s.$$.fragment,W),N=!1},d(W){W&&y(e),Y(s),q=!1,Oe(U)}}}function Sa(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w,k,$,M;s=new At({});let F={length:9},S=[];for(let E=0;E<F.length;E+=1)S[E]=Ta(da(t,F,E));return{c(){e=c("div"),l=c("strong"),l.textContent="Tariff thresholds",n=v(),i=c("a"),Q(s.$$.fragment),u=v(),a=c("input"),f=v(),m=c("div");for(let E=0;E<S.length;E+=1)S[E].c();_=v(),p=c("label"),d=c("span"),d.textContent="Average of",b=v(),h=c("input"),g=v(),w=c("span"),w.textContent="hours",r(l,"class","text-sm"),r(i,"href",Ft("Threshold-configuration")),r(i,"target","_blank"),r(i,"class","float-right"),r(a,"type","hidden"),r(a,"name","t"),a.value="true",r(m,"class","flex flex-wrap my-1"),r(d,"class","in-pre"),r(h,"name","th"),r(h,"type","number"),r(h,"min","0"),r(h,"max","255"),r(h,"class","in-txt tr w-full"),r(w,"class","in-post"),r(p,"class","flex m-1"),r(e,"class","cnt")},m(E,R){C(E,e,R),o(e,l),o(e,n),o(e,i),G(s,i,null),o(e,u),o(e,a),o(e,f),o(e,m);for(let I=0;I<S.length;I+=1)S[I].m(m,null);o(e,_),o(e,p),o(p,d),o(p,b),o(p,h),z(h,t[3].t.h),o(p,g),o(p,w),k=!0,$||(M=V(h,"input",t[64]),$=!0)},p(E,R){if(R[0]&8){F={length:9};let I;for(I=0;I<F.length;I+=1){const H=da(E,F,I);S[I]?S[I].p(H,R):(S[I]=Ta(H),S[I].c(),S[I].m(m,null))}for(;I<S.length;I+=1)S[I].d(1);S.length=F.length}R[0]&8&&ae(h.value)!==E[3].t.h&&z(h,E[3].t.h)},i(E){k||(P(s.$$.fragment,E),k=!0)},o(E){A(s.$$.fragment,E),k=!1},d(E){E&&y(e),Y(s),pl(S,E),$=!1,M()}}}function Ta(t){let e,l,n=t[89]+1+"",i,s,u,a,f,m,_,p;function d(){t[63].call(u,t[89])}return{c(){e=c("label"),l=c("span"),i=T(n),s=v(),u=c("input"),a=v(),f=c("span"),f.textContent="kWh",m=v(),r(l,"class","in-pre"),r(u,"name","t"+t[89]),r(u,"type","number"),r(u,"min","0"),r(u,"max","65535"),r(u,"class","in-txt w-full"),r(f,"class","in-post"),r(e,"class","flex w-40 m-1")},m(b,h){C(b,e,h),o(e,l),o(l,i),o(e,s),o(e,u),z(u,t[3].t.t[t[89]]),o(e,a),o(e,f),o(e,m),_||(p=V(u,"input",d),_=!0)},p(b,h){t=b,h[0]&8&&ae(u.value)!==t[3].t.t[t[89]]&&z(u,t[3].t.t[t[89]])},d(b){b&&y(e),_=!1,p()}}}function Pa(t){let e,l=t[84].name+"",n,i,s,u,a,f,m,_,p,d;function b(){t[65].call(u,t[84])}return{c(){e=c("div"),n=T(l),i=c("br"),s=v(),u=c("select"),a=c("option"),a.textContent="Hide",f=c("option"),f.textContent="Show",m=c("option"),m.textContent="Dynamic",_=v(),a.__value=0,a.value=a.__value,f.__value=1,f.value=f.__value,m.__value=2,m.value=m.__value,r(u,"name","u"+t[84].key),r(u,"class","in-s"),t[3].u[t[84].key]===void 0&&Ze(b),r(e,"class","w-1/2")},m(h,g){C(h,e,g),o(e,n),o(e,i),o(e,s),o(e,u),o(u,a),o(u,f),o(u,m),Ne(u,t[3].u[t[84].key]),o(e,_),p||(d=V(u,"change",b),p=!0)},p(h,g){t=h,g[0]&136&&Ne(u,t[3].u[t[84].key])},d(h){h&&y(e),p=!1,d()}}}function Ma(t){let e,l,n,i,s,u,a,f;s=new At({});let m=t[0].board>20&&Ea(t),_=t[0].chip=="esp8266"&&Fa(t);return{c(){e=c("div"),l=c("strong"),l.textContent="Hardware",n=v(),i=c("a"),Q(s.$$.fragment),u=v(),m&&m.c(),a=v(),_&&_.c(),r(l,"class","text-sm"),r(i,"href",Ft("GPIO-configuration")),r(i,"target","_blank"),r(i,"class","float-right"),r(e,"class","cnt")},m(p,d){C(p,e,d),o(e,l),o(e,n),o(e,i),G(s,i,null),o(e,u),m&&m.m(e,null),o(e,a),_&&_.m(e,null),f=!0},p(p,d){p[0].board>20?m?m.p(p,d):(m=Ea(p),m.c(),m.m(e,a)):m&&(m.d(1),m=null),p[0].chip=="esp8266"?_?_.p(p,d):(_=Fa(p),_.c(),_.m(e,null)):_&&(_.d(1),_=null)},i(p){f||(P(s.$$.fragment,p),f=!0)},o(p){A(s.$$.fragment,p),f=!1},d(p){p&&y(e),Y(s),m&&m.d(),_&&_.d()}}}function Ea(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w,k,$,M,F,S,E,R,I,H,L,N,q,U,W,j,K,x,B,re,ie,ee,O,X,ne,ce,oe,te,Z,pe,ye,Re,je,ze,Le,be=t[0].chip!="esp8266"&&Da(t),we=t[3].i.v.p>0&&Aa(t);return{c(){e=c("input"),l=v(),n=c("div"),n.innerHTML="<span>Serial port is fixed at UART2 which are Pins IO16 &amp; IO17! RTS pin is fixed to IO05</span>",i=v(),s=c("div"),u=c("div"),a=T("AP button"),f=c("br"),m=v(),_=c("input"),p=v(),d=c("div"),b=T("LED"),h=c("label"),g=c("input"),w=T(" inv"),k=c("br"),$=v(),M=c("div"),F=c("input"),S=v(),E=c("div"),R=T("RGB"),I=c("label"),H=c("input"),L=T(" inverted"),N=c("br"),q=v(),U=c("div"),W=c("input"),j=v(),K=c("input"),x=v(),B=c("input"),re=v(),ie=c("div"),ee=T("Temperature"),O=c("br"),X=v(),ne=c("input"),ce=v(),oe=c("div"),te=T("Analog temp"),Z=c("br"),pe=v(),ye=c("input"),Re=v(),be&&be.c(),je=v(),we&&we.c(),r(e,"type","hidden"),r(e,"name","i"),e.value="true",r(n,"class","my-1"),r(_,"name","ia"),r(_,"type","number"),r(_,"min","0"),r(_,"max",t[6]),r(_,"class","in-m tr w-full"),r(u,"class","w-1/3"),r(g,"name","ili"),g.__value="true",g.value=g.__value,r(g,"type","checkbox"),r(g,"class","rounded mb-1"),r(h,"class","ml-4"),r(F,"name","ilp"),r(F,"type","number"),r(F,"min","0"),r(F,"max",t[6]),r(F,"class","in-l tr w-full"),r(M,"class","flex"),r(d,"class","w-1/3"),r(H,"name","iri"),H.__value="true",H.value=H.__value,r(H,"type","checkbox"),r(H,"class","rounded mb-1"),r(I,"class","ml-4"),r(W,"name","irr"),r(W,"type","number"),r(W,"min","0"),r(W,"max",t[6]),r(W,"class","in-f tr w-1/3"),r(K,"name","irg"),r(K,"type","number"),r(K,"min","0"),r(K,"max",t[6]),r(K,"class","in-m tr w-1/3"),r(B,"name","irb"),r(B,"type","number"),r(B,"min","0"),r(B,"max",t[6]),r(B,"class","in-l tr w-1/3"),r(U,"class","flex"),r(E,"class","w-full"),r(ne,"name","itd"),r(ne,"type","number"),r(ne,"min","0"),r(ne,"max",t[6]),r(ne,"class","in-f tr w-full"),r(ie,"class","my-1 w-1/3"),r(ye,"name","ita"),r(ye,"type","number"),r(ye,"min","0"),r(ye,"max",t[6]),r(ye,"class","in-l tr w-full"),r(oe,"class","my-1 pr-1 w-1/3"),r(s,"class","flex flex-wrap")},m(se,_e){C(se,e,_e),C(se,l,_e),C(se,n,_e),C(se,i,_e),C(se,s,_e),o(s,u),o(u,a),o(u,f),o(u,m),o(u,_),z(_,t[3].i.a),o(s,p),o(s,d),o(d,b),o(d,h),o(h,g),g.checked=t[3].i.l.i,o(h,w),o(d,k),o(d,$),o(d,M),o(M,F),z(F,t[3].i.l.p),o(s,S),o(s,E),o(E,R),o(E,I),o(I,H),H.checked=t[3].i.r.i,o(I,L),o(E,N),o(E,q),o(E,U),o(U,W),z(W,t[3].i.r.r),o(U,j),o(U,K),z(K,t[3].i.r.g),o(U,x),o(U,B),z(B,t[3].i.r.b),o(s,re),o(s,ie),o(ie,ee),o(ie,O),o(ie,X),o(ie,ne),z(ne,t[3].i.t.d),o(s,ce),o(s,oe),o(oe,te),o(oe,Z),o(oe,pe),o(oe,ye),z(ye,t[3].i.t.a),o(s,Re),be&&be.m(s,null),o(s,je),we&&we.m(s,null),ze||(Le=[V(_,"input",t[66]),V(g,"change",t[67]),V(F,"input",t[68]),V(H,"change",t[69]),V(W,"input",t[70]),V(K,"input",t[71]),V(B,"input",t[72]),V(ne,"input",t[73]),V(ye,"input",t[74])],ze=!0)},p(se,_e){_e[0]&64&&r(_,"max",se[6]),_e[0]&8&&ae(_.value)!==se[3].i.a&&z(_,se[3].i.a),_e[0]&8&&(g.checked=se[3].i.l.i),_e[0]&64&&r(F,"max",se[6]),_e[0]&8&&ae(F.value)!==se[3].i.l.p&&z(F,se[3].i.l.p),_e[0]&8&&(H.checked=se[3].i.r.i),_e[0]&64&&r(W,"max",se[6]),_e[0]&8&&ae(W.value)!==se[3].i.r.r&&z(W,se[3].i.r.r),_e[0]&64&&r(K,"max",se[6]),_e[0]&8&&ae(K.value)!==se[3].i.r.g&&z(K,se[3].i.r.g),_e[0]&64&&r(B,"max",se[6]),_e[0]&8&&ae(B.value)!==se[3].i.r.b&&z(B,se[3].i.r.b),_e[0]&64&&r(ne,"max",se[6]),_e[0]&8&&ae(ne.value)!==se[3].i.t.d&&z(ne,se[3].i.t.d),_e[0]&64&&r(ye,"max",se[6]),_e[0]&8&&ae(ye.value)!==se[3].i.t.a&&z(ye,se[3].i.t.a),se[0].chip!="esp8266"?be?be.p(se,_e):(be=Da(se),be.c(),be.m(s,je)):be&&(be.d(1),be=null),se[3].i.v.p>0?we?we.p(se,_e):(we=Aa(se),we.c(),we.m(s,null)):we&&(we.d(1),we=null)},d(se){se&&y(e),se&&y(l),se&&y(n),se&&y(i),se&&y(s),be&&be.d(),we&&we.d(),ze=!1,Oe(Le)}}}function Da(t){let e,l,n,i,s,u,a;return{c(){e=c("div"),l=T("Vcc"),n=c("br"),i=v(),s=c("input"),r(s,"name","ivp"),r(s,"type","number"),r(s,"min","0"),r(s,"max",t[6]),r(s,"class","in-s tr w-full"),r(e,"class","my-1 pl-1 w-1/3")},m(f,m){C(f,e,m),o(e,l),o(e,n),o(e,i),o(e,s),z(s,t[3].i.v.p),u||(a=V(s,"input",t[75]),u=!0)},p(f,m){m[0]&64&&r(s,"max",f[6]),m[0]&8&&ae(s.value)!==f[3].i.v.p&&z(s,f[3].i.v.p)},d(f){f&&y(e),u=!1,a()}}}function Aa(t){let e,l,n,i,s,u,a,f,m,_;return{c(){e=c("div"),l=T("Voltage divider"),n=c("br"),i=v(),s=c("div"),u=c("input"),a=v(),f=c("input"),r(u,"name","ivdv"),r(u,"type","number"),r(u,"min","0"),r(u,"max","65535"),r(u,"class","in-f tr w-full"),r(u,"placeholder","VCC"),r(f,"name","ivdg"),r(f,"type","number"),r(f,"min","0"),r(f,"max","65535"),r(f,"class","in-l tr w-full"),r(f,"placeholder","GND"),r(s,"class","flex"),r(e,"class","my-1")},m(p,d){C(p,e,d),o(e,l),o(e,n),o(e,i),o(e,s),o(s,u),z(u,t[3].i.v.d.v),o(s,a),o(s,f),z(f,t[3].i.v.d.g),m||(_=[V(u,"input",t[76]),V(f,"input",t[77])],m=!0)},p(p,d){d[0]&8&&ae(u.value)!==p[3].i.v.d.v&&z(u,p[3].i.v.d.v),d[0]&8&&ae(f.value)!==p[3].i.v.d.g&&z(f,p[3].i.v.d.g)},d(p){p&&y(e),m=!1,Oe(_)}}}function Fa(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w,k,$=(t[0].board==2||t[0].board==100)&&Ia(t);return{c(){e=c("input"),l=v(),n=c("div"),i=c("div"),s=T("Vcc offset"),u=c("br"),a=v(),f=c("input"),m=v(),_=c("div"),p=T("Multiplier"),d=c("br"),b=v(),h=c("input"),g=v(),$&&$.c(),r(e,"type","hidden"),r(e,"name","iv"),e.value="true",r(f,"name","ivo"),r(f,"type","number"),r(f,"min","0.0"),r(f,"max","3.5"),r(f,"step","0.01"),r(f,"class","in-f tr w-full"),r(i,"class","w-1/3"),r(h,"name","ivm"),r(h,"type","number"),r(h,"min","0.1"),r(h,"max","10"),r(h,"step","0.01"),r(h,"class","in-l tr w-full"),r(_,"class","w-1/3 pr-1"),r(n,"class","my-1 flex flex-wrap")},m(M,F){C(M,e,F),C(M,l,F),C(M,n,F),o(n,i),o(i,s),o(i,u),o(i,a),o(i,f),z(f,t[3].i.v.o),o(n,m),o(n,_),o(_,p),o(_,d),o(_,b),o(_,h),z(h,t[3].i.v.m),o(n,g),$&&$.m(n,null),w||(k=[V(f,"input",t[78]),V(h,"input",t[79])],w=!0)},p(M,F){F[0]&8&&ae(f.value)!==M[3].i.v.o&&z(f,M[3].i.v.o),F[0]&8&&ae(h.value)!==M[3].i.v.m&&z(h,M[3].i.v.m),M[0].board==2||M[0].board==100?$?$.p(M,F):($=Ia(M),$.c(),$.m(n,null)):$&&($.d(1),$=null)},d(M){M&&y(e),M&&y(l),M&&y(n),$&&$.d(),w=!1,Oe(k)}}}function Ia(t){let e,l,n,i,s,u,a;return{c(){e=c("div"),l=T("Boot limit"),n=c("br"),i=v(),s=c("input"),r(s,"name","ivb"),r(s,"type","number"),r(s,"min","2.5"),r(s,"max","3.5"),r(s,"step","0.1"),r(s,"class","in-s tr w-full"),r(e,"class","w-1/3 pl-1")},m(f,m){C(f,e,m),o(e,l),o(e,n),o(e,i),o(e,s),z(s,t[3].i.v.b),u||(a=V(s,"input",t[80]),u=!0)},p(f,m){m[0]&8&&ae(s.value)!==f[3].i.v.b&&z(s,f[3].i.v.b)},d(f){f&&y(e),u=!1,a()}}}function Na(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w,k=t[3].d.t&&Ra();return{c(){e=c("div"),e.textContent="Debug can cause sudden reboots. Do not leave on!",l=v(),n=c("div"),i=c("label"),s=c("input"),u=T(" Enable telnet"),a=v(),k&&k.c(),f=v(),m=c("div"),_=c("select"),p=c("option"),p.textContent="Verbose",d=c("option"),d.textContent="Debug",b=c("option"),b.textContent="Info",h=c("option"),h.textContent="Warning",r(e,"class","bd-red"),r(s,"type","checkbox"),r(s,"name","dt"),s.__value="true",s.value=s.__value,r(s,"class","rounded mb-1"),r(n,"class","my-1"),p.__value=1,p.value=p.__value,d.__value=2,d.value=d.__value,b.__value=3,b.value=b.__value,h.__value=4,h.value=h.__value,r(_,"name","dl"),r(_,"class","in-s"),t[3].d.l===void 0&&Ze(()=>t[83].call(_)),r(m,"class","my-1")},m($,M){C($,e,M),C($,l,M),C($,n,M),o(n,i),o(i,s),s.checked=t[3].d.t,o(i,u),C($,a,M),k&&k.m($,M),C($,f,M),C($,m,M),o(m,_),o(_,p),o(_,d),o(_,b),o(_,h),Ne(_,t[3].d.l),g||(w=[V(s,"change",t[82]),V(_,"change",t[83])],g=!0)},p($,M){M[0]&8&&(s.checked=$[3].d.t),$[3].d.t?k||(k=Ra(),k.c(),k.m(f.parentNode,f)):k&&(k.d(1),k=null),M[0]&8&&Ne(_,$[3].d.l)},d($){$&&y(e),$&&y(l),$&&y(n),$&&y(a),k&&k.d($),$&&y(f),$&&y(m),g=!1,Oe(w)}}}function Ra(t){let e;return{c(){e=c("div"),e.textContent="Telnet is unsafe and should be off when not in use",r(e,"class","bd-red")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Wm(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w,k,$,M,F,S,E,R,I,H,L,N,q,U,W,j,K,x,B,re,ie,ee,O,X,ne,ce,oe,te,Z,pe,ye,Re,je,ze,Le,be,we,se,_e,at,Pe,Me,Ee,De,Ae,Fe,fe,ke,ei,ti,li,kt,ni,jl,sl,Gt,ii,si,oi,Je,ri,Yt,ui,ai,fi,xe,ci,Kt,Ul,ft,mi,Ue,Rn,vt,es,pi,ol,ct,rl,Hl,Wl,Xs,Zs,Ie,_i,Js,zl,Bl,xs,Ln,eo,di,to,hl,lo,no,io,Nt,Gl,Yl,so,Kl,gl,oo,ro,uo,Vl,wt,ao,vi,fo,bl,co,mo,po,Ql,yt,_o,hi,vo,ts,ho,kl,gi,Ct,go,bo,ko,bi,$t,wo,yo,Co,Xe,ki,$o,Xl,Zl,So,qn,To,wl,Po,Mo,Eo,Vt,Do,yl,Ao,Fo,Io,Qt,No,Jl,Cl,Ro,Lo,qo,ht,xl,en,tn,ln,Oo,$l,jo,Uo,Ho,nn,gt,Wo,wi,zo,yi,Ci,St,Bo,Go,Qe,$i,Yo,sn,on,Ko,Sl,Vo,Qo,Xo,ul,Rt,rn,un,Zo,mt,Si,Ti,Jo,pt,an,Pi,Mi,xo,ls,Ei,Di,Tt,er,tr,On,lr,al,nr,jn,Pt,ir,sr,or,Ai,Xt,rr,qe,Fi,ur,fn,cn,ar,Un,fr,Lt,cr,ns,mr,pr,mn,Zt,_r,Mt,dr,is,Tl,vr,hr,gr,Jt,br,Pl,kr,wr,yr,xt,Cr,pn,_n,$r,Sr,Tr,el,Pr,dn,Mr,Er,Dr,et,vn,hn,gn,bn,kn,wn,Ar,Ml,Fr,Ir,Nr,tl,Rr,ss,os,rs=t[3].p.r.startsWith("10YNO")||t[3].p.r=="10Y1001A1001A48H",us,qt,Ii,Lr,yn,Cn,qr,Hn,Or,Wn,jr,as,_t,Ni,Ur,$n,Sn,Hr,zn,Wr,Ri,Li,Et,zr,Br,Gr,fl,fs,Tn,Yr,qi,Pn,Kr,Oi,cs,El,ms,Dl,ps,Al,_s,Fl,cl,ds,Vr;a=new At({}),I=new Em({});let Of=["NOK","SEK","DKK","EUR","CHF"],ji=[];for(let D=0;D<5;D+=1)ji[D]=Fm(Am(t,Of,D));let tt=t[3].p.e&&t[0].chip!="esp8266"&&va(t),lt=t[3].g.s>0&&ha(t);Bl=new At({});let nt=t[3].m.e.e&&ga(t),it=t[3].m.m.e&&ba(t);Zl=new At({}),on=new At({}),an=new qf({});let st=t[3].n.m=="static"&&ka(t);cn=new At({});let ot=t[0].chip!="esp8266"&&wa(t),Be=t[3].q.s.e&&ya(t),Ge=t[3].q.m==3&&Ca(t),Ye=t[3].q.m==4&&$a(t),Ke=rs&&Sa(t);Cn=new At({});let Mn=t[7],rt=[];for(let D=0;D<Mn.length;D+=1)rt[D]=Pa(_a(t,Mn,D));let Ve=(t[0].board>20||t[0].chip=="esp8266")&&Ma(t);Sn=new At({});let ut=t[3].d.s&&Na(t);return El=new dt({props:{active:t[1],message:"Loading configuration"}}),Dl=new dt({props:{active:t[2],message:"Saving configuration"}}),Al=new dt({props:{active:t[4],message:"Performing factory reset"}}),Fl=new dt({props:{active:t[5],message:"Device have been factory reset and switched to AP mode"}}),{c(){e=c("form"),l=c("div"),n=c("div"),i=c("strong"),i.textContent="General",s=v(),u=c("a"),Q(a.$$.fragment),f=v(),m=c("input"),_=v(),p=c("div"),d=c("div"),b=c("div"),h=T("Hostname"),g=c("br"),w=v(),k=c("input"),$=v(),M=c("div"),F=T("Time zone"),S=c("br"),E=v(),R=c("select"),Q(I.$$.fragment),H=v(),L=c("input"),N=v(),q=c("div"),U=c("div"),W=c("div"),j=T("Price region"),K=c("br"),x=v(),B=c("select"),re=c("optgroup"),ie=c("option"),ie.textContent="NO1",ee=c("option"),ee.textContent="NO2",O=c("option"),O.textContent="NO3",X=c("option"),X.textContent="NO4",ne=c("option"),ne.textContent="NO5",ce=c("optgroup"),oe=c("option"),oe.textContent="SE1",te=c("option"),te.textContent="SE2",Z=c("option"),Z.textContent="SE3",pe=c("option"),pe.textContent="SE4",ye=c("optgroup"),Re=c("option"),Re.textContent="DK1",je=c("option"),je.textContent="DK2",ze=c("option"),ze.textContent="Austria",Le=c("option"),Le.textContent="Belgium",be=c("option"),be.textContent="Czech Republic",we=c("option"),we.textContent="Estonia",se=c("option"),se.textContent="Finland",_e=c("option"),_e.textContent="France",at=c("option"),at.textContent="Germany",Pe=c("option"),Pe.textContent="Great Britain",Me=c("option"),Me.textContent="Latvia",Ee=c("option"),Ee.textContent="Lithuania",De=c("option"),De.textContent="Netherland",Ae=c("option"),Ae.textContent="Poland",Fe=c("option"),Fe.textContent="Switzerland",fe=v(),ke=c("div"),ei=T("Currency"),ti=c("br"),li=v(),kt=c("select");for(let D=0;D<5;D+=1)ji[D].c();ni=v(),jl=c("div"),sl=c("div"),Gt=c("div"),ii=T("Fixed price"),si=c("br"),oi=v(),Je=c("input"),ri=v(),Yt=c("div"),ui=T("Multiplier"),ai=c("br"),fi=v(),xe=c("input"),ci=v(),Kt=c("div"),Ul=c("label"),ft=c("input"),mi=T(" Enable price fetch from remote server"),Ue=v(),tt&&tt.c(),Rn=v(),vt=c("div"),es=T("Security"),pi=c("br"),ol=v(),ct=c("select"),rl=c("option"),rl.textContent="None",Hl=c("option"),Hl.textContent="Only configuration",Wl=c("option"),Wl.textContent="Everything",Xs=v(),lt&&lt.c(),Zs=v(),Ie=c("div"),_i=c("strong"),_i.textContent="Meter",Js=v(),zl=c("a"),Q(Bl.$$.fragment),xs=v(),Ln=c("input"),eo=v(),di=c("div"),di.innerHTML="<span>Serial configuration is fixed to 9600/8N1 on UART2 Pins IO16 &amp; IO17!</span>",to=v(),hl=c("div"),lo=T("Voltage"),no=c("br"),io=v(),Nt=c("select"),Gl=c("option"),Gl.textContent="400V (TN)",Yl=c("option"),Yl.textContent="230V (IT/TT)",so=v(),Kl=c("div"),gl=c("div"),oo=T("Main fuse"),ro=c("br"),uo=v(),Vl=c("label"),wt=c("input"),ao=v(),vi=c("span"),vi.textContent="A",fo=v(),bl=c("div"),co=T("Production"),mo=c("br"),po=v(),Ql=c("label"),yt=c("input"),_o=v(),hi=c("span"),hi.textContent="kWp",vo=v(),ts=c("div"),ho=v(),kl=c("div"),gi=c("label"),Ct=c("input"),go=T(" Meter is encrypted"),bo=v(),nt&&nt.c(),ko=v(),bi=c("label"),$t=c("input"),wo=T(" Multipliers"),yo=v(),it&&it.c(),Co=v(),Xe=c("div"),ki=c("strong"),ki.textContent="WiFi",$o=v(),Xl=c("a"),Q(Zl.$$.fragment),So=v(),qn=c("input"),To=v(),wl=c("div"),Po=T("SSID"),Mo=c("br"),Eo=v(),Vt=c("input"),Do=v(),yl=c("div"),Ao=T("Password"),Fo=c("br"),Io=v(),Qt=c("input"),No=v(),Jl=c("div"),Cl=c("div"),Ro=T("Power saving"),Lo=c("br"),qo=v(),ht=c("select"),xl=c("option"),xl.textContent="Default",en=c("option"),en.textContent="Off",tn=c("option"),tn.textContent="Minimum",ln=c("option"),ln.textContent="Maximum",Oo=v(),$l=c("div"),jo=T("Power"),Uo=c("br"),Ho=v(),nn=c("div"),gt=c("input"),Wo=v(),wi=c("span"),wi.textContent="dBm",zo=v(),yi=c("div"),Ci=c("label"),St=c("input"),Bo=T(" Start a Wifi AP on home Wifi connection problem. Note: The AP is secured. But one can find the password on my github readme file so you should think about setting some security using General sections Security settings"),Go=v(),Qe=c("div"),$i=c("strong"),$i.textContent="Network",Yo=v(),sn=c("a"),Q(on.$$.fragment),Ko=v(),Sl=c("div"),Vo=T("IP"),Qo=c("br"),Xo=v(),ul=c("div"),Rt=c("select"),rn=c("option"),rn.textContent="DHCP",un=c("option"),un.textContent="Static",Zo=v(),mt=c("input"),Jo=v(),pt=c("select"),Q(an.$$.fragment),xo=v(),st&&st.c(),ls=v(),Ei=c("div"),Di=c("label"),Tt=c("input"),er=T(" enable mDNS"),tr=v(),On=c("input"),lr=v(),al=c("div"),nr=T("NTP "),jn=c("label"),Pt=c("input"),ir=T(" obtain from DHCP"),sr=c("br"),or=v(),Ai=c("div"),Xt=c("input"),rr=v(),qe=c("div"),Fi=c("strong"),Fi.textContent="MQTT",ur=v(),fn=c("a"),Q(cn.$$.fragment),ar=v(),Un=c("input"),fr=v(),Lt=c("div"),cr=T(`Server
                `),ot&&ot.c(),ns=v(),mr=c("br"),pr=v(),mn=c("div"),Zt=c("input"),_r=v(),Mt=c("input"),dr=v(),Be&&Be.c(),is=v(),Tl=c("div"),vr=T("Username"),hr=c("br"),gr=v(),Jt=c("input"),br=v(),Pl=c("div"),kr=T("Password"),wr=c("br"),yr=v(),xt=c("input"),Cr=v(),pn=c("div"),_n=c("div"),$r=T("Client ID"),Sr=c("br"),Tr=v(),el=c("input"),Pr=v(),dn=c("div"),Mr=T("Payload"),Er=c("br"),Dr=v(),et=c("select"),vn=c("option"),vn.textContent="JSON",hn=c("option"),hn.textContent="Raw (minimal)",gn=c("option"),gn.textContent="Raw (full)",bn=c("option"),bn.textContent="Domoticz",kn=c("option"),kn.textContent="HomeAssistant",wn=c("option"),wn.textContent="HEX dump",Ar=v(),Ml=c("div"),Fr=T("Publish topic"),Ir=c("br"),Nr=v(),tl=c("input"),Rr=v(),Ge&&Ge.c(),ss=v(),Ye&&Ye.c(),os=v(),Ke&&Ke.c(),us=v(),qt=c("div"),Ii=c("strong"),Ii.textContent="User interface",Lr=v(),yn=c("a"),Q(Cn.$$.fragment),qr=v(),Hn=c("input"),Or=v(),Wn=c("div");for(let D=0;D<rt.length;D+=1)rt[D].c();jr=v(),Ve&&Ve.c(),as=v(),_t=c("div"),Ni=c("strong"),Ni.textContent="Debugging",Ur=v(),$n=c("a"),Q(Sn.$$.fragment),Hr=v(),zn=c("input"),Wr=v(),Ri=c("div"),Li=c("label"),Et=c("input"),zr=T(" Enable debugging"),Br=v(),ut&&ut.c(),Gr=v(),fl=c("div"),fs=c("div"),Tn=c("button"),Tn.textContent="Factory reset",Yr=v(),qi=c("div"),Pn=c("button"),Pn.textContent="Reboot",Kr=v(),Oi=c("div"),Oi.innerHTML='<button type="submit" class="btn-pri">Save</button>',cs=v(),Q(El.$$.fragment),ms=v(),Q(Dl.$$.fragment),ps=v(),Q(Al.$$.fragment),_s=v(),Q(Fl.$$.fragment),r(i,"class","text-sm"),r(u,"href",Ft("General-configuration")),r(u,"target","_blank"),r(u,"class","float-right"),r(m,"type","hidden"),r(m,"name","g"),m.value="true",r(k,"name","gh"),r(k,"type","text"),r(k,"class","in-f w-full"),r(k,"pattern","[A-Za-z0-9-]+"),r(R,"name","gt"),r(R,"class","in-l w-full"),t[3].g.t===void 0&&Ze(()=>t[13].call(R)),r(d,"class","flex"),r(p,"class","my-1"),r(L,"type","hidden"),r(L,"name","p"),L.value="true",ie.__value="10YNO-1--------2",ie.value=ie.__value,ee.__value="10YNO-2--------T",ee.value=ee.__value,O.__value="10YNO-3--------J",O.value=O.__value,X.__value="10YNO-4--------9",X.value=X.__value,ne.__value="10Y1001A1001A48H",ne.value=ne.__value,r(re,"label","Norway"),oe.__value="10Y1001A1001A44P",oe.value=oe.__value,te.__value="10Y1001A1001A45N",te.value=te.__value,Z.__value="10Y1001A1001A46L",Z.value=Z.__value,pe.__value="10Y1001A1001A47J",pe.value=pe.__value,r(ce,"label","Sweden"),Re.__value="10YDK-1--------W",Re.value=Re.__value,je.__value="10YDK-2--------M",je.value=je.__value,r(ye,"label","Denmark"),ze.__value="10YAT-APG------L",ze.value=ze.__value,Le.__value="10YBE----------2",Le.value=Le.__value,be.__value="10YCZ-CEPS-----N",be.value=be.__value,we.__value="10Y1001A1001A39I",we.value=we.__value,se.__value="10YFI-1--------U",se.value=se.__value,_e.__value="10YFR-RTE------C",_e.value=_e.__value,at.__value="10Y1001A1001A83F",at.value=at.__value,Pe.__value="10YGB----------A",Pe.value=Pe.__value,Me.__value="10YLV-1001A00074",Me.value=Me.__value,Ee.__value="10YLT-1001A0008Q",Ee.value=Ee.__value,De.__value="10YNL----------L",De.value=De.__value,Ae.__value="10YPL-AREA-----S",Ae.value=Ae.__value,Fe.__value="10YCH-SWISSGRIDZ",Fe.value=Fe.__value,r(B,"name","pr"),r(B,"class","in-f w-full"),t[3].p.r===void 0&&Ze(()=>t[14].call(B)),r(W,"class","w-full"),r(kt,"name","pc"),r(kt,"class","in-l"),t[3].p.c===void 0&&Ze(()=>t[15].call(kt)),r(U,"class","flex"),r(q,"class","my-1"),r(Je,"name","pf"),r(Je,"type","number"),r(Je,"min","0.001"),r(Je,"max","65"),r(Je,"step","0.001"),r(Je,"class","in-f tr w-full"),r(Gt,"class","w-1/2"),r(xe,"name","pm"),r(xe,"type","number"),r(xe,"min","0.001"),r(xe,"max","1000"),r(xe,"step","0.001"),r(xe,"class","in-l tr w-full"),r(Yt,"class","w-1/2"),r(sl,"class","flex"),r(jl,"class","my-1"),r(ft,"type","checkbox"),r(ft,"name","pe"),ft.__value="true",ft.value=ft.__value,r(ft,"class","rounded mb-1"),r(Kt,"class","my-1"),rl.__value=0,rl.value=rl.__value,Hl.__value=1,Hl.value=Hl.__value,Wl.__value=2,Wl.value=Wl.__value,r(ct,"name","gs"),r(ct,"class","in-s"),t[3].g.s===void 0&&Ze(()=>t[20].call(ct)),r(vt,"class","my-1"),r(n,"class","cnt"),r(_i,"class","text-sm"),r(zl,"href",Ft("Meter-configuration")),r(zl,"target","_blank"),r(zl,"class","float-right"),r(Ln,"type","hidden"),r(Ln,"name","m"),Ln.value="true",r(di,"class","my-1"),Gl.__value=2,Gl.value=Gl.__value,Yl.__value=1,Yl.value=Yl.__value,r(Nt,"name","md"),r(Nt,"class","in-s"),t[3].m.d===void 0&&Ze(()=>t[23].call(Nt)),r(hl,"class","my-1"),r(wt,"name","mf"),r(wt,"type","number"),r(wt,"min","5"),r(wt,"max","65535"),r(wt,"class","in-f tr w-full"),r(vi,"class","in-post"),r(Vl,"class","flex"),r(gl,"class","mx-1"),r(yt,"name","mr"),r(yt,"type","number"),r(yt,"min","0"),r(yt,"max","65535"),r(yt,"class","in-f tr w-full"),r(hi,"class","in-post"),r(Ql,"class","flex"),r(bl,"class","mx-1"),r(Kl,"class","my-1 flex"),r(ts,"class","my-1"),r(Ct,"type","checkbox"),r(Ct,"name","me"),Ct.__value="true",Ct.value=Ct.__value,r(Ct,"class","rounded mb-1"),r(kl,"class","my-1"),r($t,"type","checkbox"),r($t,"name","mm"),$t.__value="true",$t.value=$t.__value,r($t,"class","rounded mb-1"),r(Ie,"class","cnt"),r(ki,"class","text-sm"),r(Xl,"href",Ft("WiFi-configuration")),r(Xl,"target","_blank"),r(Xl,"class","float-right"),r(qn,"type","hidden"),r(qn,"name","w"),qn.value="true",r(Vt,"name","ws"),r(Vt,"type","text"),r(Vt,"class","in-s"),r(wl,"class","my-1"),r(Qt,"name","wp"),r(Qt,"type","password"),r(Qt,"class","in-s"),r(yl,"class","my-1"),xl.__value=255,xl.value=xl.__value,en.__value=0,en.value=en.__value,tn.__value=1,tn.value=tn.__value,ln.__value=2,ln.value=ln.__value,r(ht,"name","wz"),r(ht,"class","in-s"),t[3].w.z===void 0&&Ze(()=>t[35].call(ht)),r(Cl,"class","w-1/2"),r(gt,"name","ww"),r(gt,"type","number"),r(gt,"min","0"),r(gt,"max","20.5"),r(gt,"step","0.5"),r(gt,"class","in-f tr w-full"),r(wi,"class","in-post"),r(nn,"class","flex"),r($l,"class","ml-2 w-1/2"),r(Jl,"class","my-1 flex"),r(St,"type","checkbox"),r(St,"name","wa"),St.__value="true",St.value=St.__value,r(St,"class","rounded mb-1"),r(yi,"class","my-3"),r(Xe,"class","cnt"),r($i,"class","text-sm"),r(sn,"href",Ft("Network-configuration")),r(sn,"target","_blank"),r(sn,"class","float-right"),rn.__value="dhcp",rn.value=rn.__value,un.__value="static",un.value=un.__value,r(Rt,"name","nm"),r(Rt,"class","in-f"),t[3].n.m===void 0&&Ze(()=>t[38].call(Rt)),r(mt,"name","ni"),r(mt,"type","text"),r(mt,"class","in-m w-full"),mt.disabled=Si=t[3].n.m=="dhcp",mt.required=Ti=t[3].n.m=="static",r(pt,"name","ns"),r(pt,"class","in-l"),pt.disabled=Pi=t[3].n.m=="dhcp",pt.required=Mi=t[3].n.m=="static",t[3].n.s===void 0&&Ze(()=>t[40].call(pt)),r(ul,"class","flex"),r(Sl,"class","my-1"),r(Tt,"name","nd"),Tt.__value="true",Tt.value=Tt.__value,r(Tt,"type","checkbox"),r(Tt,"class","rounded mb-1"),r(Ei,"class","my-1"),r(On,"type","hidden"),r(On,"name","ntp"),On.value="true",r(Pt,"name","ntpd"),Pt.__value="true",Pt.value=Pt.__value,r(Pt,"type","checkbox"),r(Pt,"class","rounded mb-1"),r(jn,"class","ml-4"),r(Xt,"name","ntph"),r(Xt,"type","text"),r(Xt,"class","in-s"),r(Ai,"class","flex"),r(al,"class","my-1"),r(Qe,"class","cnt"),r(Fi,"class","text-sm"),r(fn,"href",Ft("MQTT-configuration")),r(fn,"target","_blank"),r(fn,"class","float-right"),r(Un,"type","hidden"),r(Un,"name","q"),Un.value="true",r(Zt,"name","qh"),r(Zt,"type","text"),r(Zt,"class","in-f w-3/4"),r(Mt,"name","qp"),r(Mt,"type","number"),r(Mt,"min","1024"),r(Mt,"max","65535"),r(Mt,"class","in-l tr w-1/4"),r(mn,"class","flex"),r(Lt,"class","my-1"),r(Jt,"name","qu"),r(Jt,"type","text"),r(Jt,"class","in-s"),r(Tl,"class","my-1"),r(xt,"name","qa"),r(xt,"type","password"),r(xt,"class","in-s"),r(Pl,"class","my-1"),r(el,"name","qc"),r(el,"type","text"),r(el,"class","in-f w-full"),vn.__value=0,vn.value=vn.__value,hn.__value=1,hn.value=hn.__value,gn.__value=2,gn.value=gn.__value,bn.__value=3,bn.value=bn.__value,kn.__value=4,kn.value=kn.__value,wn.__value=255,wn.value=wn.__value,r(et,"name","qm"),r(et,"class","in-l"),t[3].q.m===void 0&&Ze(()=>t[53].call(et)),r(pn,"class","my-1 flex"),r(tl,"name","qb"),r(tl,"type","text"),r(tl,"class","in-s"),r(Ml,"class","my-1"),r(qe,"class","cnt"),r(Ii,"class","text-sm"),r(yn,"href",Ft("User-interface")),r(yn,"target","_blank"),r(yn,"class","float-right"),r(Hn,"type","hidden"),r(Hn,"name","u"),Hn.value="true",r(Wn,"class","flex flex-wrap"),r(qt,"class","cnt"),r(Ni,"class","text-sm"),r($n,"href","https://amsleser.no/blog/post/24-telnet-debug"),r($n,"target","_blank"),r($n,"class","float-right"),r(zn,"type","hidden"),r(zn,"name","d"),zn.value="true",r(Et,"type","checkbox"),r(Et,"name","ds"),Et.__value="true",Et.value=Et.__value,r(Et,"class","rounded mb-1"),r(Ri,"class","mt-3"),r(_t,"class","cnt"),r(l,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2"),r(Tn,"type","button"),r(Tn,"class","py-2 px-4 rounded bg-red-500 text-white ml-2"),r(Pn,"type","button"),r(Pn,"class","py-2 px-4 rounded bg-yellow-500 text-white"),r(qi,"class","text-center"),r(Oi,"class","text-right"),r(fl,"class","grid grid-cols-3"),r(e,"autocomplete","off")},m(D,le){C(D,e,le),o(e,l),o(l,n),o(n,i),o(n,s),o(n,u),G(a,u,null),o(n,f),o(n,m),o(n,_),o(n,p),o(p,d),o(d,b),o(b,h),o(b,g),o(b,w),o(b,k),z(k,t[3].g.h),o(d,$),o(d,M),o(M,F),o(M,S),o(M,E),o(M,R),G(I,R,null),Ne(R,t[3].g.t),o(n,H),o(n,L),o(n,N),o(n,q),o(q,U),o(U,W),o(W,j),o(W,K),o(W,x),o(W,B),o(B,re),o(re,ie),o(re,ee),o(re,O),o(re,X),o(re,ne),o(B,ce),o(ce,oe),o(ce,te),o(ce,Z),o(ce,pe),o(B,ye),o(ye,Re),o(ye,je),o(B,ze),o(B,Le),o(B,be),o(B,we),o(B,se),o(B,_e),o(B,at),o(B,Pe),o(B,Me),o(B,Ee),o(B,De),o(B,Ae),o(B,Fe),Ne(B,t[3].p.r),o(U,fe),o(U,ke),o(ke,ei),o(ke,ti),o(ke,li),o(ke,kt);for(let Ot=0;Ot<5;Ot+=1)ji[Ot].m(kt,null);Ne(kt,t[3].p.c),o(n,ni),o(n,jl),o(jl,sl),o(sl,Gt),o(Gt,ii),o(Gt,si),o(Gt,oi),o(Gt,Je),z(Je,t[3].p.f),o(sl,ri),o(sl,Yt),o(Yt,ui),o(Yt,ai),o(Yt,fi),o(Yt,xe),z(xe,t[3].p.m),o(n,ci),o(n,Kt),o(Kt,Ul),o(Ul,ft),ft.checked=t[3].p.e,o(Ul,mi),o(Kt,Ue),tt&&tt.m(Kt,null),o(n,Rn),o(n,vt),o(vt,es),o(vt,pi),o(vt,ol),o(vt,ct),o(ct,rl),o(ct,Hl),o(ct,Wl),Ne(ct,t[3].g.s),o(n,Xs),lt&&lt.m(n,null),o(l,Zs),o(l,Ie),o(Ie,_i),o(Ie,Js),o(Ie,zl),G(Bl,zl,null),o(Ie,xs),o(Ie,Ln),o(Ie,eo),o(Ie,di),o(Ie,to),o(Ie,hl),o(hl,lo),o(hl,no),o(hl,io),o(hl,Nt),o(Nt,Gl),o(Nt,Yl),Ne(Nt,t[3].m.d),o(Ie,so),o(Ie,Kl),o(Kl,gl),o(gl,oo),o(gl,ro),o(gl,uo),o(gl,Vl),o(Vl,wt),z(wt,t[3].m.f),o(Vl,ao),o(Vl,vi),o(Kl,fo),o(Kl,bl),o(bl,co),o(bl,mo),o(bl,po),o(bl,Ql),o(Ql,yt),z(yt,t[3].m.r),o(Ql,_o),o(Ql,hi),o(Ie,vo),o(Ie,ts),o(Ie,ho),o(Ie,kl),o(kl,gi),o(gi,Ct),Ct.checked=t[3].m.e.e,o(gi,go),o(kl,bo),nt&&nt.m(kl,null),o(Ie,ko),o(Ie,bi),o(bi,$t),$t.checked=t[3].m.m.e,o(bi,wo),o(Ie,yo),it&&it.m(Ie,null),o(l,Co),o(l,Xe),o(Xe,ki),o(Xe,$o),o(Xe,Xl),G(Zl,Xl,null),o(Xe,So),o(Xe,qn),o(Xe,To),o(Xe,wl),o(wl,Po),o(wl,Mo),o(wl,Eo),o(wl,Vt),z(Vt,t[3].w.s),o(Xe,Do),o(Xe,yl),o(yl,Ao),o(yl,Fo),o(yl,Io),o(yl,Qt),z(Qt,t[3].w.p),o(Xe,No),o(Xe,Jl),o(Jl,Cl),o(Cl,Ro),o(Cl,Lo),o(Cl,qo),o(Cl,ht),o(ht,xl),o(ht,en),o(ht,tn),o(ht,ln),Ne(ht,t[3].w.z),o(Jl,Oo),o(Jl,$l),o($l,jo),o($l,Uo),o($l,Ho),o($l,nn),o(nn,gt),z(gt,t[3].w.w),o(nn,Wo),o(nn,wi),o(Xe,zo),o(Xe,yi),o(yi,Ci),o(Ci,St),St.checked=t[3].w.a,o(Ci,Bo),o(l,Go),o(l,Qe),o(Qe,$i),o(Qe,Yo),o(Qe,sn),G(on,sn,null),o(Qe,Ko),o(Qe,Sl),o(Sl,Vo),o(Sl,Qo),o(Sl,Xo),o(Sl,ul),o(ul,Rt),o(Rt,rn),o(Rt,un),Ne(Rt,t[3].n.m),o(ul,Zo),o(ul,mt),z(mt,t[3].n.i),o(ul,Jo),o(ul,pt),G(an,pt,null),Ne(pt,t[3].n.s),o(Qe,xo),st&&st.m(Qe,null),o(Qe,ls),o(Qe,Ei),o(Ei,Di),o(Di,Tt),Tt.checked=t[3].n.d,o(Di,er),o(Qe,tr),o(Qe,On),o(Qe,lr),o(Qe,al),o(al,nr),o(al,jn),o(jn,Pt),Pt.checked=t[3].n.h,o(jn,ir),o(al,sr),o(al,or),o(al,Ai),o(Ai,Xt),z(Xt,t[3].n.n1),o(l,rr),o(l,qe),o(qe,Fi),o(qe,ur),o(qe,fn),G(cn,fn,null),o(qe,ar),o(qe,Un),o(qe,fr),o(qe,Lt),o(Lt,cr),ot&&ot.m(Lt,null),o(Lt,ns),o(Lt,mr),o(Lt,pr),o(Lt,mn),o(mn,Zt),z(Zt,t[3].q.h),o(mn,_r),o(mn,Mt),z(Mt,t[3].q.p),o(qe,dr),Be&&Be.m(qe,null),o(qe,is),o(qe,Tl),o(Tl,vr),o(Tl,hr),o(Tl,gr),o(Tl,Jt),z(Jt,t[3].q.u),o(qe,br),o(qe,Pl),o(Pl,kr),o(Pl,wr),o(Pl,yr),o(Pl,xt),z(xt,t[3].q.a),o(qe,Cr),o(qe,pn),o(pn,_n),o(_n,$r),o(_n,Sr),o(_n,Tr),o(_n,el),z(el,t[3].q.c),o(pn,Pr),o(pn,dn),o(dn,Mr),o(dn,Er),o(dn,Dr),o(dn,et),o(et,vn),o(et,hn),o(et,gn),o(et,bn),o(et,kn),o(et,wn),Ne(et,t[3].q.m),o(qe,Ar),o(qe,Ml),o(Ml,Fr),o(Ml,Ir),o(Ml,Nr),o(Ml,tl),z(tl,t[3].q.b),o(l,Rr),Ge&&Ge.m(l,null),o(l,ss),Ye&&Ye.m(l,null),o(l,os),Ke&&Ke.m(l,null),o(l,us),o(l,qt),o(qt,Ii),o(qt,Lr),o(qt,yn),G(Cn,yn,null),o(qt,qr),o(qt,Hn),o(qt,Or),o(qt,Wn);for(let Ot=0;Ot<rt.length;Ot+=1)rt[Ot].m(Wn,null);o(l,jr),Ve&&Ve.m(l,null),o(l,as),o(l,_t),o(_t,Ni),o(_t,Ur),o(_t,$n),G(Sn,$n,null),o(_t,Hr),o(_t,zn),o(_t,Wr),o(_t,Ri),o(Ri,Li),o(Li,Et),Et.checked=t[3].d.s,o(Li,zr),o(_t,Br),ut&&ut.m(_t,null),o(e,Gr),o(e,fl),o(fl,fs),o(fs,Tn),o(fl,Yr),o(fl,qi),o(qi,Pn),o(fl,Kr),o(fl,Oi),C(D,cs,le),G(El,D,le),C(D,ms,le),G(Dl,D,le),C(D,ps,le),G(Al,D,le),C(D,_s,le),G(Fl,D,le),cl=!0,ds||(Vr=[V(k,"input",t[12]),V(R,"change",t[13]),V(B,"change",t[14]),V(kt,"change",t[15]),V(Je,"input",t[16]),V(xe,"input",t[17]),V(ft,"change",t[18]),V(ct,"change",t[20]),V(Nt,"change",t[23]),V(wt,"input",t[24]),V(yt,"input",t[25]),V(Ct,"change",t[26]),V($t,"change",t[28]),V(Vt,"input",t[33]),V(Qt,"input",t[34]),V(ht,"change",t[35]),V(gt,"input",t[36]),V(St,"change",t[37]),V(Rt,"change",t[38]),V(mt,"input",t[39]),V(pt,"change",t[40]),V(Tt,"change",t[44]),V(Pt,"change",t[45]),V(Xt,"input",t[46]),V(Zt,"input",t[48]),V(Mt,"input",t[49]),V(Jt,"input",t[50]),V(xt,"input",t[51]),V(el,"input",t[52]),V(et,"change",t[53]),V(tl,"input",t[54]),V(Et,"change",t[81]),V(Tn,"click",t[8]),V(Pn,"click",t[10]),V(e,"submit",Ji(t[9]))],ds=!0)},p(D,le){if(le[0]&8&&k.value!==D[3].g.h&&z(k,D[3].g.h),le[0]&8&&Ne(R,D[3].g.t),le[0]&8&&Ne(B,D[3].p.r),le[0]&8&&Ne(kt,D[3].p.c),le[0]&8&&ae(Je.value)!==D[3].p.f&&z(Je,D[3].p.f),le[0]&8&&ae(xe.value)!==D[3].p.m&&z(xe,D[3].p.m),le[0]&8&&(ft.checked=D[3].p.e),D[3].p.e&&D[0].chip!="esp8266"?tt?tt.p(D,le):(tt=va(D),tt.c(),tt.m(Kt,null)):tt&&(tt.d(1),tt=null),le[0]&8&&Ne(ct,D[3].g.s),D[3].g.s>0?lt?lt.p(D,le):(lt=ha(D),lt.c(),lt.m(n,null)):lt&&(lt.d(1),lt=null),le[0]&8&&Ne(Nt,D[3].m.d),le[0]&8&&ae(wt.value)!==D[3].m.f&&z(wt,D[3].m.f),le[0]&8&&ae(yt.value)!==D[3].m.r&&z(yt,D[3].m.r),le[0]&8&&(Ct.checked=D[3].m.e.e),D[3].m.e.e?nt?nt.p(D,le):(nt=ga(D),nt.c(),nt.m(kl,null)):nt&&(nt.d(1),nt=null),le[0]&8&&($t.checked=D[3].m.m.e),D[3].m.m.e?it?it.p(D,le):(it=ba(D),it.c(),it.m(Ie,null)):it&&(it.d(1),it=null),le[0]&8&&Vt.value!==D[3].w.s&&z(Vt,D[3].w.s),le[0]&8&&Qt.value!==D[3].w.p&&z(Qt,D[3].w.p),le[0]&8&&Ne(ht,D[3].w.z),le[0]&8&&ae(gt.value)!==D[3].w.w&&z(gt,D[3].w.w),le[0]&8&&(St.checked=D[3].w.a),le[0]&8&&Ne(Rt,D[3].n.m),(!cl||le[0]&8&&Si!==(Si=D[3].n.m=="dhcp"))&&(mt.disabled=Si),(!cl||le[0]&8&&Ti!==(Ti=D[3].n.m=="static"))&&(mt.required=Ti),le[0]&8&&mt.value!==D[3].n.i&&z(mt,D[3].n.i),(!cl||le[0]&8&&Pi!==(Pi=D[3].n.m=="dhcp"))&&(pt.disabled=Pi),(!cl||le[0]&8&&Mi!==(Mi=D[3].n.m=="static"))&&(pt.required=Mi),le[0]&8&&Ne(pt,D[3].n.s),D[3].n.m=="static"?st?st.p(D,le):(st=ka(D),st.c(),st.m(Qe,ls)):st&&(st.d(1),st=null),le[0]&8&&(Tt.checked=D[3].n.d),le[0]&8&&(Pt.checked=D[3].n.h),le[0]&8&&Xt.value!==D[3].n.n1&&z(Xt,D[3].n.n1),D[0].chip!="esp8266"?ot?ot.p(D,le):(ot=wa(D),ot.c(),ot.m(Lt,ns)):ot&&(ot.d(1),ot=null),le[0]&8&&Zt.value!==D[3].q.h&&z(Zt,D[3].q.h),le[0]&8&&ae(Mt.value)!==D[3].q.p&&z(Mt,D[3].q.p),D[3].q.s.e?Be?(Be.p(D,le),le[0]&8&&P(Be,1)):(Be=ya(D),Be.c(),P(Be,1),Be.m(qe,is)):Be&&(Ce(),A(Be,1,1,()=>{Be=null}),$e()),le[0]&8&&Jt.value!==D[3].q.u&&z(Jt,D[3].q.u),le[0]&8&&xt.value!==D[3].q.a&&z(xt,D[3].q.a),le[0]&8&&el.value!==D[3].q.c&&z(el,D[3].q.c),le[0]&8&&Ne(et,D[3].q.m),le[0]&8&&tl.value!==D[3].q.b&&z(tl,D[3].q.b),D[3].q.m==3?Ge?(Ge.p(D,le),le[0]&8&&P(Ge,1)):(Ge=Ca(D),Ge.c(),P(Ge,1),Ge.m(l,ss)):Ge&&(Ce(),A(Ge,1,1,()=>{Ge=null}),$e()),D[3].q.m==4?Ye?(Ye.p(D,le),le[0]&8&&P(Ye,1)):(Ye=$a(D),Ye.c(),P(Ye,1),Ye.m(l,os)):Ye&&(Ce(),A(Ye,1,1,()=>{Ye=null}),$e()),le[0]&8&&(rs=D[3].p.r.startsWith("10YNO")||D[3].p.r=="10Y1001A1001A48H"),rs?Ke?(Ke.p(D,le),le[0]&8&&P(Ke,1)):(Ke=Sa(D),Ke.c(),P(Ke,1),Ke.m(l,us)):Ke&&(Ce(),A(Ke,1,1,()=>{Ke=null}),$e()),le[0]&136){Mn=D[7];let bt;for(bt=0;bt<Mn.length;bt+=1){const Jr=_a(D,Mn,bt);rt[bt]?rt[bt].p(Jr,le):(rt[bt]=Pa(Jr),rt[bt].c(),rt[bt].m(Wn,null))}for(;bt<rt.length;bt+=1)rt[bt].d(1);rt.length=Mn.length}D[0].board>20||D[0].chip=="esp8266"?Ve?(Ve.p(D,le),le[0]&1&&P(Ve,1)):(Ve=Ma(D),Ve.c(),P(Ve,1),Ve.m(l,as)):Ve&&(Ce(),A(Ve,1,1,()=>{Ve=null}),$e()),le[0]&8&&(Et.checked=D[3].d.s),D[3].d.s?ut?ut.p(D,le):(ut=Na(D),ut.c(),ut.m(_t,null)):ut&&(ut.d(1),ut=null);const Ot={};le[0]&2&&(Ot.active=D[1]),El.$set(Ot);const Qr={};le[0]&4&&(Qr.active=D[2]),Dl.$set(Qr);const Xr={};le[0]&16&&(Xr.active=D[4]),Al.$set(Xr);const Zr={};le[0]&32&&(Zr.active=D[5]),Fl.$set(Zr)},i(D){cl||(P(a.$$.fragment,D),P(I.$$.fragment,D),P(Bl.$$.fragment,D),P(Zl.$$.fragment,D),P(on.$$.fragment,D),P(an.$$.fragment,D),P(cn.$$.fragment,D),P(Be),P(Ge),P(Ye),P(Ke),P(Cn.$$.fragment,D),P(Ve),P(Sn.$$.fragment,D),P(El.$$.fragment,D),P(Dl.$$.fragment,D),P(Al.$$.fragment,D),P(Fl.$$.fragment,D),cl=!0)},o(D){A(a.$$.fragment,D),A(I.$$.fragment,D),A(Bl.$$.fragment,D),A(Zl.$$.fragment,D),A(on.$$.fragment,D),A(an.$$.fragment,D),A(cn.$$.fragment,D),A(Be),A(Ge),A(Ye),A(Ke),A(Cn.$$.fragment,D),A(Ve),A(Sn.$$.fragment,D),A(El.$$.fragment,D),A(Dl.$$.fragment,D),A(Al.$$.fragment,D),A(Fl.$$.fragment,D),cl=!1},d(D){D&&y(e),Y(a),Y(I),pl(ji,D),tt&&tt.d(),lt&&lt.d(),Y(Bl),nt&&nt.d(),it&&it.d(),Y(Zl),Y(on),Y(an),st&&st.d(),Y(cn),ot&&ot.d(),Be&&Be.d(),Ge&&Ge.d(),Ye&&Ye.d(),Ke&&Ke.d(),Y(Cn),pl(rt,D),Ve&&Ve.d(),Y(Sn),ut&&ut.d(),D&&y(cs),Y(El,D),D&&y(ms),Y(Dl,D),D&&y(ps),Y(Al,D),D&&y(_s),Y(Fl,D),ds=!1,Oe(Vr)}}}async function zm(){await(await fetch("/reboot",{method:"POST"})).json()}function Bm(t,e,l){let{sysinfo:n={}}=e,i=[{name:"Import gauge",key:"i"},{name:"Export gauge",key:"e"},{name:"Voltage",key:"v"},{name:"Amperage",key:"a"},{name:"Reactive",key:"r"},{name:"Realtime",key:"c"},{name:"Peaks",key:"t"},{name:"Price",key:"p"},{name:"Day plot",key:"d"},{name:"Month plot",key:"m"},{name:"Temperature plot",key:"s"}],s=!0,u=!1,a={g:{t:"",h:"",s:0,u:"",p:""},m:{b:2400,p:11,i:!1,d:0,f:0,r:0,e:{e:!1,k:"",a:""},m:{e:!1,w:!1,v:!1,a:!1,c:!1}},w:{s:"",p:"",w:0,z:255,a:!0},n:{m:"",i:"",s:"",g:"",d1:"",d2:"",d:!1,n1:"",n2:"",h:!1},q:{h:"",p:1883,u:"",a:"",b:"",s:{e:!1,c:!1,r:!0,k:!1}},o:{e:"",c:"",u1:"",u2:"",u3:""},t:{t:[0,0,0,0,0,0,0,0,0,0],h:1},p:{e:!1,t:"",r:"",c:"",m:1,f:null},d:{s:!1,t:!1,l:5},u:{i:0,e:0,v:0,a:0,r:0,c:0,t:0,p:0,d:0,m:0,s:0},i:{h:{p:null,u:!0},a:null,l:{p:null,i:!1},r:{r:null,g:null,b:null,i:!1},t:{d:null,a:null},v:{p:null,d:{v:null,g:null},o:null,m:null,b:null}},h:{t:"",h:"",n:""}};Lf.subscribe(Ue=>{Ue.version&&(l(3,a=Ue),l(1,s=!1))}),$m();let f=!1,m=!1;async function _(){if(confirm("Are you sure you want to factory reset the device?")){l(4,f=!0);const Ue=new URLSearchParams;Ue.append("perform","true");let vt=await(await fetch("/reset",{method:"POST",body:Ue})).json();l(4,f=!1),l(5,m=vt.success)}}async function p(Ue){l(2,u=!0);const Rn=new FormData(Ue.target),vt=new URLSearchParams;for(let ol of Rn){const[ct,rl]=ol;vt.append(ct,rl)}let pi=await(await fetch("/save",{method:"POST",body:vt})).json();Bt.update(ol=>(ol.booting=pi.reboot,ol.ui=a.u,ol)),l(2,u=!1),An("/")}const d=function(){confirm("Are you sure you want to reboot the device?")&&(Bt.update(Ue=>(Ue.booting=!0,Ue)),zm())},b=function(){a.q.s.e?a.q.p==1883&&l(3,a.q.p=8883,a):a.q.p==8883&&l(3,a.q.p=1883,a)};let h=44;function g(){a.g.h=this.value,l(3,a)}function w(){a.g.t=Dt(this),l(3,a)}function k(){a.p.r=Dt(this),l(3,a)}function $(){a.p.c=Dt(this),l(3,a)}function M(){a.p.f=ae(this.value),l(3,a)}function F(){a.p.m=ae(this.value),l(3,a)}function S(){a.p.e=this.checked,l(3,a)}function E(){a.p.t=this.value,l(3,a)}function R(){a.g.s=Dt(this),l(3,a)}function I(){a.g.u=this.value,l(3,a)}function H(){a.g.p=this.value,l(3,a)}function L(){a.m.d=Dt(this),l(3,a)}function N(){a.m.f=ae(this.value),l(3,a)}function q(){a.m.r=ae(this.value),l(3,a)}function U(){a.m.e.e=this.checked,l(3,a)}function W(){a.m.e.k=this.value,l(3,a)}function j(){a.m.m.e=this.checked,l(3,a)}function K(){a.m.m.w=ae(this.value),l(3,a)}function x(){a.m.m.v=ae(this.value),l(3,a)}function B(){a.m.m.a=ae(this.value),l(3,a)}function re(){a.m.m.c=ae(this.value),l(3,a)}function ie(){a.w.s=this.value,l(3,a)}function ee(){a.w.p=this.value,l(3,a)}function O(){a.w.z=Dt(this),l(3,a)}function X(){a.w.w=ae(this.value),l(3,a)}function ne(){a.w.a=this.checked,l(3,a)}function ce(){a.n.m=Dt(this),l(3,a)}function oe(){a.n.i=this.value,l(3,a)}function te(){a.n.s=Dt(this),l(3,a)}function Z(){a.n.g=this.value,l(3,a)}function pe(){a.n.d1=this.value,l(3,a)}function ye(){a.n.d2=this.value,l(3,a)}function Re(){a.n.d=this.checked,l(3,a)}function je(){a.n.h=this.checked,l(3,a)}function ze(){a.n.n1=this.value,l(3,a)}function Le(){a.q.s.e=this.checked,l(3,a)}function be(){a.q.h=this.value,l(3,a)}function we(){a.q.p=ae(this.value),l(3,a)}function se(){a.q.u=this.value,l(3,a)}function _e(){a.q.a=this.value,l(3,a)}function at(){a.q.c=this.value,l(3,a)}function Pe(){a.q.m=Dt(this),l(3,a)}function Me(){a.q.b=this.value,l(3,a)}function Ee(){a.o.e=this.value,l(3,a)}function De(){a.o.c=this.value,l(3,a)}function Ae(){a.o.u1=this.value,l(3,a)}function Fe(){a.o.u2=this.value,l(3,a)}function fe(){a.o.u3=this.value,l(3,a)}function ke(){a.h.t=this.value,l(3,a)}function ei(){a.h.h=this.value,l(3,a)}function ti(){a.h.n=this.value,l(3,a)}function li(Ue){a.t.t[Ue]=ae(this.value),l(3,a)}function kt(){a.t.h=ae(this.value),l(3,a)}function ni(Ue){a.u[Ue.key]=Dt(this),l(3,a)}function jl(){a.i.a=ae(this.value),l(3,a)}function sl(){a.i.l.i=this.checked,l(3,a)}function Gt(){a.i.l.p=ae(this.value),l(3,a)}function ii(){a.i.r.i=this.checked,l(3,a)}function si(){a.i.r.r=ae(this.value),l(3,a)}function oi(){a.i.r.g=ae(this.value),l(3,a)}function Je(){a.i.r.b=ae(this.value),l(3,a)}function ri(){a.i.t.d=ae(this.value),l(3,a)}function Yt(){a.i.t.a=ae(this.value),l(3,a)}function ui(){a.i.v.p=ae(this.value),l(3,a)}function ai(){a.i.v.d.v=ae(this.value),l(3,a)}function fi(){a.i.v.d.g=ae(this.value),l(3,a)}function xe(){a.i.v.o=ae(this.value),l(3,a)}function ci(){a.i.v.m=ae(this.value),l(3,a)}function Kt(){a.i.v.b=ae(this.value),l(3,a)}function Ul(){a.d.s=this.checked,l(3,a)}function ft(){a.d.t=this.checked,l(3,a)}function mi(){a.d.l=Dt(this),l(3,a)}return t.$$set=Ue=>{"sysinfo"in Ue&&l(0,n=Ue.sysinfo)},t.$$.update=()=>{t.$$.dirty[0]&1&&l(6,h=n.chip=="esp8266"?16:n.chip=="esp32s2"?44:39)},[n,s,u,a,f,m,h,i,_,p,d,b,g,w,k,$,M,F,S,E,R,I,H,L,N,q,U,W,j,K,x,B,re,ie,ee,O,X,ne,ce,oe,te,Z,pe,ye,Re,je,ze,Le,be,we,se,_e,at,Pe,Me,Ee,De,Ae,Fe,fe,ke,ei,ti,li,kt,ni,jl,sl,Gt,ii,si,oi,Je,ri,Yt,ui,ai,fi,xe,ci,Kt,Ul,ft,mi]}class Gm extends ge{constructor(e){super(),he(this,e,Bm,Wm,ve,{sysinfo:0},null,[-1,-1,-1,-1])}}function La(t,e,l){const n=t.slice();return n[19]=e[l],n}function Ym(t){let e=mu(t[1].chip,t[1].board)+"",l;return{c(){l=T(e)},m(n,i){C(n,l,i)},p(n,i){i&2&&e!==(e=mu(n[1].chip,n[1].board)+"")&&J(l,e)},d(n){n&&y(l)}}}function qa(t){let e,l,n=t[1].apmac+"",i,s,u,a,f,m,_,p,d,b=vu(t[1])+"",h,g,w=t[1].boot_reason+"",k,$,M=t[1].ex_cause+"",F,S,E;const R=[Vm,Km],I=[];function H(L,N){return L[0].u>0?0:1}return f=H(t),m=I[f]=R[f](t),{c(){e=c("div"),l=T("AP MAC: "),i=T(n),s=v(),u=c("div"),a=T(`Letzter Neustart:
            `),m.c(),_=v(),p=c("div"),d=T("Grund: "),h=T(b),g=T(" ("),k=T(w),$=T("/"),F=T(M),S=T(")"),r(e,"class","my-2"),r(u,"class","my-2"),r(p,"class","my-2")},m(L,N){C(L,e,N),o(e,l),o(e,i),C(L,s,N),C(L,u,N),o(u,a),I[f].m(u,null),C(L,_,N),C(L,p,N),o(p,d),o(p,h),o(p,g),o(p,k),o(p,$),o(p,F),o(p,S),E=!0},p(L,N){(!E||N&2)&&n!==(n=L[1].apmac+"")&&J(i,n);let q=f;f=H(L),f===q?I[f].p(L,N):(Ce(),A(I[q],1,1,()=>{I[q]=null}),$e(),m=I[f],m?m.p(L,N):(m=I[f]=R[f](L),m.c()),P(m,1),m.m(u,null)),(!E||N&2)&&b!==(b=vu(L[1])+"")&&J(h,b),(!E||N&2)&&w!==(w=L[1].boot_reason+"")&&J(k,w),(!E||N&2)&&M!==(M=L[1].ex_cause+"")&&J(F,M)},i(L){E||(P(m),E=!0)},o(L){A(m),E=!1},d(L){L&&y(e),L&&y(s),L&&y(u),I[f].d(),L&&y(_),L&&y(p)}}}function Km(t){let e;return{c(){e=T("-")},m(l,n){C(l,e,n)},p:ue,i:ue,o:ue,d(l){l&&y(e)}}}function Vm(t){let e,l;return e=new Nf({props:{timestamp:new Date(new Date().getTime()-t[0].u*1e3),fullTimeColor:""}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.timestamp=new Date(new Date().getTime()-n[0].u*1e3)),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function Oa(t){let e,l,n,i,s,u=Zi(t[1].meter.mfg)+"",a,f,m,_,p=t[1].meter.model+"",d,b,h,g,w=t[1].meter.id+"",k;return{c(){e=c("div"),l=c("strong"),l.textContent="Stromzaehler",n=v(),i=c("div"),s=T("Hersteller: "),a=T(u),f=v(),m=c("div"),_=T("Model: "),d=T(p),b=v(),h=c("div"),g=T("ID: "),k=T(w),r(l,"class","text-sm"),r(i,"class","my-2"),r(m,"class","my-2"),r(h,"class","my-2"),r(e,"class","cnt")},m($,M){C($,e,M),o(e,l),o(e,n),o(e,i),o(i,s),o(i,a),o(e,f),o(e,m),o(m,_),o(m,d),o(e,b),o(e,h),o(h,g),o(h,k)},p($,M){M&2&&u!==(u=Zi($[1].meter.mfg)+"")&&J(a,u),M&2&&p!==(p=$[1].meter.model+"")&&J(d,p),M&2&&w!==(w=$[1].meter.id+"")&&J(k,w)},d($){$&&y(e)}}}function ja(t){let e,l,n,i,s,u=t[1].net.ip+"",a,f,m,_,p=t[1].net.mask+"",d,b,h,g,w=t[1].net.gw+"",k,$,M,F,S=t[1].net.dns1+"",E,R,I=t[1].net.dns2&&Ua(t);return{c(){e=c("div"),l=c("strong"),l.textContent="Netzwerk",n=v(),i=c("div"),s=T("IP: "),a=T(u),f=v(),m=c("div"),_=T("Mask: "),d=T(p),b=v(),h=c("div"),g=T("Gateway: "),k=T(w),$=v(),M=c("div"),F=T("DNS: "),E=T(S),R=v(),I&&I.c(),r(l,"class","text-sm"),r(i,"class","my-2"),r(m,"class","my-2"),r(h,"class","my-2"),r(M,"class","my-2"),r(e,"class","cnt")},m(H,L){C(H,e,L),o(e,l),o(e,n),o(e,i),o(i,s),o(i,a),o(e,f),o(e,m),o(m,_),o(m,d),o(e,b),o(e,h),o(h,g),o(h,k),o(e,$),o(e,M),o(M,F),o(M,E),o(M,R),I&&I.m(M,null)},p(H,L){L&2&&u!==(u=H[1].net.ip+"")&&J(a,u),L&2&&p!==(p=H[1].net.mask+"")&&J(d,p),L&2&&w!==(w=H[1].net.gw+"")&&J(k,w),L&2&&S!==(S=H[1].net.dns1+"")&&J(E,S),H[1].net.dns2?I?I.p(H,L):(I=Ua(H),I.c(),I.m(M,null)):I&&(I.d(1),I=null)},d(H){H&&y(e),I&&I.d()}}}function Ua(t){let e,l=t[1].net.dns2+"",n;return{c(){e=T("/ "),n=T(l)},m(i,s){C(i,e,s),C(i,n,s)},p(i,s){s&2&&l!==(l=i[1].net.dns2+"")&&J(n,l)},d(i){i&&y(e),i&&y(n)}}}function Ha(t){let e,l,n,i,s,u;function a(_,p){return _[3].length==0?Xm:Qm}let f=a(t),m=f(t);return{c(){e=c("div"),l=c("form"),n=c("input"),i=v(),m.c(),Xa(n,"display","none"),r(n,"name","file"),r(n,"type","file"),r(n,"accept",".bin"),r(l,"action","/firmware"),r(l,"enctype","multipart/form-data"),r(l,"method","post"),r(l,"autocomplete","off"),r(e,"class","my-2 flex")},m(_,p){C(_,e,p),o(e,l),o(l,n),t[10](n),o(l,i),m.m(l,null),s||(u=[V(n,"change",t[11]),V(l,"submit",t[13])],s=!0)},p(_,p){f===(f=a(_))&&m?m.p(_,p):(m.d(1),m=f(_),m&&(m.c(),m.m(l,null)))},d(_){_&&y(e),t[10](null),m.d(),s=!1,Oe(u)}}}function Qm(t){let e,l=t[3][0].name+"",n,i,s;return{c(){e=T('File "'),n=T(l),i=T(`" 
                `),s=c("button"),s.textContent="Jetzt installieren",r(s,"type","submit"),r(s,"class","btn-pri-sm2 float-right")},m(u,a){C(u,e,a),C(u,n,a),C(u,i,a),C(u,s,a)},p(u,a){a&8&&l!==(l=u[3][0].name+"")&&J(n,l)},d(u){u&&y(e),u&&y(n),u&&y(i),u&&y(s)}}}function Xm(t){let e,l,n;return{c(){e=c("button"),e.textContent="Firmware File auswaehlen",r(e,"type","button"),r(e,"class","btn-pri-sm float-right")},m(i,s){C(i,e,s),l||(n=V(e,"click",t[12]),l=!0)},p:ue,d(i){i&&y(e),l=!1,n()}}}function Wa(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g=t[8],w=[];for(let S=0;S<g.length;S+=1)w[S]=za(La(t,g,S));let k=t[6].length==0&&Ba();function $(S,E){return S[6].length==0?Jm:Zm}let M=$(t),F=M(t);return{c(){e=c("div"),l=c("strong"),l.textContent="Konfiguration sichern & laden",n=v(),i=c("form"),s=c("div");for(let S=0;S<w.length;S+=1)w[S].c();u=v(),a=c("label"),a.innerHTML='<input type="checkbox" class="rounded" name="ic" value="true"/> inkl. Passwoerter<br/><small>(SSID, PSK, passwords and tokens)</small>',f=v(),k&&k.c(),m=v(),_=c("form"),p=c("input"),d=v(),F.c(),r(l,"class","text-sm"),r(a,"class","my-1 mx-3 col-span-2"),r(s,"class","grid grid-cols-2"),r(i,"method","get"),r(i,"action","/configfile.cfg"),r(i,"autocomplete","off"),Xa(p,"display","none"),r(p,"name","file"),r(p,"type","file"),r(p,"accept",".cfg"),r(_,"action","/configfile"),r(_,"enctype","multipart/form-data"),r(_,"method","post"),r(_,"autocomplete","off"),r(e,"class","cnt")},m(S,E){C(S,e,E),o(e,l),o(e,n),o(e,i),o(i,s);for(let R=0;R<w.length;R+=1)w[R].m(s,null);o(s,u),o(s,a),o(i,f),k&&k.m(i,null),o(e,m),o(e,_),o(_,p),t[14](p),o(_,d),F.m(_,null),b||(h=[V(p,"change",t[15]),V(_,"submit",t[17])],b=!0)},p(S,E){if(E&256){g=S[8];let R;for(R=0;R<g.length;R+=1){const I=La(S,g,R);w[R]?w[R].p(I,E):(w[R]=za(I),w[R].c(),w[R].m(s,u))}for(;R<w.length;R+=1)w[R].d(1);w.length=g.length}S[6].length==0?k||(k=Ba(),k.c(),k.m(i,null)):k&&(k.d(1),k=null),M===(M=$(S))&&F?F.p(S,E):(F.d(1),F=M(S),F&&(F.c(),F.m(_,null)))},d(S){S&&y(e),pl(w,S),k&&k.d(),t[14](null),F.d(),b=!1,Oe(h)}}}function za(t){let e,l,n,i=t[19].name+"",s;return{c(){e=c("label"),l=c("input"),n=v(),s=T(i),r(l,"type","checkbox"),r(l,"class","rounded"),r(l,"name",t[19].key),l.value="true",l.checked=!0,r(e,"class","my-1 mx-3")},m(u,a){C(u,e,a),o(e,l),o(e,n),o(e,s)},p:ue,d(u){u&&y(e)}}}function Ba(t){let e;return{c(){e=c("button"),e.textContent="Konfig. sichern",r(e,"type","submit"),r(e,"class","btn-pri-sm float-right")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function Zm(t){let e=t[6][0].name+"",l,n,i;return{c(){l=T(e),n=v(),i=c("button"),i.textContent="Konfig. laden",r(i,"type","submit"),r(i,"class","btn-pri-sm2")},m(s,u){C(s,l,u),C(s,n,u),C(s,i,u)},p(s,u){u&64&&e!==(e=s[6][0].name+"")&&J(l,e)},d(s){s&&y(l),s&&y(n),s&&y(i)}}}function Jm(t){let e,l,n;return{c(){e=c("button"),e.textContent="Waehle Konfig. File...",r(e,"type","button"),r(e,"class","btn-pri-sm")},m(i,s){C(i,e,s),l||(n=V(e,"click",t[16]),l=!0)},p:ue,d(i){i&&y(e),l=!1,n()}}}function xm(t){let e,l,n,i,s,u,a=t[1].chip+"",f,m,_,p,d,b,h,g,w=t[1].mac+"",k,$,M,F,S,E,R,I,H,L,N,q,U,W,j,K,x,B,re,ie,ee;d=new ql({props:{to:"/vendor",$$slots:{default:[Ym]},$$scope:{ctx:t}}});let O=t[1].apmac&&t[1].apmac!=t[1].mac&&qa(t),X=t[1].meter&&Oa(t),ne=t[1].net&&ja(t),ce=(t[1].security==0||t[0].a)&&Ha(t),oe=(t[1].security==0||t[0].a)&&Wa(t);return K=new dt({props:{active:t[4],message:"Firmware wird installiert, bitte warten ...."}}),B=new dt({props:{active:t[7],message:"Konfiguration wird geladen, bitte warten ...."}}),{c(){e=c("div"),l=c("div"),n=c("strong"),n.textContent="ESP Information",i=v(),s=c("div"),u=T("Chip: "),f=T(a),m=v(),_=c("div"),p=T("Device: "),Q(d.$$.fragment),b=v(),h=c("div"),g=T("MAC: "),k=T(w),$=v(),O&&O.c(),M=v(),F=c("div"),S=c("button"),S.textContent="Neustart",E=v(),X&&X.c(),R=v(),ne&&ne.c(),I=v(),H=c("div"),L=c("strong"),L.textContent="Firmware",N=v(),q=c("div"),q.textContent="Neue Firmware (*.bin) installieren:",U=v(),ce&&ce.c(),W=v(),oe&&oe.c(),j=v(),Q(K.$$.fragment),x=v(),Q(B.$$.fragment),r(n,"class","text-sm"),r(s,"class","my-2"),r(_,"class","my-2"),r(h,"class","my-2"),r(S,"class","text-xs py-1 px-2 rounded bg-yellow-500 text-white mr-3 float-right"),r(F,"class","my-2"),r(l,"class","cnt"),r(L,"class","text-sm"),r(q,"class","my-2"),r(H,"class","cnt"),r(e,"class","grid xl:grid-cols-5 lg:grid-cols-3 md:grid-cols-2")},m(te,Z){C(te,e,Z),o(e,l),o(l,n),o(l,i),o(l,s),o(s,u),o(s,f),o(l,m),o(l,_),o(_,p),G(d,_,null),o(l,b),o(l,h),o(h,g),o(h,k),o(l,$),O&&O.m(l,null),o(l,M),o(l,F),o(F,S),o(e,E),X&&X.m(e,null),o(e,R),ne&&ne.m(e,null),o(e,I),o(e,H),o(H,L),o(H,N),o(H,q),o(H,U),ce&&ce.m(H,null),o(e,W),oe&&oe.m(e,null),C(te,j,Z),G(K,te,Z),C(te,x,Z),G(B,te,Z),re=!0,ie||(ee=V(S,"click",t[9]),ie=!0)},p(te,[Z]){(!re||Z&2)&&a!==(a=te[1].chip+"")&&J(f,a);const pe={};Z&4194306&&(pe.$$scope={dirty:Z,ctx:te}),d.$set(pe),(!re||Z&2)&&w!==(w=te[1].mac+"")&&J(k,w),te[1].apmac&&te[1].apmac!=te[1].mac?O?(O.p(te,Z),Z&2&&P(O,1)):(O=qa(te),O.c(),P(O,1),O.m(l,M)):O&&(Ce(),A(O,1,1,()=>{O=null}),$e()),te[1].meter?X?X.p(te,Z):(X=Oa(te),X.c(),X.m(e,R)):X&&(X.d(1),X=null),te[1].net?ne?ne.p(te,Z):(ne=ja(te),ne.c(),ne.m(e,I)):ne&&(ne.d(1),ne=null),te[1].security==0||te[0].a?ce?ce.p(te,Z):(ce=Ha(te),ce.c(),ce.m(H,null)):ce&&(ce.d(1),ce=null),te[1].security==0||te[0].a?oe?oe.p(te,Z):(oe=Wa(te),oe.c(),oe.m(e,null)):oe&&(oe.d(1),oe=null);const ye={};Z&16&&(ye.active=te[4]),K.$set(ye);const Re={};Z&128&&(Re.active=te[7]),B.$set(Re)},i(te){re||(P(d.$$.fragment,te),P(O),P(K.$$.fragment,te),P(B.$$.fragment,te),re=!0)},o(te){A(d.$$.fragment,te),A(O),A(K.$$.fragment,te),A(B.$$.fragment,te),re=!1},d(te){te&&y(e),Y(d),O&&O.d(),X&&X.d(),ne&&ne.d(),ce&&ce.d(),oe&&oe.d(),te&&y(j),Y(K,te),te&&y(x),Y(B,te),ie=!1,ee()}}}async function ep(){await(await fetch("/reboot",{method:"POST"})).json()}function tp(t,e,l){let{data:n}=e,{sysinfo:i}=e,s=[{name:"WiFi",key:"iw"},{name:"MQTT",key:"im"},{name:"Web",key:"ie"},{name:"Meter",key:"it"},{name:"Thresholds",key:"ih"},{name:"GPIO",key:"ig"},{name:"NTP",key:"in"},{name:"Price API",key:"is"}];const u=function(){confirm("Wollen sie den ESP32 Microprozessor jetzt neu starten?")&&(Bt.update(S=>(S.booting=!0,S)),ep())};let a,f=[],m=!1,_,p=[],d=!1;Gs();function b(S){Qi[S?"unshift":"push"](()=>{a=S,l(2,a)})}function h(){f=this.files,l(3,f)}const g=()=>{a.click()},w=()=>l(4,m=!0);function k(S){Qi[S?"unshift":"push"](()=>{_=S,l(5,_)})}function $(){p=this.files,l(6,p)}const M=()=>{_.click()},F=()=>l(7,d=!0);return t.$$set=S=>{"data"in S&&l(0,n=S.data),"sysinfo"in S&&l(1,i=S.sysinfo)},[n,i,a,f,m,_,p,d,s,u,b,h,g,w,k,$,M,F]}class lp extends ge{constructor(e){super(),he(this,e,tp,xm,ve,{data:0,sysinfo:1})}}function np(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w,k,$,M,F,S,E;return M=new dt({props:{active:t[0],message:"Saving device configuration"}}),{c(){e=c("div"),l=c("div"),n=c("form"),i=c("input"),s=v(),u=c("strong"),u.textContent="Initial configuration",a=v(),f=c("strong"),f.textContent="is easy....just press NEXT",m=v(),_=c("div"),p=c("label"),d=c("input"),b=T(" Clear all other configuration"),h=v(),g=c("div"),g.innerHTML='<button type="submit" class="btn-pri">NEXT</button>',w=v(),k=c("span"),k.textContent="\xA0",$=v(),Q(M.$$.fragment),r(i,"type","hidden"),r(i,"name","v"),i.value="true",r(u,"class","text-sm"),r(f,"class","text-sm"),r(d,"type","checkbox"),r(d,"name","vr"),d.__value="true",d.value=d.__value,r(d,"class","rounded mb-1"),r(_,"class","my-3"),r(g,"class","my-3"),r(k,"class","clear-both"),r(n,"autocomplete","off"),r(l,"class","cnt"),r(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(R,I){C(R,e,I),o(e,l),o(l,n),o(n,i),o(n,s),o(n,u),o(n,a),o(n,f),o(n,m),o(n,_),o(_,p),o(p,d),d.checked=t[1],o(p,b),o(n,h),o(n,g),o(n,w),o(n,k),C(R,$,I),G(M,R,I),F=!0,S||(E=[V(d,"change",t[4]),V(n,"submit",Ji(t[2]))],S=!0)},p(R,[I]){I&2&&(d.checked=R[1]);const H={};I&1&&(H.active=R[0]),M.$set(H)},i(R){F||(P(M.$$.fragment,R),F=!0)},o(R){A(M.$$.fragment,R),F=!1},d(R){R&&y(e),R&&y($),Y(M,R),S=!1,Oe(E)}}}function ip(t,e,l){let{sysinfo:n={}}=e,i=!1;async function s(f){l(0,i=!0);const m=new FormData(f.target),_=new URLSearchParams;for(let b of m){const[h,g]=b;_.append(h,g)}let d=await(await fetch("/save",{method:"POST",body:_})).json();l(0,i=!1),Bt.update(b=>(b.vndcfg=d.success,b.booting=d.reboot,b)),An(n.usrcfg?"/":"/setup")}let u=!1;function a(){u=this.checked,l(1,u),l(3,n)}return t.$$set=f=>{"sysinfo"in f&&l(3,n=f.sysinfo)},t.$$.update=()=>{t.$$.dirty&8&&l(1,u=!n.usrcfg)},[i,u,s,n,a]}class sp extends ge{constructor(e){super(),he(this,e,ip,np,ve,{sysinfo:3})}}function Ga(t){let e,l,n,i,s,u,a,f;return a=new qf({}),{c(){e=c("br"),l=v(),n=c("div"),i=c("input"),s=v(),u=c("select"),Q(a.$$.fragment),r(i,"name","si"),r(i,"type","text"),r(i,"class","in-f w-full"),i.required=t[1],r(u,"name","su"),r(u,"class","in-l"),u.required=t[1],r(n,"class","flex")},m(m,_){C(m,e,_),C(m,l,_),C(m,n,_),o(n,i),o(n,s),o(n,u),G(a,u,null),f=!0},p(m,_){(!f||_&2)&&(i.required=m[1]),(!f||_&2)&&(u.required=m[1])},i(m){f||(P(a.$$.fragment,m),f=!0)},o(m){A(a.$$.fragment,m),f=!1},d(m){m&&y(e),m&&y(l),m&&y(n),Y(a)}}}function Ya(t){let e;return{c(){e=c("div"),e.innerHTML=`<div>Gateway<br/> 
                    <input name="sg" type="text" class="in-f w-full"/></div> 
                <div>DNS<br/> 
                    <input name="sd" type="text" class="in-l w-full"/></div>`,r(e,"class","my-3 flex")},m(l,n){C(l,e,n)},d(l){l&&y(e)}}}function op(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w,k,$,M,F,S,E,R,I,H,L,N,q,U=t[1]&&Ga(t),W=t[1]&&Ya();return H=new dt({props:{active:t[2],message:"Saving your configuration to the device"}}),{c(){e=c("div"),l=c("div"),n=c("form"),i=c("input"),s=v(),u=c("strong"),u.textContent="Setup",a=v(),f=c("div"),f.innerHTML=`SSID<br/> 
                <input name="ss" type="text" class="in-s" required=""/>`,m=v(),_=c("div"),_.innerHTML=`PSK<br/> 
                <input name="sp" type="password" class="in-s" autocomplete="off"/>`,p=v(),d=c("div"),b=T(`Hostname
                `),h=c("input"),g=v(),w=c("div"),k=c("label"),$=c("input"),M=T(" Static IP"),F=v(),U&&U.c(),S=v(),W&&W.c(),E=v(),R=c("div"),R.innerHTML='<button type="submit" class="btn-pri">Save</button>',I=v(),Q(H.$$.fragment),r(i,"type","hidden"),r(i,"name","s"),i.value="true",r(u,"class","text-sm"),r(f,"class","my-3"),r(_,"class","my-3"),r(h,"name","sh"),r(h,"type","text"),r(h,"class","in-s"),r(h,"maxlength","32"),r(h,"pattern","[A-Za-z0-9_-]+"),r(h,"placeholder","Optional, ex.: stromzaehler"),r(h,"autocomplete","off"),r($,"type","checkbox"),r($,"name","sm"),$.__value="static",$.value=$.__value,r($,"class","rounded mb-1"),r(w,"class","my-3"),r(R,"class","my-3"),r(l,"class","cnt"),r(e,"class","grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2")},m(j,K){C(j,e,K),o(e,l),o(l,n),o(n,i),o(n,s),o(n,u),o(n,a),o(n,f),o(n,m),o(n,_),o(n,p),o(n,d),o(d,b),o(d,h),z(h,t[0].hostname),o(n,g),o(n,w),o(w,k),o(k,$),$.checked=t[1],o(k,M),o(w,F),U&&U.m(w,null),o(n,S),W&&W.m(n,null),o(n,E),o(n,R),C(j,I,K),G(H,j,K),L=!0,N||(q=[V(h,"input",t[4]),V($,"change",t[5]),V(n,"submit",Ji(t[3]))],N=!0)},p(j,[K]){K&1&&h.value!==j[0].hostname&&z(h,j[0].hostname),K&2&&($.checked=j[1]),j[1]?U?(U.p(j,K),K&2&&P(U,1)):(U=Ga(j),U.c(),P(U,1),U.m(w,null)):U&&(Ce(),A(U,1,1,()=>{U=null}),$e()),j[1]?W||(W=Ya(),W.c(),W.m(n,E)):W&&(W.d(1),W=null);const x={};K&4&&(x.active=j[2]),H.$set(x)},i(j){L||(P(U),P(H.$$.fragment,j),L=!0)},o(j){A(U),A(H.$$.fragment,j),L=!1},d(j){j&&y(e),U&&U.d(),W&&W.d(),j&&y(I),Y(H,j),N=!1,Oe(q)}}}function rp(t,e,l){let{sysinfo:n={}}=e,i=!1,s=!1,u=0;function a(){var p="";u++;var d=function(){setTimeout(a,1e3)};if(n.net.ip&&u%3==0){if(!n.net.ip){d();return}p="http://"+n.net.ip}else n.hostname&&u%3==1?p="http://"+n.hostname:n.hostname&&u%3==2?p="http://"+n.hostname+".local":p="";console&&console.log("Trying url "+p),Bt.update(h=>(h.trying=p,h));var b=new XMLHttpRequest;b.timeout=5e3,b.addEventListener("abort",d),b.addEventListener("error",d),b.addEventListener("timeout",d),b.addEventListener("load",function(h){window.location.href=p||"/"}),b.open("GET",p+"/is-alive",!0),b.send()}async function f(p){l(2,s=!0);const d=new FormData(p.target),b=new URLSearchParams;for(let w of d){const[k,$]=w;b.append(k,$)}let g=await(await fetch("/save",{method:"POST",body:b})).json();l(2,s=!1),Bt.update(w=>(w.hostname=d.get("sh"),w.usrcfg=g.success,w.booting=g.reboot,i&&(w.net.ip=d.get("si"),w.net.mask=d.get("su"),w.net.gw=d.get("sg"),w.net.dns1=d.get("sd")),setTimeout(a,5e3),w))}function m(){n.hostname=this.value,l(0,n)}function _(){i=this.checked,l(1,i)}return t.$$set=p=>{"sysinfo"in p&&l(0,n=p.sysinfo)},[n,i,s,f,m,_]}class up extends ge{constructor(e){super(),he(this,e,rp,op,ve,{sysinfo:0})}}function ap(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w,k;return h=new dt({props:{active:t[2],message:"Uploading file, please wait"}}),{c(){e=c("div"),l=c("div"),n=c("strong"),i=T("Upload "),s=T(t[1]),u=v(),a=c("p"),a.textContent="Select a suitable file and click upload",f=v(),m=c("form"),_=c("input"),p=v(),d=c("div"),d.innerHTML='<button type="submit" class="btn-pri">Upload</button>',b=v(),Q(h.$$.fragment),r(a,"class","mb-4"),r(_,"name","file"),r(_,"type","file"),r(d,"class","w-full text-right mt-4"),r(m,"action",t[0]),r(m,"enctype","multipart/form-data"),r(m,"method","post"),r(m,"autocomplete","off"),r(l,"class","cnt"),r(e,"class","grid xl:grid-cols-4 lg:grid-cols-2 md:grid-cols-2")},m($,M){C($,e,M),o(e,l),o(l,n),o(n,i),o(n,s),o(l,u),o(l,a),o(l,f),o(l,m),o(m,_),o(m,p),o(m,d),C($,b,M),G(h,$,M),g=!0,w||(k=V(m,"submit",t[3]),w=!0)},p($,[M]){(!g||M&2)&&J(s,$[1]),(!g||M&1)&&r(m,"action",$[0]);const F={};M&4&&(F.active=$[2]),h.$set(F)},i($){g||(P(h.$$.fragment,$),g=!0)},o($){A(h.$$.fragment,$),g=!1},d($){$&&y(e),$&&y(b),Y(h,$),w=!1,k()}}}function fp(t,e,l){let{action:n}=e,{title:i}=e,s=!1;const u=()=>l(2,s=!0);return t.$$set=a=>{"action"in a&&l(0,n=a.action),"title"in a&&l(1,i=a.title)},[n,i,s,u]}class Qs extends ge{constructor(e){super(),he(this,e,fp,ap,ve,{action:0,title:1})}}function cp(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w,k,$,M,F,S,E,R,I,H,L,N,q,U,W,j;return q=new dt({props:{active:t[1],message:"Saving preferences"}}),{c(){e=c("div"),l=c("div"),n=c("form"),i=c("div"),i.textContent="Various permissions we need to do stuff:",s=v(),u=c("hr"),a=v(),f=c("div"),m=T("Enable one-click upgrade? (implies data collection)"),_=c("br"),p=v(),d=c("a"),b=T("Read more"),h=c("br"),g=v(),w=c("label"),k=c("input"),M=T(" Yes"),F=c("label"),S=c("input"),R=T(" No"),I=c("br"),H=v(),L=c("div"),L.innerHTML='<button type="submit" class="btn-pri">Save</button>',N=v(),Q(q.$$.fragment),r(d,"href",Ft("Data-collection-on-one-click-firmware-upgrade")),r(d,"target","_blank"),r(d,"class","text-blue-600 hover:text-blue-800"),r(k,"type","radio"),r(k,"name","sf"),k.value=1,k.checked=$=t[0].fwconsent===1,r(k,"class","rounded m-2"),k.required=!0,r(S,"type","radio"),r(S,"name","sf"),S.value=2,S.checked=E=t[0].fwconsent===2,r(S,"class","rounded m-2"),S.required=!0,r(f,"class","my-3"),r(L,"class","my-3"),r(n,"autocomplete","off"),r(l,"class","cnt"),r(e,"class","grid xl:grid-cols-3 lg:grid-cols-2")},m(K,x){C(K,e,x),o(e,l),o(l,n),o(n,i),o(n,s),o(n,u),o(n,a),o(n,f),o(f,m),o(f,_),o(f,p),o(f,d),o(d,b),o(f,h),o(f,g),o(f,w),o(w,k),o(w,M),o(f,F),o(F,S),o(F,R),o(f,I),o(n,H),o(n,L),C(K,N,x),G(q,K,x),U=!0,W||(j=V(n,"submit",Ji(t[2])),W=!0)},p(K,[x]){(!U||x&1&&$!==($=K[0].fwconsent===1))&&(k.checked=$),(!U||x&1&&E!==(E=K[0].fwconsent===2))&&(S.checked=E);const B={};x&2&&(B.active=K[1]),q.$set(B)},i(K){U||(P(q.$$.fragment,K),U=!0)},o(K){A(q.$$.fragment,K),U=!1},d(K){K&&y(e),K&&y(N),Y(q,K),W=!1,j()}}}function mp(t,e,l){let{sysinfo:n={}}=e,i=!1;async function s(u){l(1,i=!0);const a=new FormData(u.target),f=new URLSearchParams;for(let p of a){const[d,b]=p;f.append(d,b)}let _=await(await fetch("/save",{method:"POST",body:f})).json();l(1,i=!1),Bt.update(p=>(p.fwconsent=a.sf===!0?1:a.sf===!1?2:0,p.booting=_.reboot,p)),An("/")}return t.$$set=u=>{"sysinfo"in u&&l(0,n=u.sysinfo)},[n,i,s]}class pp extends ge{constructor(e){super(),he(this,e,mp,cp,ve,{sysinfo:0})}}function _p(t){let e,l;return e=new Cm({props:{data:t[1],sysinfo:t[0]}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,i){const s={};i&2&&(s.data=n[1]),i&1&&(s.sysinfo=n[0]),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function dp(t){let e,l;return e=new Gm({props:{sysinfo:t[0]}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.sysinfo=n[0]),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function vp(t){let e,l;return e=new lp({props:{sysinfo:t[0],data:t[1]}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.sysinfo=n[0]),i&2&&(s.data=n[1]),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function hp(t){let e,l;return e=new Qs({props:{title:"CA",action:"/mqtt-ca"}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p:ue,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function gp(t){let e,l;return e=new Qs({props:{title:"certificate",action:"/mqtt-cert"}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p:ue,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function bp(t){let e,l;return e=new Qs({props:{title:"private key",action:"/mqtt-key"}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p:ue,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function kp(t){let e,l;return e=new pp({props:{sysinfo:t[0]}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.sysinfo=n[0]),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function wp(t){let e,l;return e=new up({props:{sysinfo:t[0]}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.sysinfo=n[0]),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function yp(t){let e,l;return e=new sp({props:{sysinfo:t[0]}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.sysinfo=n[0]),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function Cp(t){let e,l,n,i,s,u,a,f,m,_,p,d,b,h,g,w,k,$,M,F;return e=new N1({props:{data:t[1]}}),n=new ll({props:{path:"/",$$slots:{default:[_p]},$$scope:{ctx:t}}}),s=new ll({props:{path:"/configuration",$$slots:{default:[dp]},$$scope:{ctx:t}}}),a=new ll({props:{path:"/status",$$slots:{default:[vp]},$$scope:{ctx:t}}}),m=new ll({props:{path:"/mqtt-ca",$$slots:{default:[hp]},$$scope:{ctx:t}}}),p=new ll({props:{path:"/mqtt-cert",$$slots:{default:[gp]},$$scope:{ctx:t}}}),b=new ll({props:{path:"/mqtt-key",$$slots:{default:[bp]},$$scope:{ctx:t}}}),g=new ll({props:{path:"/consent",$$slots:{default:[kp]},$$scope:{ctx:t}}}),k=new ll({props:{path:"/setup",$$slots:{default:[wp]},$$scope:{ctx:t}}}),M=new ll({props:{path:"/vendor",$$slots:{default:[yp]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),l=v(),Q(n.$$.fragment),i=v(),Q(s.$$.fragment),u=v(),Q(a.$$.fragment),f=v(),Q(m.$$.fragment),_=v(),Q(p.$$.fragment),d=v(),Q(b.$$.fragment),h=v(),Q(g.$$.fragment),w=v(),Q(k.$$.fragment),$=v(),Q(M.$$.fragment)},m(S,E){G(e,S,E),C(S,l,E),G(n,S,E),C(S,i,E),G(s,S,E),C(S,u,E),G(a,S,E),C(S,f,E),G(m,S,E),C(S,_,E),G(p,S,E),C(S,d,E),G(b,S,E),C(S,h,E),G(g,S,E),C(S,w,E),G(k,S,E),C(S,$,E),G(M,S,E),F=!0},p(S,E){const R={};E&2&&(R.data=S[1]),e.$set(R);const I={};E&7&&(I.$$scope={dirty:E,ctx:S}),n.$set(I);const H={};E&5&&(H.$$scope={dirty:E,ctx:S}),s.$set(H);const L={};E&7&&(L.$$scope={dirty:E,ctx:S}),a.$set(L);const N={};E&4&&(N.$$scope={dirty:E,ctx:S}),m.$set(N);const q={};E&4&&(q.$$scope={dirty:E,ctx:S}),p.$set(q);const U={};E&4&&(U.$$scope={dirty:E,ctx:S}),b.$set(U);const W={};E&5&&(W.$$scope={dirty:E,ctx:S}),g.$set(W);const j={};E&5&&(j.$$scope={dirty:E,ctx:S}),k.$set(j);const K={};E&5&&(K.$$scope={dirty:E,ctx:S}),M.$set(K)},i(S){F||(P(e.$$.fragment,S),P(n.$$.fragment,S),P(s.$$.fragment,S),P(a.$$.fragment,S),P(m.$$.fragment,S),P(p.$$.fragment,S),P(b.$$.fragment,S),P(g.$$.fragment,S),P(k.$$.fragment,S),P(M.$$.fragment,S),F=!0)},o(S){A(e.$$.fragment,S),A(n.$$.fragment,S),A(s.$$.fragment,S),A(a.$$.fragment,S),A(m.$$.fragment,S),A(p.$$.fragment,S),A(b.$$.fragment,S),A(g.$$.fragment,S),A(k.$$.fragment,S),A(M.$$.fragment,S),F=!1},d(S){Y(e,S),S&&y(l),Y(n,S),S&&y(i),Y(s,S),S&&y(u),Y(a,S),S&&y(f),Y(m,S),S&&y(_),Y(p,S),S&&y(d),Y(b,S),S&&y(h),Y(g,S),S&&y(w),Y(k,S),S&&y($),Y(M,S)}}}function $p(t){let e,l,n,i;const s=[Pp,Tp],u=[];function a(f,m){return f[0].trying?0:1}return e=a(t),l=u[e]=s[e](t),{c(){l.c(),n=He()},m(f,m){u[e].m(f,m),C(f,n,m),i=!0},p(f,m){let _=e;e=a(f),e===_?u[e].p(f,m):(Ce(),A(u[_],1,1,()=>{u[_]=null}),$e(),l=u[e],l?l.p(f,m):(l=u[e]=s[e](f),l.c()),P(l,1),l.m(n.parentNode,n))},i(f){i||(P(l),i=!0)},o(f){A(l),i=!1},d(f){u[e].d(f),f&&y(n)}}}function Sp(t){let e,l;return e=new dt({props:{active:"true",message:"Device is upgrading, please wait"}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p:ue,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function Tp(t){let e,l;return e=new dt({props:{active:"true",message:"Device is booting, please wait"}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p:ue,i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function Pp(t){let e,l;return e=new dt({props:{active:"true",message:"Device is booting, please wait. Trying to reach it on "+t[0].trying}}),{c(){Q(e.$$.fragment)},m(n,i){G(e,n,i),l=!0},p(n,i){const s={};i&1&&(s.message="Device is booting, please wait. Trying to reach it on "+n[0].trying),e.$set(s)},i(n){l||(P(e.$$.fragment,n),l=!0)},o(n){A(e.$$.fragment,n),l=!1},d(n){Y(e,n)}}}function Mp(t){let e,l,n,i,s,u;l=new kf({props:{$$slots:{default:[Cp]},$$scope:{ctx:t}}});const a=[Sp,$p],f=[];function m(_,p){return _[0].upgrading?0:_[0].booting?1:-1}return~(i=m(t))&&(s=f[i]=a[i](t)),{c(){e=c("div"),Q(l.$$.fragment),n=v(),s&&s.c(),r(e,"class","container mx-auto m-3")},m(_,p){C(_,e,p),G(l,e,null),o(e,n),~i&&f[i].m(e,null),u=!0},p(_,[p]){const d={};p&7&&(d.$$scope={dirty:p,ctx:_}),l.$set(d);let b=i;i=m(_),i===b?~i&&f[i].p(_,p):(s&&(Ce(),A(f[b],1,1,()=>{f[b]=null}),$e()),~i?(s=f[i],s?s.p(_,p):(s=f[i]=a[i](_),s.c()),P(s,1),s.m(e,null)):s=null)},i(_){u||(P(l.$$.fragment,_),P(s),u=!0)},o(_){A(l.$$.fragment,_),A(s),u=!1},d(_){_&&y(e),Y(l),~i&&f[i].d()}}}function Ep(t,e,l){let n={};Bt.subscribe(s=>{l(0,n=s),n.vndcfg===!1?An("/vendor"):n.usrcfg===!1?An("/setup"):n.fwconsent===0&&An("/consent")}),Gs();let i={};return n1.subscribe(s=>{l(1,i=s)}),[n,i]}class Dp extends ge{constructor(e){super(),he(this,e,Ep,Mp,ve,{})}}new Dp({target:document.getElementById("app")});
)=="==";
const int INDEX_JS_LEN PROGMEM = 164298;